{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dunzo</title>
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/index.global.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/index.global.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'calendarevent_app/css/calendar-app-styles.css' %}">

</head>
<body>
    <div class="outer-container">
        <!-- sidebar -->
        <div class="sidebar">
            <div class="logo">
                <button class="toggleSidebar">
                    <i class="fa-solid fa-bars-progress"></i>
                </button>
                <p>Dunzo</p>
            </div>

            <!-- navigation links -->
            <ul class="navigation">
                <li class="nav-item">
                    <i class="fa-solid fa-chart-line"></i>
                    <a href="{% url 'user_app:dashboard' %}">Dashboard</a>
                    
                </li>

                <li class="nav-item">
                    <i class="fa-solid fa-folder"></i>
                    <a href="{% url 'project_app:project' %}">Project</a>
                    
                </li>

                <li class="nav-item">
                    <i class="fa-solid fa-list-check"></i>
                    <a href="{% url 'task_app:task' %}">Task</a>
                </li>

                <li class="nav-item">
                    <i class="fa-solid fa-bars-staggered"></i>
                    <a href="{% url 'timeline_app:timeline' %}">Timeline</a>
                </li>

                <li class="nav-item">
                    <i class="fa-solid fa-calendar"></i>
                    <a href="{% url 'calendarevent_app:calendar' %}">Calendar</a>
                </li>

                <li class="nav-item">
                    <i class="fa-solid fa-gear"></i>
                    <a href="{% url 'user_app:settings' %}">Settings</a>
                </li>
            </ul>

             <!-- User SECTION-->
            <div class="user-profile">
                <div class="user-avatar">
                    JV
                </div>

                <div class="user-info">
                    <p class="user-name">Josephs Victors</p>
                    <p class="user-role">Student</p>
                </div>
            </div>

        </div>
        
        <!-- main section --> 
        <div class="main-section" id="main-content">
            <div class="top-bar">
        <div class="top-left">
            <h1 class="page-title">Calendar</h1>
        </div>

        <div class="top-right">
            <button class="add-event">
                <i class="fa-solid fa-plus"></i>
                Add Event
            </button>
        </div>
            </div>

            <div id='calendar'></div>
        </div>
    </div>
</body>

<script>
    // Initialize calendar if the element exists
    const calendarEl = document.getElementById('calendar');
    if (calendarEl) {
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            initialDate: '2025-11-21',
            // height: '100vh',
                contentHeight: 'auto',
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay'
            },
            events: [
                // Milestones
                { title: 'Project Kickoff', start: '2025-11-03', extendedProps: { type: 'milestone' }, color: '#1E90FF' },
                { title: 'Design Complete', start: '2025-11-10', extendedProps: { type: 'milestone' }, color: '#1E90FF' },
                { title: 'Development Complete', start: '2025-11-20', extendedProps: { type: 'milestone' }, color: '#1E90FF' },

                // Deadlines
                { title: 'Submit Requirements', start: '2025-11-05', extendedProps: { type: 'deadline' }, color: '#FF4500' },
                { title: 'Client Feedback Due', start: '2025-11-15', extendedProps: { type: 'deadline' }, color: '#FF4500' },
                { title: 'Final Submission', start: '2025-11-30', extendedProps: { type: 'deadline' }, color: '#FF4500' },

                // Meetings
                { title: 'Team Sync', start: '2025-11-04T10:00:00', extendedProps: { type: 'meeting' }, color: '#32CD32' },
                { title: 'Client Call', start: '2025-11-12T14:30:00', extendedProps: { type: 'meeting' }, color: '#32CD32' },
                { title: 'Project Review', start: '2025-11-18T16:00:00', extendedProps: { type: 'meeting' }, color: '#32CD32' },

                // long event
                { title: 'Cram for IM2 Django', start: '2025-12-01', end: '2025-12-06', extendedProps: { type: 'milestone' }, color: '#d64ecf' }
            ],

            
        });
        calendar.render();
    }
</script>

</html>
