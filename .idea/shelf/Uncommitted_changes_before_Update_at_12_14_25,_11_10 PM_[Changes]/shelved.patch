Index: frontend/src/components/projects-app-components/ModalExpandProject.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\nimport { useState } from 'react';\nimport { formatToDateInput } from '../../utils/formatToDateInput';\nimport { getInitials } from '../../utils/getInitials'\nimport { useNavigate} from 'react-router-dom';\n\nfunction ModalExpandProject({item, onClose}) {\n    const navigate = useNavigate();\n     // Local state for editing, initialized with current value\n    const [desc, setDesc] = useState(item?.desc || \"\");\n    const [dates, setDates] = useState(\n        {\n            start: formatToDateInput(item?.startDate),\n            end: formatToDateInput(item?.endDate),\n        }\n    );\n    return (\n        <div className='flex fixed justify-center overflow-y-scroll inset-0 z-1000 bg-zinc-300/80'>\n            {/* Item */}\n            <div className='flex flex-row my-auto min-h-100 h-fit rounded-2xl shadow'>\n                <div className='flex flex-col bg-white p-6 min-w-150 gap-3'>\n                    {/* project icon */}\n                    <div className='flex flex-row justify-between'>\n                        <div style={{ backgroundColor: item.color }} \n                            className='flex items-center justify-center bg-linear-to-br h-12 w-12 rounded-xl'>\n                            <span className='font-bold text-white text-xl'>{item.name[0]}</span>\n                        </div>\n\n                        <i className='fas fa-ellipsis-v'></i>\n                    </div>\n                    \n\n                    {/* project name */}\n                    <span className='font-semibold text-gray-900 text-md'>{item.name}</span>\n                    {/* dates */}\n                    <div className='text-sm text-gray-700'>\n\n                        <div className='flex flex-row gap-2'>\n                            <p>Start Date</p>\n                            <input\n                                type=\"date\"\n                                value={dates.start}\n                                onChange={(e) =>\n                                    setDates({ ...dates, start: e.target.value })\n                            }/>\n                        </div>\n\n                        <div className='flex flex-row gap-2'>\n                            <p>End Date</p>\n                            <input\n                                type=\"date\"\n                                value={dates.end}\n                                onChange={(e) =>\n                                    setDates({ ...dates, end: e.target.value })\n                            }/>\n                        </div>\n                    </div>\n\n                    {/* Description */}\n                    <div className='text-gray-700 text-sm my-1 '>\n                            <textarea\n                            value={desc}                     \n                            onChange={(e) => setDesc(e.target.value)}  // local changes\n                            className=\"w-full p-2 border rounded resize-none overflow-hidden\"\n                            onInput={(e) => {\n                            e.target.style.height = \"auto\";\n                            e.target.style.height = `${e.target.scrollHeight}px`;\n                            }}\n                            placeholder=\"Write a short description...\"\n                        />\n                    </div>\n\n                    {/* stats */}\n                    <div className='flex flex-row justify-around bg-gray-50 py-4 rounded-xl shadow-2xs'>\n                        <div className='flex flex-col items-center justify-center'>\n                            <p className='font-bold text-xl text-gray-800 m-0 p-0'>{item.numTask}</p>\n                            <p className='m-0 p-0 text-sm text-gray-600'>Task</p>\n                        </div>\n\n                        <div className='flex flex-col items-center justify-center'>\n                            <p className='font-bold text-xl text-gray-800 m-0 p-0'>{item.numComplete}</p>\n                            <p className='m-0 p-0 text-sm text-gray-600'>Done</p>\n                        </div>\n\n                        <div className='flex flex-col items-center justify-center'>\n                            <p className='font-bold text-xl text-gray-800 m-0 p-0'>{item.numMembers}</p>\n                            <p className='m-0 p-0 text-sm text-gray-600'>Team</p>\n                        </div>\n                    </div>\n                    {/* View tasks button */}\n                    <span className='font-medium text-sm text-green-500 hover:underline cursor-pointer'\n                            onClick={() => navigate(\"/task\")}>\n                        View Tasks\n                    </span>\n                    {/* Progress Bar */}\n                    <div className='flex flex-col'>\n                        <span className='text-gray-600 text-sm mb-1'>Overall Progress</span>\n                        <div className='bg-gray-300 w-full h-2 rounded-full shadow-2xl'>\n                            <div className={` h-2 rounded-full\n                                            ${item.percentage == '100' ? 'bg-green-500' : 'bg-red-500'}`} \n                                style={{ width: `${item.percentage}%` }}>\n                            </div>\n                        </div>\n                    </div>\n                            \n                    <div className='flex flex-row mt-3 justify-between align-middle'>\n                            {/* members */}\n                            \n                        <div className='flex flex-row gap-1'>\n\n                            {item.name !== 'General' ? (\n                                <div className='flex items-center justify-center rounded-full h-9 w-9 bg-gray-100 text-gray-600 text-sm font-semibold border-gray-300 border-2 cursor-pointer'>\n                                    <i className=\"fa-solid fa-plus\"></i>\n                                </div>\n                            ) : null}\n                            \n                            {item.members.map((mem) => (\n                                <div\n                                key={mem.id}\n                                style={{ backgroundColor: mem.avatarColor }}\n                                className='flex items-center justify-center rounded-full h-9 w-9 text-white text-sm font-semibold border-white border-2 transition duration-300 hover:-translate-y-1 cursor-pointer'\n                                >\n                                {getInitials(mem.name)}\n                                </div>\n                            ))}\n                        </div>\n                        \n                        {/* status */}\n                        <div className={`flex flex-row items-center justify-center font-semibold py-1 px-4 rounded-full\n                                ${item.status === 'Active' && 'bg-blue-100 text-blue-500'}\n                                ${item.status === 'Completed' && 'bg-green-100 text-green-500'}\n                                ${item.status === 'Archived' && 'bg-gray-200 text-gray-700'}`}>\n                            {item.status}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Comment section */}\n                <div className='flex flex-col w-120 py-5 px-5 bg-gray-100'>\n                    <div className='flex flex-row justify-between gap-2 '>\n                        <div className='flex flex-row items-center gap-2 text-md font-medium text-gray-900'>\n                            <i className=\"fa-regular fa-message\"></i>\n                            <span>Comments</span>\n                        </div>\n                        <button className='cursor-pointer'onClick={onClose}>\n                            <i className=\"fa-regular fa-circle-xmark text-xl\"></i>\n                        </button>\n                    </div>\n                    \n                    <textarea\n                        placeholder=\"Write a short description...\"\n                        className=\"w-full mt-2 p-2 border rounded resize-none overflow-hidden text-sm min-h-[60px]\"\n                        onInput={(e) => {\n                            e.target.style.height = \"auto\";\n                            e.target.style.height = `${e.target.scrollHeight}px`;\n                        }}\n                    />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ModalExpandProject
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/projects-app-components/ModalExpandProject.jsx b/frontend/src/components/projects-app-components/ModalExpandProject.jsx
--- a/frontend/src/components/projects-app-components/ModalExpandProject.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/components/projects-app-components/ModalExpandProject.jsx	(date 1765723263341)
@@ -1,160 +1,85 @@
-import React from 'react'
-import { useState } from 'react';
+import React, { useState, useEffect } from 'react'
 import { formatToDateInput } from '../../utils/formatToDateInput';
 import { getInitials } from '../../utils/getInitials'
 import { useNavigate} from 'react-router-dom';
+import {
+    getProjectDetails,
+    updateProject,
+    addProjectMember,
+    removeProjectMember,
+    updateProjectMemberRole,
+    createTag,
+    updateTag,
+    deleteTag
+} from '../../utils/https';
 
-function ModalExpandProject({item, onClose}) {
+function ModalExpandProject({projectId, onClose, onDelete, onUpdate}) {
     const navigate = useNavigate();
-     // Local state for editing, initialized with current value
-    const [desc, setDesc] = useState(item?.desc || "");
-    const [dates, setDates] = useState(
-        {
-            start: formatToDateInput(item?.startDate),
-            end: formatToDateInput(item?.endDate),
+    const [project, setProject] = useState(null);
+    const [loading, setLoading] = useState(true);
+    const [editMode, setEditMode] = useState(false);
+
+    // ... (rest of the state variables remain the same)
+
+    const fetchProjectDetails = async () => {
+        setLoading(true);
+        const result = await getProjectDetails(projectId);
+        if (result.success) {
+            const projectData = result.project;
+            setProject(projectData);
+            setTitle(projectData.title);
+            setDescription(projectData.description || '');
+            setStartDate(formatToDateInput(projectData.start_date));
+            setEndDate(formatToDateInput(projectData.end_date));
+            setStatus(projectData.status);
+        } else {
+            alert(`Failed to load project: ${result.error}`);
+            onClose();
         }
-    );
+        setLoading(false);
+    };
+
+    // ... (rest of the functions remain the same)
+
     return (
-        <div className='flex fixed justify-center overflow-y-scroll inset-0 z-1000 bg-zinc-300/80'>
+        <div className='flex fixed justify-center overflow-y-scroll inset-0 z-1000 bg-zinc-300/80 p-4'>
             {/* Item */}
-            <div className='flex flex-row my-auto min-h-100 h-fit rounded-2xl shadow'>
-                <div className='flex flex-col bg-white p-6 min-w-150 gap-3'>
-                    {/* project icon */}
-                    <div className='flex flex-row justify-between'>
-                        <div style={{ backgroundColor: item.color }} 
-                            className='flex items-center justify-center bg-linear-to-br h-12 w-12 rounded-xl'>
-                            <span className='font-bold text-white text-xl'>{item.name[0]}</span>
-                        </div>
+            <div className='flex flex-row my-auto min-h-100 h-fit rounded-2xl shadow max-w-6xl w-full'>
+                <div className='flex flex-col bg-white p-6 flex-1 gap-3 overflow-y-auto'>
+                    {/* ... (rest of the JSX remains the same) */}
 
-                        <i className='fas fa-ellipsis-v'></i>
-                    </div>
-                    
-
-                    {/* project name */}
-                    <span className='font-semibold text-gray-900 text-md'>{item.name}</span>
                     {/* dates */}
                     <div className='text-sm text-gray-700'>
-
-                        <div className='flex flex-row gap-2'>
-                            <p>Start Date</p>
-                            <input
-                                type="date"
-                                value={dates.start}
-                                onChange={(e) =>
-                                    setDates({ ...dates, start: e.target.value })
-                            }/>
+                        <div className='flex flex-row gap-2 items-center mb-2'>
+                            <p className='w-20'>Start Date</p>
+                            {editMode ? (
+                                <input
+                                    type="date"
+                                    value={startDate}
+                                    onChange={(e) => setStartDate(e.target.value)}
+                                    className="border rounded px-2 py-1"
+                                />
+                            ) : (
+                                <span className='text-gray-900'>{new Date(project.start_date).toLocaleDateString()}</span>
+                            )}
                         </div>
 
-                        <div className='flex flex-row gap-2'>
-                            <p>End Date</p>
-                            <input
-                                type="date"
-                                value={dates.end}
-                                onChange={(e) =>
-                                    setDates({ ...dates, end: e.target.value })
-                            }/>
-                        </div>
-                    </div>
-
-                    {/* Description */}
-                    <div className='text-gray-700 text-sm my-1 '>
-                            <textarea
-                            value={desc}                     
-                            onChange={(e) => setDesc(e.target.value)}  // local changes
-                            className="w-full p-2 border rounded resize-none overflow-hidden"
-                            onInput={(e) => {
-                            e.target.style.height = "auto";
-                            e.target.style.height = `${e.target.scrollHeight}px`;
-                            }}
-                            placeholder="Write a short description..."
-                        />
-                    </div>
-
-                    {/* stats */}
-                    <div className='flex flex-row justify-around bg-gray-50 py-4 rounded-xl shadow-2xs'>
-                        <div className='flex flex-col items-center justify-center'>
-                            <p className='font-bold text-xl text-gray-800 m-0 p-0'>{item.numTask}</p>
-                            <p className='m-0 p-0 text-sm text-gray-600'>Task</p>
-                        </div>
-
-                        <div className='flex flex-col items-center justify-center'>
-                            <p className='font-bold text-xl text-gray-800 m-0 p-0'>{item.numComplete}</p>
-                            <p className='m-0 p-0 text-sm text-gray-600'>Done</p>
-                        </div>
-
-                        <div className='flex flex-col items-center justify-center'>
-                            <p className='font-bold text-xl text-gray-800 m-0 p-0'>{item.numMembers}</p>
-                            <p className='m-0 p-0 text-sm text-gray-600'>Team</p>
-                        </div>
-                    </div>
-                    {/* View tasks button */}
-                    <span className='font-medium text-sm text-green-500 hover:underline cursor-pointer'
-                            onClick={() => navigate("/task")}>
-                        View Tasks
-                    </span>
-                    {/* Progress Bar */}
-                    <div className='flex flex-col'>
-                        <span className='text-gray-600 text-sm mb-1'>Overall Progress</span>
-                        <div className='bg-gray-300 w-full h-2 rounded-full shadow-2xl'>
-                            <div className={` h-2 rounded-full
-                                            ${item.percentage == '100' ? 'bg-green-500' : 'bg-red-500'}`} 
-                                style={{ width: `${item.percentage}%` }}>
-                            </div>
+                        <div className='flex flex-row gap-2 items-center'>
+                            <p className='w-20'>End Date</p>
+                            {editMode ? (
+                                <input
+                                    type="date"
+                                    value={endDate}
+                                    onChange={(e) => setEndDate(e.target.value)}
+                                    className="border rounded px-2 py-1"
+                                />
+                            ) : (
+                                <span className='text-gray-900'>{new Date(project.end_date).toLocaleDateString()}</span>
+                            )}
                         </div>
                     </div>
-                            
-                    <div className='flex flex-row mt-3 justify-between align-middle'>
-                            {/* members */}
-                            
-                        <div className='flex flex-row gap-1'>
 
-                            {item.name !== 'General' ? (
-                                <div className='flex items-center justify-center rounded-full h-9 w-9 bg-gray-100 text-gray-600 text-sm font-semibold border-gray-300 border-2 cursor-pointer'>
-                                    <i className="fa-solid fa-plus"></i>
-                                </div>
-                            ) : null}
-                            
-                            {item.members.map((mem) => (
-                                <div
-                                key={mem.id}
-                                style={{ backgroundColor: mem.avatarColor }}
-                                className='flex items-center justify-center rounded-full h-9 w-9 text-white text-sm font-semibold border-white border-2 transition duration-300 hover:-translate-y-1 cursor-pointer'
-                                >
-                                {getInitials(mem.name)}
-                                </div>
-                            ))}
-                        </div>
-                        
-                        {/* status */}
-                        <div className={`flex flex-row items-center justify-center font-semibold py-1 px-4 rounded-full
-                                ${item.status === 'Active' && 'bg-blue-100 text-blue-500'}
-                                ${item.status === 'Completed' && 'bg-green-100 text-green-500'}
-                                ${item.status === 'Archived' && 'bg-gray-200 text-gray-700'}`}>
-                            {item.status}
-                        </div>
-                    </div>
-                </div>
-
-                {/* Comment section */}
-                <div className='flex flex-col w-120 py-5 px-5 bg-gray-100'>
-                    <div className='flex flex-row justify-between gap-2 '>
-                        <div className='flex flex-row items-center gap-2 text-md font-medium text-gray-900'>
-                            <i className="fa-regular fa-message"></i>
-                            <span>Comments</span>
-                        </div>
-                        <button className='cursor-pointer'onClick={onClose}>
-                            <i className="fa-regular fa-circle-xmark text-xl"></i>
-                        </button>
-                    </div>
-                    
-                    <textarea
-                        placeholder="Write a short description..."
-                        className="w-full mt-2 p-2 border rounded resize-none overflow-hidden text-sm min-h-[60px]"
-                        onInput={(e) => {
-                            e.target.style.height = "auto";
-                            e.target.style.height = `${e.target.scrollHeight}px`;
-                        }}
-                    />
+                    {/* ... (rest of the JSX remains the same) */}
                 </div>
             </div>
         </div>
Index: backend/dunzomanagement/project_app/views.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import json\r\nfrom django.contrib.auth.decorators import login_required\r\nfrom django.db import connection\r\nfrom django.http import JsonResponse\r\nfrom django.utils.decorators import method_decorator\r\nfrom django.views.decorators.csrf import csrf_exempt\r\nfrom django.views import View\r\n\r\nfrom .models import *\r\n\r\ndef decode_body(request):\r\n    try:\r\n        return json.loads(request.body.decode('utf-8'))\r\n    except json.JSONDecodeError:\r\n        return {}\r\n\r\n@method_decorator(csrf_exempt, name='dispatch')\r\nclass ProjectView(View):\r\n    def dispatch(self, request, *args, **kwargs):\r\n        if not request.user.is_authenticated:\r\n            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)\r\n        return super().dispatch(request, *args, **kwargs)\r\n    def get(self, request):\r\n        user_id = request.user.pk\r\n\r\n        filter_type = request.GET.get('filter', 'Active')\r\n\r\n        # Validate filter to prevent SQL issues (optional but good practice)\r\n        valid_filters = ['Active', 'Archived', 'Complete', 'All', 'Leader']\r\n        if filter_type not in valid_filters:\r\n            filter_type = 'Active'\r\n\r\n        try:\r\n            with connection.cursor() as cursor:\r\n                # Call the Stored Procedure\r\n                cursor.callproc(\"get_user_projects\", [user_id, filter_type])\r\n\r\n                # Fetch the JSON result\r\n                projects_data = cursor.fetchone()[0]\r\n\r\n                return JsonResponse({'success': True, 'projects': projects_data})\r\n\r\n        except Exception as e:\r\n            print(f\"Get Projects Error: {e}\")\r\n            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)\r\n    def post(self, request):\r\n        data = decode_body(request)\r\n\r\n        # Extract data from the request body\r\n        user_id = request.user.pk\r\n        title = data.get('title')\r\n        description = data.get('description', '')  # Default to empty string if missing\r\n        start_date = data.get('start_date')\r\n        end_date = data.get('end_date')\r\n\r\n        # Basic Validation\r\n        if not title or not start_date or not end_date:\r\n            return JsonResponse({\r\n                'success': False,\r\n                'error': 'Title, Start Date, and End Date are required.'\r\n            }, status=400)\r\n\r\n        try:\r\n            with connection.cursor() as cursor:\r\n                # Signature: (p_user_id, p_title, p_description, p_start_date, p_end_date)\r\n                cursor.callproc(\r\n                    \"create_project\",\r\n                    [user_id, title, description, start_date, end_date]\r\n                )\r\n\r\n                # Fetch the returned Project ID\r\n                new_project_id = cursor.fetchone()[0]\r\n\r\n                return JsonResponse({\r\n                    'success': True,\r\n                    'message': 'Project created successfully',\r\n                    'project_id': new_project_id\r\n                }, status=201)\r\n\r\n        except Exception as e:\r\n            # Log error for debugging (optional)\r\n            print(f\"Create Project Error: {e}\")\r\n            return JsonResponse({'success': False, 'error': str(e)}, status=500)\r\n    def delete(self, request):\r\n        user_id = request.user.pk\r\n\r\n        data = decode_body(request)\r\n        project_id = data.get('project_id')\r\n\r\n        if not project_id:\r\n            return JsonResponse({'success': False, 'error': 'Project ID is required'}, status=400)\r\n\r\n        try:\r\n            # 1. Security Check: Only the 'Leader' can delete\r\n            # We check if a membership exists that matches: User + Project + Role='Leader'\r\n            is_leader = ProjectMembership.objects.filter(\r\n                project_id=project_id,\r\n                user_id=user_id,\r\n                role='Leader'\r\n            ).exists()\r\n\r\n            if not is_leader:\r\n                return JsonResponse({\r\n                    'success': False,\r\n                    'error': 'Permission denied. Only the Leader can delete this project.'\r\n                }, status=403)\r\n\r\n            # 2. Perform Delete\r\n            Project.objects.get(pk=project_id).delete()\r\n\r\n            return JsonResponse({'success': True, 'message': 'Project deleted successfully'})\r\n\r\n        except Project.DoesNotExist:\r\n            return JsonResponse({'success': False, 'error': 'Project not found'}, status=404)\r\n        except Exception as e:\r\n            return JsonResponse({'success': False, 'error': str(e)}, status=500)\r\n\r\n@method_decorator(csrf_exempt, name='dispatch')\r\nclass ProjectDetailView(View):\r\n    def dispatch(self, request, *args, **kwargs):\r\n        if not request.user.is_authenticated:\r\n            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)\r\n        return super().dispatch(request, *args, **kwargs)\r\n    # get project details\r\n    def get(self, request):\r\n        project_id = request.GET.get('project_id')\r\n        user_id = request.user.pk\r\n\r\n        if not project_id:\r\n            return JsonResponse({'success': False, 'error': 'Project ID is required.'}, status=400)\r\n\r\n        try:\r\n            with connection.cursor() as cursor:\r\n                # Call Stored Procedure\r\n                # Signature: (p_project_id, p_user_id)\r\n                cursor.callproc(\r\n                    \"get_project_details\",\r\n                    [project_id, user_id]\r\n                )\r\n\r\n                # Fetch the single JSON blob result\r\n                result = cursor.fetchone()[0]\r\n\r\n                # Check status code based on result success\r\n                if result.get('success'):\r\n                    return JsonResponse(result)\r\n                else:\r\n                    # Determine error code (403 for Unauthorized, 404 for Not Found)\r\n                    error_msg = result.get('error', '')\r\n                    status_code = 403 if 'Unauthorized' in error_msg else 404\r\n                    return JsonResponse(result, status=status_code)\r\n\r\n        except Exception as e:\r\n            print(f\"Get Project Details Error: {e}\")\r\n            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)\r\n    # update project details\r\n    def put(self, request):\r\n        data = decode_body(request)\r\n        user_id = request.user.pk\r\n\r\n        project_id = data.get('project_id')\r\n        title = data.get('title')\r\n        description = data.get('description', '')\r\n        start_date = data.get('start_date')\r\n        end_date = data.get('end_date')\r\n        status = data.get('status')\r\n\r\n        # Basic Validation\r\n        if not project_id or not title or not start_date or not end_date:\r\n            return JsonResponse({\r\n                'success': False,\r\n                'error': 'Project ID, Title, and Dates are required.'\r\n            }, status=400)\r\n\r\n        try:\r\n            with connection.cursor() as cursor:\r\n                # Signature: (p_project_id, p_user_id, p_title, p_description, p_start_date, p_end_date,status)\r\n                cursor.callproc(\r\n                    \"update_project\",\r\n                    [project_id, user_id, title, description, start_date, end_date, status]\r\n                )\r\n\r\n                # The procedure returns True (Success) or False (Not Leader/Failed)\r\n                success = cursor.fetchone()[0]\r\n\r\n                if success:\r\n                    return JsonResponse({'success': True, 'message': 'Project updated successfully'})\r\n                else:\r\n                    return JsonResponse({\r\n                        'success': False,\r\n                        'error': 'Permission denied. Only the Leader can edit this project.'\r\n                    }, status=403)\r\n\r\n        except Exception as e:\r\n            print(f\"Update Project Error: {e}\")\r\n            return JsonResponse({'success': False, 'error': str(e)}, status=500)\r\n\r\n@method_decorator(csrf_exempt, name='dispatch')\r\nclass ProjectMembershipView(View):\r\n    def dispatch(self, request, *args, **kwargs):\r\n        if not request.user.is_authenticated:\r\n            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)\r\n        return super().dispatch(request, *args, **kwargs)\r\n    # add a user to project\r\n    def post(self, request):\r\n        data = decode_body(request)\r\n        requester_id = request.user.pk\r\n\r\n        # Parse inputs\r\n        project_id = data.get('project_id')\r\n        identifier = data.get('identifier')\r\n        role = data.get('role', 'Member')  # Default to 'Member' if not provided\r\n\r\n        # Basic Validation\r\n        if not project_id or not identifier:\r\n            return JsonResponse({'success': False, 'error': 'Project ID and Username/Email are required.'}, status=400)\r\n\r\n        try:\r\n            with connection.cursor() as cursor:\r\n                # Signature: (p_project_id, p_requester_id, p_identifier, p_role)\r\n                cursor.callproc(\r\n                    \"add_project_member\",\r\n                    [project_id, requester_id, identifier, role]\r\n                )\r\n\r\n                result = cursor.fetchone()[0]\r\n\r\n                if result.get('success'):\r\n                    return JsonResponse(result, status=201)\r\n                else:\r\n                    # Return 400 or 403 depending on the error, but 400 is generally fine here\r\n                    return JsonResponse(result, status=400)\r\n\r\n        except Exception as e:\r\n            print(f\"Add Member Error: {e}\")\r\n            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)\r\n    # remove a user fron project\r\n    def delete(self, request):\r\n        data = decode_body(request)\r\n        requester_id = request.user.pk\r\n\r\n        project_id = data.get('project_id')\r\n        target_user_id = data.get('user_id')\r\n\r\n        # Basic Validation\r\n        if not project_id or not target_user_id:\r\n            return JsonResponse({'success': False, 'error': 'Project ID and Target User ID are required.'}, status=400)\r\n\r\n        try:\r\n            with connection.cursor() as cursor:\r\n                # Signature: (p_project_id, p_requester_id, p_target_user_id)\r\n                cursor.callproc(\r\n                    \"remove_project_member\",\r\n                    [project_id, requester_id, target_user_id]\r\n                )\r\n\r\n                # Fetch result\r\n                result = cursor.fetchone()[0]\r\n\r\n                if result.get('success'):\r\n                    return JsonResponse(result)\r\n                else:\r\n                    # Return 403 Forbidden if permission/safety check failed\r\n                    return JsonResponse(result, status=403)\r\n\r\n        except Exception as e:\r\n            print(f\"Remove Member Error: {e}\")\r\n            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)\r\n    # change user role in project\r\n    def put(self, request):\r\n        data = decode_body(request)\r\n        requester_id = request.user.pk  # The logged-in user (must be Leader)\r\n\r\n        # Parse inputs\r\n        project_id = data.get('project_id')\r\n        target_user_id = data.get('user_id')  # The user receiving the role change\r\n        new_role = data.get('role')\r\n\r\n        # Basic Validation\r\n        if not all([project_id, target_user_id, new_role]):\r\n            return JsonResponse({'success': False, 'error': 'Project ID, Target User ID, and Role are required.'},\r\n                                status=400)\r\n\r\n        valid_roles = ['Leader', 'Manager', 'Member']\r\n        if new_role not in valid_roles:\r\n            return JsonResponse({'success': False, 'error': 'Invalid role choice.'}, status=400)\r\n\r\n        try:\r\n            with connection.cursor() as cursor:\r\n                # Call Stored Procedure\r\n                # Signature: (p_project_id, p_requester_id, p_target_user_id, p_new_role)\r\n                cursor.callproc(\r\n                    \"update_project_member_role\",\r\n                    [project_id, requester_id, target_user_id, new_role]\r\n                )\r\n\r\n                # The SP returns a JSON object directly\r\n                result = cursor.fetchone()[0]\r\n\r\n                # Check the 'success' key from the returned JSON\r\n                if result.get('success'):\r\n                    return JsonResponse(result)\r\n                else:\r\n                    # Return 403 Forbidden if permission/safety check failed\r\n                    return JsonResponse(result, status=403)\r\n\r\n        except Exception as e:\r\n            print(f\"Update Role Error: {e}\")\r\n            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)\r\n\r\n@method_decorator(csrf_exempt, name='dispatch')\r\nclass TagView(View):\r\n    def dispatch(self, request, *args, **kwargs):\r\n        if not request.user.is_authenticated:\r\n            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)\r\n        return super().dispatch(request, *args, **kwargs)\r\n    # create tag\r\n    def post(self, request):\r\n        data = decode_body(request)\r\n        project_id = data.get('project_id')\r\n        name = data.get('name')\r\n        hex_color = data.get('hex_color', '#000000')\r\n\r\n        if not project_id or not name:\r\n            return JsonResponse({'success': False, 'error': 'Project ID and Name are required.'}, status=400)\r\n\r\n        try:\r\n            # PERMISSION CHECK: Must be Leader or Manager\r\n            has_permission = ProjectMembership.objects.filter(\r\n                project_id=project_id,\r\n                user_id=request.user.pk,\r\n                role__in=['Leader', 'Manager']  # <--- Strict Check\r\n            ).exists()\r\n\r\n            if not has_permission:\r\n                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can create tags.'},\r\n                                    status=403)\r\n\r\n            # Create\r\n            tag = Tag.objects.create(\r\n                project_id=project_id,\r\n                name=name,\r\n                hex_color=hex_color\r\n            )\r\n\r\n            return JsonResponse({\r\n                'success': True,\r\n                'tag': {'tag_id': tag.tag_id, 'name': tag.name, 'hex_color': tag.hex_color}\r\n            }, status=201)\r\n\r\n        except Exception as e:\r\n            return JsonResponse({'success': False, 'error': str(e)}, status=500)\r\n    # edit tag\r\n    def put(self, request):\r\n        data = decode_body(request)\r\n        tag_id = data.get('tag_id')\r\n        name = data.get('name')\r\n        hex_color = data.get('hex_color')\r\n\r\n        if not tag_id:\r\n            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)\r\n\r\n        try:\r\n            tag = Tag.objects.get(pk=tag_id)\r\n\r\n            # PERMISSION CHECK\r\n            has_permission = ProjectMembership.objects.filter(\r\n                project_id=tag.project_id,\r\n                user_id=request.user.pk,\r\n                role__in=['Leader', 'Manager']\r\n            ).exists()\r\n\r\n            if not has_permission:\r\n                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can edit tags.'}, status=403)\r\n\r\n            if name:\r\n                tag.name = name\r\n            if hex_color:\r\n                tag.hex_color = hex_color\r\n\r\n            tag.save()\r\n\r\n            return JsonResponse({'success': True, 'message': 'Tag updated successfully.'})\r\n\r\n        except Tag.DoesNotExist:\r\n            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)\r\n        except Exception as e:\r\n            return JsonResponse({'success': False, 'error': str(e)}, status=500)\r\n    # delete tag\r\n    def delete(self, request):\r\n        data = decode_body(request)\r\n        tag_id = data.get('tag_id')\r\n\r\n        if not tag_id:\r\n            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)\r\n\r\n        try:\r\n            tag = Tag.objects.get(pk=tag_id)\r\n\r\n            # PERMISSION CHECK\r\n            has_permission = ProjectMembership.objects.filter(\r\n                project_id=tag.project_id,\r\n                user_id=request.user.pk,\r\n                role__in=['Leader', 'Manager']\r\n            ).exists()\r\n\r\n            if not has_permission:\r\n                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can delete tags.'}, status=403)\r\n\r\n            tag.delete()\r\n\r\n            return JsonResponse({'success': True, 'message': 'Tag deleted successfully.'})\r\n\r\n        except Tag.DoesNotExist:\r\n            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)\r\n        except Exception as e:\r\n            return JsonResponse({'success': False, 'error': str(e)}, status=500)\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/backend/dunzomanagement/project_app/views.py b/backend/dunzomanagement/project_app/views.py
--- a/backend/dunzomanagement/project_app/views.py	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/backend/dunzomanagement/project_app/views.py	(date 1765723554618)
@@ -1,5 +1,4 @@
 import json
-from django.contrib.auth.decorators import login_required
 from django.db import connection
 from django.http import JsonResponse
 from django.utils.decorators import method_decorator
@@ -365,7 +364,7 @@
 
             # PERMISSION CHECK
             has_permission = ProjectMembership.objects.filter(
-                project_id=tag.project_id,
+                project_id=tag.project,
                 user_id=request.user.pk,
                 role__in=['Leader', 'Manager']
             ).exists()
@@ -399,7 +398,7 @@
 
             # PERMISSION CHECK
             has_permission = ProjectMembership.objects.filter(
-                project_id=tag.project_id,
+                project_id=tag.project,
                 user_id=request.user.pk,
                 role__in=['Leader', 'Manager']
             ).exists()
Index: backend/dunzomanagement/dunzomanagement/settings.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\"\"\"\r\nDjango settings for dunzomanagement project.\r\n\r\nGenerated by 'django-admin startproject' using Django 5.2.6.\r\n\r\nFor more information on this file, see\r\nhttps://docs.djangoproject.com/en/5.2/topics/settings/\r\n\r\nFor the full list of settings and their values, see\r\nhttps://docs.djangoproject.com/en/5.2/ref/settings/\r\n\"\"\"\r\nimport os\r\nfrom pathlib import Path\r\nfrom dotenv import load_dotenv\r\nimport dj_database_url\r\n\r\n# Build paths inside the project like this: BASE_DIR / 'subdir'.\r\nBASE_DIR = Path(__file__).resolve().parent.parent\r\n# after BASE_DIR is defined, load .env\r\nload_dotenv(str(Path(__file__).resolve().parent.parent / '.env'))\r\n\r\n# Quick-start development settings - unsuitable for production\r\n# See https://docs.djangoproject.com/en/5.2/howto/deployment/checklist/\r\n\r\n# SECURITY WARNING: keep the secret key used in production secret!\r\nSECRET_KEY = 'django-insecure-vud+z^)g7d+%4$c$v@2e5!wq@0ipis+(!prik)x#be9sbyxksl'\r\n\r\n# SECURITY WARNING: don't run with debug turned on in production!\r\nDEBUG = True\r\n\r\nALLOWED_HOSTS = []\r\n\r\n\r\n# Application definition\r\n\r\nINSTALLED_APPS = [\r\n    'corsheaders',\r\n    'django.contrib.admin',\r\n    'django.contrib.auth',\r\n    'django.contrib.contenttypes',\r\n    'django.contrib.sessions',\r\n    'django.contrib.messages',\r\n    'django.contrib.staticfiles',\r\n    'dunzomanagement',\r\n    'user_app',\r\n    'project_app',\r\n    'task_app',\r\n    'timeline_app',\r\n    'calendarevent_app',\r\n]\r\n\r\nMIDDLEWARE = [\r\n    'django.middleware.security.SecurityMiddleware',\r\n    'django.contrib.sessions.middleware.SessionMiddleware',\r\n    'corsheaders.middleware.CorsMiddleware',\r\n    'django.middleware.common.CommonMiddleware',\r\n    'django.middleware.csrf.CsrfViewMiddleware',\r\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\r\n    'django.contrib.messages.middleware.MessageMiddleware',\r\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\r\n]\r\n\r\nROOT_URLCONF = 'dunzomanagement.urls'\r\n\r\nTEMPLATES = [\r\n    {\r\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\r\n        'DIRS': [],  # templates\r\n        'APP_DIRS': True,\r\n        'OPTIONS': {\r\n            'context_processors': [\r\n                'django.template.context_processors.request',\r\n                'django.contrib.auth.context_processors.auth',\r\n                'django.contrib.messages.context_processors.messages',\r\n            ],\r\n        },\r\n    },\r\n]\r\n\r\nWSGI_APPLICATION = 'dunzomanagement.wsgi.application'\r\n\r\n\r\n# Database\r\n# https://docs.djangoproject.com/en/5.2/ref/settings/#databases\r\n\r\n\r\nDATABASE_URL = os.getenv('DATABASE_URL')\r\n\r\nDATABASES = {\r\n        'default': dj_database_url.parse(DATABASE_URL)\r\n    }\r\n\r\n\r\n# Password validation\r\n# https://docs.djangoproject.com/en/5.2/ref/settings/#auth-password-validators\r\n\r\nAUTH_PASSWORD_VALIDATORS = [\r\n    {\r\n        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',\r\n    },\r\n    {\r\n        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',\r\n    },\r\n    {\r\n        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',\r\n    },\r\n    {\r\n        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',\r\n    },\r\n]\r\n\r\n\r\n# Internationalization\r\n# https://docs.djangoproject.com/en/5.2/topics/i18n/\r\n\r\nLANGUAGE_CODE = 'en-us'\r\n\r\nTIME_ZONE = 'UTC'\r\n\r\nUSE_I18N = True\r\n\r\nUSE_TZ = True\r\n\r\n\r\n# Static files (CSS, JavaScript, Images)\r\n# https://docs.djangoproject.com/en/5.2/howto/static-files/\r\n\r\nSTATIC_URL = '/static/'\r\nSTATIC_ROOT = BASE_DIR / \"staticfiles\"  # where Django will collect them\r\n# Default primary key field type\r\n# https://docs.djangoproject.com/en/5.2/ref/settings/#default-auto-field\r\n\r\nDEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'\r\nAUTH_USER_MODEL = 'user_app.User'\r\nCORS_ALLOWED_ORIGIN_REGEXES = [\r\n    r\"^http://localhost:\\d+$\",\r\n    r\"^http://127\\.0\\.0\\.1:\\d+$\",\r\n]
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/backend/dunzomanagement/dunzomanagement/settings.py b/backend/dunzomanagement/dunzomanagement/settings.py
--- a/backend/dunzomanagement/dunzomanagement/settings.py	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/backend/dunzomanagement/dunzomanagement/settings.py	(date 1765477332180)
@@ -132,7 +132,7 @@
 
 DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'
 AUTH_USER_MODEL = 'user_app.User'
-CORS_ALLOWED_ORIGIN_REGEXES = [
-    r"^http://localhost:\d+$",
-    r"^http://127\.0\.0\.1:\d+$",
-]
\ No newline at end of file
+CORS_ALLOWED_ORIGINS = [
+  "http://localhost:5173",  # or your dev frontend origin
+]
+CORS_ALLOW_CREDENTIALS = True
\ No newline at end of file
Index: frontend/src/pages/Register.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, {useState} from 'react'\nimport register_illustration from '../assets/register_illustration.jpg';\nimport { useNavigate } from 'react-router-dom'\nimport { registerUser} from '../https';\n\nfunction Register() {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [errorMsg, setErrorMsg] = useState('');\n\n    const navigate = useNavigate();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        // 1. Client-side Validation\n        if (password !== confirmPassword) {\n            setErrorMsg(\"Passwords do not match.\");\n            return;\n        }\n\n        // Call the backend\n        const data = await registerUser(username, password);\n\n        if (data.success) {\n            console.log(\"Register Success!\", data);\n            navigate('/user/dashboard');\n        } else {\n            setErrorMsg(data.error || \"Register failed.\");\n        }\n    };\n    return (\n        <div className='flex fixed items-center justify-center overflow-y-scroll inset-0 z-1000 bg-zinc-200'>\n\n            <div className='flex felx-row'>\n                <div className='bg-white shadow flex flex-col min-w-100 pt-3 pb-7 px-5 rounded-tl-2xl rounded-bl-2xl'>\n\n                    <div className='flex flex-row justify-between items-center mt-2'>\n                        <span className='font-black text-red-500 text-2xl tracking-tighter'>dunzo.</span>\n                        <button className='px-3 py-2 cursor-pointer -mr-1'\n                                onClick={() => navigate('/')}>\n                            <i className=\"fa-regular fa-circle-xmark\"></i>\n                        </button>\n\n                    </div>\n                    \n                    <div className='flex flex-row gap-3 items-center'>\n                        <span className='font-bold text-gray-900 text-2xl'>Join Us</span>\n                        <i className=\"fa-regular fa-hand-point-up text-red-500 text-2xl\"></i>\n                    </div>\n\n                    <span className='text-gray-600 font-medium text-md'>Create your account to manage projects<br/> and stay on track.</span>\n\n                    {/* ERROR MESSAGE BOX */}\n                    {errorMsg && (\n                        <div className=\"mt-2 p-2 bg-red-100 border border-red-400 text-red-700 text-sm rounded\">\n                            {errorMsg}\n                        </div>\n                    )}\n\n                    {/* FORM START */}\n                    <form onSubmit={handleSubmit} className='flex flex-col my-5 font-medium text-gray-900 gap-3'>\n\n                        {/* USERNAME */}\n                        <div className='flex flex-col gap-1'>\n                            <p>Username</p>\n                            <input\n                                type='text'\n                                placeholder='Create a username'\n                                className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'\n                                value={username}\n                                onChange={(e) => setUsername(e.target.value)}\n                                required\n                            />\n                        </div>\n\n                        {/* PASSWORD */}\n                        <div className='flex flex-col gap-1'>\n                            <p>Password</p>\n                            <div className=\"relative\">\n                                <input\n                                    type='password'\n                                    placeholder='Create a strong password'\n                                    className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'\n                                    value={password}\n                                    onChange={(e) => setPassword(e.target.value)}\n                                    required\n                                />\n                                <button type=\"button\" className='absolute right-2 top-2 text-gray-500 cursor-pointer'>\n                                    <i className=\"fa-regular fa-eye\"></i>\n                                </button>\n                            </div>\n                        </div>\n\n                        {/* CONFIRM PASSWORD */}\n                        <div className='flex flex-col gap-1'>\n                            <p>Confirm Password</p>\n                            <div className=\"relative\">\n                                <input\n                                    type='password'\n                                    placeholder='Confirm your password'\n                                    className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'\n                                    value={confirmPassword}\n                                    onChange={(e) => setConfirmPassword(e.target.value)}\n                                    required\n                                />\n                                <button type=\"button\" className='absolute right-2 top-2 text-gray-500 cursor-pointer'>\n                                    <i className=\"fa-regular fa-eye\"></i>\n                                </button>\n                            </div>\n                        </div>\n\n                        <button\n                            type=\"submit\"\n                            className='bg-red-500 text-md py-2 my-4 rounded-xl font-semibold text-white cursor-pointer transition duration-300 hover:-translate-y-1'\n                        >\n                            Register\n                        </button>\n                    </form>\n                    {/* FORM END */}\n\n                    <div className='flex flex-row gap-1 justify-center'>\n                        <p className='text-sm font-medium text-gray-700'>Already have an account?</p>\n                        <button className='text-red-500 font-semibold text-sm'\n                            onClick={() => navigate('/login')}>\n                            Login\n                        </button>\n                    </div>\n                    \n                </div>\n\n                <div>\n                    <img src={register_illustration} className='h-160 rounded-tr-2xl rounded-br-2xl'/>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Register;
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/pages/Register.jsx b/frontend/src/pages/Register.jsx
--- a/frontend/src/pages/Register.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/pages/Register.jsx	(date 1765477678193)
@@ -25,6 +25,13 @@
 
         if (data.success) {
             console.log("Register Success!", data);
+            // Minimal compatibility fix: ProtectedRoute checks localStorage for 'authToken'.
+            // Store a simple token/flag so the existing guard will allow access.
+            try {
+                localStorage.setItem('authToken', data.username || 'true');
+            } catch (e) {
+                console.warn('Failed to write authToken to localStorage', e);
+            }
             navigate('/user/dashboard');
         } else {
             setErrorMsg(data.error || "Register failed.");
Index: frontend/src/pages/Login.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, {useState} from 'react'\nimport login_illustration from '../assets/login_illustration.jpg';\nimport { useNavigate } from 'react-router-dom'\nimport { loginUser } from '../https';\n\nfunction Login() {\n    const [identifier, setIdentifier] = useState('');\n    const [password, setPassword] = useState('');\n    const [errorMsg, setErrorMsg] = useState('');\n\n    const navigate = useNavigate();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        // Call the backend\n        const data = await loginUser(identifier, password);\n\n        if (data.success) {\n            console.log(\"Login Success!\", data);\n            navigate('/user/dashboard');\n        } else {\n            setErrorMsg(data.error || \"Login failed. Please check your credentials.\");\n        }\n    };\n    return (\n        <div className='flex fixed items-center justify-center overflow-y-scroll inset-0 z-1000 bg-zinc-200'>\n            <div className='flex felx-row'>\n                <div className='bg-white shadow flex flex-col min-w-100 pt-3 pb-7 px-5 rounded-tl-2xl rounded-bl-2xl'>\n\n                    <div className='flex flex-row justify-between items-center mt-2'>\n                        <span className='font-black text-red-500 text-2xl tracking-tighter'>dunzo.</span>\n                        <button className='px-3 py-2 cursor-pointer -mr-1'\n                            onClick={() => navigate('/')}>\n                            <i className=\"fa-regular fa-circle-xmark\"></i>\n                        </button>\n\n                    </div>\n                    \n                    <div className='flex flex-row gap-3 items-center'>\n                        <span className='font-bold text-gray-900 text-2xl'>Welcome Back</span>\n                        <i className=\"fa-regular fa-hand text-red-500 text-2xl\"></i>\n                    </div>\n\n                    <span className='text-gray-600 font-medium text-md'>Log in to manage your tasks.</span>\n\n                    {/* --- ERROR MESSAGE DISPLAY --- */}\n                    {errorMsg && (\n                        <div className=\"mt-2 p-2 bg-red-100 border border-red-400 text-red-700 text-sm rounded\">\n                            {errorMsg}\n                        </div>\n                    )}\n\n                    {/* --- FORM START ---\n                        Wrapping inputs in a form allows \"Enter\" key to submit\n                    */}\n                    <form onSubmit={handleSubmit} className='mt-5'>\n\n                        <div className='flex flex-col font-medium text-gray-900 gap-1'>\n                            <p>Username/Email</p>\n                            <input\n                                type='text'\n                                placeholder='Enter your username/email'\n                                className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'\n                                // 1. BIND VALUE AND ONCHANGE\n                                value={identifier}\n                                onChange={(e) => setIdentifier(e.target.value)}\n                            />\n                        </div>\n\n                        <div className='flex flex-col mt-4 pb-3 font-medium text-gray-900 gap-1'>\n                            <p>Password</p>\n                            <div className=\"relative\"> {/* Added relative for positioning if needed */}\n                                <input\n                                    type='password'\n                                    placeholder='Password'\n                                    className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'\n                                    // 2. BIND VALUE AND ONCHANGE\n                                    value={password}\n                                    onChange={(e) => setPassword(e.target.value)}\n                                />\n                                {/* Ensure eye button doesn't submit form */}\n                                <button type=\"button\" className='absolute right-2 top-2 cursor-pointer text-gray-500'>\n                                    <i className=\"fa-regular fa-eye\"></i>\n                                </button>\n                            </div>\n                        </div>\n\n                        <div className='flex flex-row justify-between'>\n                            <div className='flex flex-row items-center gap-2'>\n                                <input type='checkbox' className='w-3 h-3 ml-0.5'/>\n                                <p>Remember me</p>\n                            </div>\n\n                            <button type=\"button\" className='text-red-500 font-medium text-sm hover:underline cursor-pointer mr-1'>\n                                Forgot Password\n                            </button>\n                        </div>\n\n                        {/* 3. SUBMIT BUTTON */}\n                        <button\n                            type=\"submit\"\n                            className='w-full bg-red-500 text-md py-2 my-4 rounded-xl font-semibold text-white cursor-pointer transition duration-300 hover:-translate-y-1'\n                        >\n                            Login\n                        </button>\n\n                    </form>\n                    {/* --- FORM END --- */}\n\n                    <div className='flex flex-row gap-1 justify-center'>\n                        <p className='text-sm font-medium text-gray-700'>Don't have an account?</p>\n                        <button className='text-red-500 font-semibold text-sm'\n                            onClick={() => navigate('/register')}>\n                            Register\n                        </button>\n                    </div>\n                    \n                </div>\n\n                <div>\n                    <img src={login_illustration} className='h-160 rounded-tr-2xl rounded-br-2xl'/>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login;
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/pages/Login.jsx b/frontend/src/pages/Login.jsx
--- a/frontend/src/pages/Login.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/pages/Login.jsx	(date 1765477678213)
@@ -18,6 +18,13 @@
 
         if (data.success) {
             console.log("Login Success!", data);
+            // Minimal compatibility fix: ProtectedRoute checks localStorage for 'authToken'.
+            // Store a simple token/flag so the existing guard will allow access.
+            try {
+                localStorage.setItem('authToken', data.username || 'true');
+            } catch (e) {
+                console.warn('Failed to write authToken to localStorage', e);
+            }
             navigate('/user/dashboard');
         } else {
             setErrorMsg(data.error || "Login failed. Please check your credentials.");
Index: frontend/src/pages/Dashboard.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\nimport { sampleTaskData } from '../data/taskSampleData';\nimport { projectSampleData } from '../data/projectSampleData';\nimport { useNavigate } from 'react-router-dom';\nimport Statcard from '../components/dashboard-components/Statcard';\nimport QuickTaskCard from '../components/dashboard-components/QuickTaskCard';\nimport QuickProjectCard from '../components/dashboard-components/QuickProjectCard';\nimport QuickNotifCard from '../components/dashboard-components/QuickNotifCard';\nimport QuickDeadlineCard from '../components/dashboard-components/QuickDeadlineCard';\n\n\nfunction Dashboard() {\n    const navigate = useNavigate()\n    // data para sa stat cards, add ra og value: \n    const statCardItems = [\n        { icon: 'fas fa-tasks', title: 'Active Tasks', bgColor: 'bg-red-500', iconColor: 'text-white' },\n        { icon: 'fa-solid fa-folder', title: 'Projects', bgColor: 'bg-red-500', iconColor: 'text-white' },\n        { icon: 'fas fa-bell', title: 'Notifications', bgColor: 'bg-red-500', iconColor: 'text-white' },\n        { icon: 'fas fa-calendar-check', title: 'Upcoming Deadlines', bgColor: 'bg-red-500', iconColor: 'text-white' }\n    ]\n\n    //sample data for notifications\n\n    const notifications = [\n        {\n            notificationContext: 'New comment on your task \"App Dev\"',\n            time: '2 hours ago'\n        },\n\n        {\n            notificationContext: 'New comment on your task \"Django\"',\n            time: '4 hours ago'\n        },\n    ]\n\n    //sample data for deadlines\n\n    const deadlines = [\n        {\n            deadlineContext: 'Deadline for \"App Dev\" project',\n            date: 'Dec 10, 2024'\n        },\n        {\n            deadlineContext: 'Deadline for \"Django\" project',\n            date: 'Dec 12, 2024'\n        },\n        \n        {\n            deadlineContext: 'Deadline for \"App Dev\" project',\n            date: 'Dec 10, 2024'\n        },\n        {\n            deadlineContext: 'Deadline for \"Django\" project',\n            date: 'Dec 12, 2024'\n        },\n\n        {\n            deadlineContext: 'Deadline for \"App Dev\" project',\n            date: 'Dec 10, 2024'\n        },\n        {\n            deadlineContext: 'Deadline for \"Django\" project',\n            date: 'Dec 12, 2024'\n        },\n\n        {\n            deadlineContext: 'Deadline for \"App Dev\" project',\n            date: 'Dec 10, 2024'\n        },\n        {\n            deadlineContext: 'Deadline for \"Django\" project',\n            date: 'Dec 12, 2024'\n        },\n        \n        {\n            deadlineContext: 'Deadline for \"Project Report\"',\n            date: 'Dec 15, 2024'\n        }\n    ]\n\n    return (\n        <div className='flex flex-col h-screen mx-4'>\n            <div className='bg-none py-3'>\n                <h1 className='m-0 p-0'>Dashboard.</h1>\n            </div>\n            {/* stats */}\n            <div className='grid gap-5 grid-cols-4'>\n                {statCardItems.map((item, index)=> (\n                    <Statcard\n                        key={index}\n                        icon={item.icon}\n                        title={item.title}\n                        bgColor={item.bgColor}\n                        iconColor={item.iconColor}\n                    />\n                ))}\n            </div>\n            \n            {/* grid */}\n            <div className='mt-5 my-3 grid gap-4 lg:grid-cols-[2fr_1fr] max-sm:grid-cols-1 '>\n                {/* tasks */}\n                <div className='flex flex-col bg-white p-5 rounded-sm shadow-sm max-h-100 shrink-0'>\n                    <div className='flex flex-row mb-3 justify-between'>\n                        <span className='font-semibold text-xl'>My Task</span>\n                        <button className='bg-none font-medium text-red-500 hover:underline cursor-pointer'\n                                onClick={()=> navigate('/task')}>\n                            View All\n                        </button>\n                    </div>\n\n                    <div className='overflow-y-auto flex-1'>\n                        {/* Checks if naa bay tasks */}\n                        {sampleTaskData.length === 0 ? (\n                            <p className='text-gray-500'>No tasks available.</p>\n                        ) : (\n                            <ul>\n                            {sampleTaskData.map((task) => (\n                                <li key={task.id}>\n                                    <QuickTaskCard\n                                        item={task}\n                                    />\n                                </li>\n                            ))}\n                        </ul>   \n                        )}\n                    </div>\n\n                    \n                </div>\n\n                {/* Notifications */}\n                <div className='flex flex-col shrink-0 max-h-100 bg-white p-5 rounded-sm shadow-sm'>\n                    <div className='flex flex-row mb-3'>\n                        <span className='font-semibold text-xl'>Notifications</span>\n                    </div>\n\n                    <div className='overflow-y-auto flex-1'>\n                        {notifications.length === 0 ? (\n                            <p className='text-gray-500'>No notifications.</p>\n                        ) : (\n                            <ul>\n                                {notifications.map((notif, index) => (\n                                    <li key={index}>\n                                        <QuickNotifCard\n                                            notificationContext={notif.notificationContext}\n                                            time={notif.time}\n                                        />\n                                    </li>\n                                ))}\n                            </ul>\n                        )}  \n                    </div> \n                </div>\n                \n                {/* projects */}\n                <div className='flex flex-col shrink-0 max-h-100 bg-white p-5 rounded-sm shadow-sm'>\n                    <div className='flex flex-row mb-3 justify-between'>\n                        <span className='font-semibold text-xl'>Recent Projects</span>\n                        <button className='bg-none  text-red-500 font-medium hover:underline cursor-pointer'\n                                onClick={()=> navigate('/project')}>\n                            View All\n                        </button>\n                    </div>\n                    \n                    <div className='overflow-y-auto flex-1'>\n                        {projectSampleData.length === 0 ? (\n                            <p className='text-gray-500'>No projects available.</p>\n                        ) : (\n                            <ul>\n                                {projectSampleData.map((project, index) => (\n                                    <li key={index}>\n                                        <QuickProjectCard item={project}/>\n                                    </li>\n                                ))}\n                            </ul>\n                        )} \n                    </div>\n                    \n                </div>\n                \n                {/* upcoming deadlines */}\n                <div className='flex flex-col shrink-0 max-h-100 bg-white p-5 rounded-sm shadow-sm'>\n                    <div className='flex flex-row mb-3 justify-between'>\n                        <span className='font-semibold text-xl'>Upcoming Deadlines</span>\n                        <button className='bg-none  text-red-500 font-medium hover:underline cursor-pointer'\n                                onClick={()=> navigate('/task')}>\n                            View All\n                        </button>\n                    </div>\n\n                    <div className='overflow-y-auto flex-1'>\n                        {deadlines.length == 0 ? (\n                            <p className='text-gray-500'>No upcoming deadlines.</p>\n                        ):(\n                            <ul>\n                                {deadlines.map((deadline, index) => (\n                                    <li key={index}>\n                                        <QuickDeadlineCard\n                                            deadlineContext={deadline.deadlineContext}\n                                            date={deadline.date}\n                                        />\n                                    </li>\n                                ))}\n                            </ul>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n\n    )\n}\n\nexport default Dashboard
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/pages/Dashboard.jsx b/frontend/src/pages/Dashboard.jsx
--- a/frontend/src/pages/Dashboard.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/pages/Dashboard.jsx	(date 1765476568350)
@@ -103,7 +103,7 @@
                     <div className='flex flex-row mb-3 justify-between'>
                         <span className='font-semibold text-xl'>My Task</span>
                         <button className='bg-none font-medium text-red-500 hover:underline cursor-pointer'
-                                onClick={()=> navigate('/task')}>
+                                onClick={()=> navigate('/user/task')}>
                             View All
                         </button>
                     </div>
@@ -157,7 +157,7 @@
                     <div className='flex flex-row mb-3 justify-between'>
                         <span className='font-semibold text-xl'>Recent Projects</span>
                         <button className='bg-none  text-red-500 font-medium hover:underline cursor-pointer'
-                                onClick={()=> navigate('/project')}>
+                                onClick={()=> navigate('/user/project')}>
                             View All
                         </button>
                     </div>
@@ -183,7 +183,7 @@
                     <div className='flex flex-row mb-3 justify-between'>
                         <span className='font-semibold text-xl'>Upcoming Deadlines</span>
                         <button className='bg-none  text-red-500 font-medium hover:underline cursor-pointer'
-                                onClick={()=> navigate('/task')}>
+                                onClick={()=> navigate('/user/task')}>
                             View All
                         </button>
                     </div>
Index: frontend/src/https.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>const BASE_URL = \"http://127.0.0.1:8000/\"\n\n//***********************\n//* dunzomanagement\n//***********************\nexport const loginUser = async (identifier, password) => {\n    try {\n        const response = await fetch(`${BASE_URL}/login/`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                username: identifier,\n                password: password\n            })\n        });\n\n        return await response.json(); // This returns the object { success: true, ... } from Django\n\n    } catch (error) {\n        console.error('Error connecting to backend:', error);\n        return { success: false, error: 'Network Error' };\n    }\n};\n//***********************\n//* user_app\n//***********************\nexport const registerUser = async (username, password) => {\n    try {\n        const response = await fetch(`${BASE_URL}/register/`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                username: username,\n                password: password\n            })\n        });\n        return await response.json(); // This returns the object { success: true, ... } from Django\n\n    } catch (error) {\n        console.error('Error connecting to backend:', error);\n        return {success: false, error: 'Network Error'};\n    }\n};
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/https.js b/frontend/src/https.js
--- a/frontend/src/https.js	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/https.js	(date 1765723263342)
@@ -1,4 +1,4 @@
-const BASE_URL = "http://127.0.0.1:8000/"
+const BASE_URL = "http://127.0.0.1:8000"
 
 //***********************
 //* dunzomanagement
@@ -7,6 +7,7 @@
     try {
         const response = await fetch(`${BASE_URL}/login/`, {
             method: 'POST',
+            credentials: 'include',
             headers: {
                 'Content-Type': 'application/json',
             },
@@ -30,6 +31,7 @@
     try {
         const response = await fetch(`${BASE_URL}/register/`, {
             method: 'POST',
+            credentials: 'include',
             headers: {
                 'Content-Type': 'application/json',
             },
@@ -44,4 +46,370 @@
         console.error('Error connecting to backend:', error);
         return {success: false, error: 'Network Error'};
     }
+};
+
+//***********************
+//* project_app
+//***********************
+export const getProjects = async (filter = 'Active') => {
+    try {
+        const response = await fetch(`${BASE_URL}/project/?filter=${filter}`, {
+            method: 'GET',
+            credentials: 'include',
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error fetching projects:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const createProject = async (projectData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/project/`, {
+            method: 'POST',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(projectData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error creating project:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const getProjectDetails = async (projectId) => {
+    try {
+        const response = await fetch(`${BASE_URL}/project/details/?project_id=${projectId}`, {
+            method: 'GET',
+            credentials: 'include',
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error fetching project details:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const updateProject = async (projectData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/project/details/`, {
+            method: 'PUT',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(projectData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error updating project:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const addProjectMember = async (memberData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/project/details/members/`, {
+            method: 'POST',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(memberData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error adding project member:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const removeProjectMember = async (memberData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/project/details/members/`, {
+            method: 'DELETE',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(memberData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error removing project member:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const updateProjectMemberRole = async (roleData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/project/details/members/`, {
+            method: 'PUT',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(roleData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error updating member role:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const createTag = async (tagData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/project/details/tags/`, {
+            method: 'POST',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(tagData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error creating tag:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const updateTag = async (tagData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/project/details/tags/`, {
+            method: 'PUT',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(tagData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error updating tag:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const deleteTag = async (tagData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/project/details/tags/`, {
+            method: 'DELETE',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(tagData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error deleting tag:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const deleteProject = async (projectId) => {
+    try {
+        const response = await fetch(`${BASE_URL}/project/`, {
+            method: 'DELETE',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify({ project_id: projectId })
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error deleting project:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+//***********************
+//* task_app
+//***********************
+
+export const getTasks = async (projectId, status, filterType) => {
+    try {
+        const url = `${BASE_URL}/task/?project_id=${projectId}${status ? '&status=' + status : ''}${filterType ? '&filter_type=' + filterType : ''}`;
+        const response = await fetch(url, {
+            method: 'GET',
+            credentials: 'include',
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error fetching tasks:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const createTask = async (taskData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/task/`, {
+            method: 'POST',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(taskData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error creating task:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const deleteTask = async (taskId) => {
+    try {
+        const response = await fetch(`${BASE_URL}/task/`, {
+            method: 'DELETE',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify({ task_id: taskId })
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error deleting task:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const getTaskDetails = async (taskId) => {
+    try {
+        const response = await fetch(`${BASE_URL}/task/details/?task_id=${taskId}`, {
+            method: 'GET',
+            credentials: 'include',
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error fetching task details:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const updateTask = async (taskData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/task/details/`, {
+            method: 'PUT',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(taskData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error updating task:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const assignTask = async (assignmentData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/task/details/assignees/`, {
+            method: 'POST',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(assignmentData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error assigning task:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const unassignTask = async (assignmentData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/task/details/assignees/`, {
+            method: 'DELETE',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(assignmentData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error unassigning task:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const updateAssignmentRole = async (roleData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/task/details/assignees/`, {
+            method: 'PUT',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(roleData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error updating assignment role:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const postComment = async (commentData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/task/details/comments/`, {
+            method: 'POST',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(commentData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error posting comment:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const deleteComment = async (commentData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/task/details/comments/`, {
+            method: 'DELETE',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(commentData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error deleting comment:', error);
+        return {success: false, error: 'Network Error'};
+    }
+};
+
+export const updateComment = async (commentData) => {
+    try {
+        const response = await fetch(`${BASE_URL}/task/details/comments/`, {
+            method: 'PUT',
+            credentials: 'include',
+            headers: {
+                'Content-Type': 'application/json',
+            },
+            body: JSON.stringify(commentData)
+        });
+        return await response.json();
+    } catch (error) {
+        console.error('Error updating comment:', error);
+        return {success: false, error: 'Network Error'};
+    }
 };
\ No newline at end of file
Index: frontend/src/components/Sidebar.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\n// import { useState } from 'react'\nimport { useNavigate, useLocation} from 'react-router-dom';\nimport { menuItems } from '../data/menuItems';\nimport { getInitials } from '../utils/getInitials'; // helper function to get initials from fullname\n\nfunction Sidebar({fullname = 'Josephs Victors', position = 'Product Manager'}) {\n    // const [activeTab, setActiveTab] = useState('Dashboard');\n    const navigate = useNavigate();\n    const location = useLocation();\n    // const isActive = location.pathname === item.path || (location.pathname === '/' && item.path === '/dashboard');\n\n    return (\n        <div className='flex flex-col w-[260px] h-screen fixed top-0 left-0 bg-white overflow-hidden box-border shadow-custom z-100'>\n            <div className='flex flex-row  items-center my-[25px]'>\n                {/* <button className='border-none bg-transparent cursor-pointer ml-[22px]'>\n                    <i className='fa-solid fa-bars-progress text-[1.8rem]' style={{ color: 'red' }}> </i>\n                </button> */}\n                <p className='text-[1.65rem] ml-7 font-black text-red-500'>\n                    dunzo.\n                </p>\n            </div>\n\n            <ul className='flex flex-col list-none my-[15px] p-0'>\n                {menuItems.map((item) => (\n                    <li     \n                        key={item.name}\n                        className={`nav-item ${location.pathname === item.path ? 'active' : ''}`} \n                        onClick={() => navigate(item.path)} // Navigate on click\n                        >\n                        <i className={`fa-solid ${item.icon}`}></i>\n                        {item.name}\n                    </li>\n                ))}\n            </ul>\n\n\n            <div className='flex flex-row gap-2 items-center px-6 py-3 cursor-pointer mt-auto mb-2 bg-gray-100 rounded-lg' onClick={() => navigate('/Settings')}>\n                <div className='flex fex-row items-center justify-center h-10 w-10 text-white font-bold bg-red-500 rounded-full'>\n                    {getInitials(fullname)}\n                </div>\n                <div className='flex flex-col'>\n                    <p className='font-semibold mb-0'>{fullname}</p>\n                    <p className='text-[0.9rem] text-gray-600 mt-0'>{position}</p>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Sidebar
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/Sidebar.jsx b/frontend/src/components/Sidebar.jsx
--- a/frontend/src/components/Sidebar.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/components/Sidebar.jsx	(date 1765583266770)
@@ -35,8 +35,9 @@
             </ul>
 
 
-            <div className='flex flex-row gap-2 items-center px-6 py-3 cursor-pointer mt-auto mb-2 bg-gray-100 rounded-lg' onClick={() => navigate('/Settings')}>
-                <div className='flex fex-row items-center justify-center h-10 w-10 text-white font-bold bg-red-500 rounded-full'>
+            <div className='flex flex-row gap-2 items-center px-6 py-3 cursor-pointer mt-auto mb-2 bg-gray-100 rounded-lg' 
+                onClick={() => navigate('/user/Settings')}>
+                <div className='flex flex-row items-center justify-center h-10 w-10 text-white font-bold bg-red-500 rounded-full'>
                     {getInitials(fullname)}
                 </div>
                 <div className='flex flex-col'>
Index: .idea/Dunzo.iml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/Dunzo.iml b/.idea/Dunzo.iml
new file mode 100644
--- /dev/null	(date 1765476568348)
+++ b/.idea/Dunzo.iml	(date 1765476568348)
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<module type="PYTHON_MODULE" version="4">
+  <component name="NewModuleRootManager">
+    <content url="file://$MODULE_DIR$" />
+    <orderEntry type="jdk" jdkName="Python 3.13" jdkType="Python SDK" />
+    <orderEntry type="sourceFolder" forTests="false" />
+  </component>
+</module>
\ No newline at end of file
Index: .idea/modules.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/modules.xml b/.idea/modules.xml
new file mode 100644
--- /dev/null	(date 1765476568348)
+++ b/.idea/modules.xml	(date 1765476568348)
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="ProjectModuleManager">
+    <modules>
+      <module fileurl="file://$PROJECT_DIR$/.idea/Dunzo.iml" filepath="$PROJECT_DIR$/.idea/Dunzo.iml" />
+    </modules>
+  </component>
+</project>
\ No newline at end of file
Index: frontend/src/components/timeline-app-components/TimelineCard.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/timeline-app-components/TimelineCard.jsx b/frontend/src/components/timeline-app-components/TimelineCard.jsx
new file mode 100644
--- /dev/null	(date 1765476568349)
+++ b/frontend/src/components/timeline-app-components/TimelineCard.jsx	(date 1765476568349)
@@ -0,0 +1,36 @@
+import React from 'react'
+import TimelineEntryCard from './TimelineEntryCard'
+function TimelineCard({isExpanded = false, setIsExpanded, item}) {
+    return (
+        <div className='flex flex-col justify-center mx-auto bg-white px-3 py-2 shadow-md rounded-xl'>
+            <div className='flex flex-row justify-between items-center min-w-[1000px]'>
+                <div className='flex flex-row items-center gap-4'>
+                    <div className='flex items-center justify-center bg-linear-to-br h-12 w-12 rounded-xl '
+                        style={{ backgroundColor: item.color }}>
+                        <span className='font-bold text-white text-xl'>
+                            {item.name[0]}
+                        </span>
+                    </div>
+                    <h1 className='text-xl mt-3'>{item.name}</h1>
+                </div>
+                <button className='px-3 py-2 cursor-pointer' onClick={setIsExpanded}>
+                    <i
+                        className={`fa-solid fa-angle-down transition-transform duration-300 ${
+                            isExpanded ? 'rotate-180' : ''
+                        }`}
+                    ></i>
+                </button>
+            </div>
+
+            {isExpanded && (
+                <div className='flex flex-col gap-2 mt-2'>
+                    {item.timeline.map((entry) => (
+                        <TimelineEntryCard key={entry.id} item={entry} />
+                    ))}
+                </div>
+            )}
+        </div>
+    )
+}
+
+export default TimelineCard
\ No newline at end of file
Index: frontend/src/components/SelectOptions.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\nimport { useState } from 'react'\n\nfunction SelectOptions({context, items}) {                                         // pra pina kauna sa array ipakita lol\n    const [selected, setSelected] = useState(items.length > 0 ? items[0].id : '');\n    return (\n        <div className='flex flex-row gap-2 items-center'>\n            <span className='text-gray-600 font-semibold'>{context}:</span>\n            <select className='w-30 border-gray-200 bg-white border rounded-sm py-0.5 px-3 shadow-sm cursor-pointer'\n                    value={selected} onChange={(e) => setSelected(e.target.value)}>\n                {items.map((item) => (\n                    <option className=' '\n                            key={item.id} \n                            value={item.id}>\n                        {item.name}\n                    </option>\n                ))}\n            </select>\n        </div>\n    )\n}\n\nexport default SelectOptions
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/SelectOptions.jsx b/frontend/src/components/SelectOptions.jsx
--- a/frontend/src/components/SelectOptions.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/components/SelectOptions.jsx	(date 1765476568349)
@@ -1,17 +1,21 @@
-import React from 'react'
-import { useState } from 'react'
+import React from 'react';
 
-function SelectOptions({context, items}) {                                         // pra pina kauna sa array ipakita lol
-    const [selected, setSelected] = useState(items.length > 0 ? items[0].id : '');
+// Added onValueChange prop to communicate with parent
+function SelectOptions({ context, items, onValueChange }) { 
     return (
         <div className='flex flex-row gap-2 items-center'>
             <span className='text-gray-600 font-semibold'>{context}:</span>
-            <select className='w-30 border-gray-200 bg-white border rounded-sm py-0.5 px-3 shadow-sm cursor-pointer'
-                    value={selected} onChange={(e) => setSelected(e.target.value)}>
+            <select 
+                className='w-30 border-gray-200 bg-white border rounded-sm py-0.5 px-3 shadow-sm cursor-pointer'
+                // When changed, call the parent's function
+                onChange={(e) => onValueChange(e.target.value)} 
+            >
+                <option value="all">All</option>
                 {items.map((item) => (
-                    <option className=' '
-                            key={item.id} 
-                            value={item.id}>
+                    <option 
+                        className=''
+                        key={item.id} 
+                        value={item.id}>
                         {item.name}
                     </option>
                 ))}
Index: frontend/src/components/timeline-app-components/TimelineEntryCard.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/timeline-app-components/TimelineEntryCard.jsx b/frontend/src/components/timeline-app-components/TimelineEntryCard.jsx
new file mode 100644
--- /dev/null	(date 1765476568349)
+++ b/frontend/src/components/timeline-app-components/TimelineEntryCard.jsx	(date 1765476568349)
@@ -0,0 +1,23 @@
+import React from 'react'
+
+function TimelineEntryCard({item}) {
+    return (
+        <div className='flex flex-col bg-gray-100 px-5 gap-0 rounded-sm py-2'>
+            <div className='flex flex-row items-center gap-4'>
+                <i className="fa-solid fa-caret-right text-black"></i>
+                <div className='flex flex-col'>
+                    <p><span className='font-semibold mr-1'>{item.actor}</span>
+                            {item.action}
+                            {item.target && 
+                                <span className='font-semibold italic'> {item.target} </span>   
+                            }
+                        </p>
+                    <p className='font-medium text-sm text-gray-600'>{item.timestamp}</p>
+                </div>
+                
+            </div>
+        </div>
+    )
+}
+
+export default TimelineEntryCard
\ No newline at end of file
Index: frontend/src/components/task-app-components/TaskCard.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\nimport { useState } from 'react'\n\nfunction TaskCard({setView, item, setTaskItem}) {\n    const getInitials = (name) =>\n        name\n        .split(' ')\n        .map((part) => part[0])\n        .join('')\n        .toUpperCase();\n\n    return (\n        <div className='flex flex-col max-w-100 py-5 px-4 bg-white rounded-xl shadow gap-1 transition duration-300 hover:-translate-y-1 cursor-pointer'>\n            <div className='flex flex-row justify-between'>\n                <div className='flex flex-row gap-2 items-center'>\n                    <input type='checkbox' className='h-4 w-4 accent-red-500'/>\n                    <span className='text-md text-gray-900 font-semibold'>{item.title}</span>\n                </div>\n\n                <button \n                        onClick={() => {\n                            setView(true); \n                            setTaskItem(item);\n                            }}>\n                    <i className='fas fa-ellipsis-v w-4'></i>\n                </button>                           \n            </div>\n\n            <span className='text-[12px] text-gray-600 font-medium'>{item.due_date}</span>\n            {/* tags */}\n            <div className='flex flex-row gap-1 h-2'>\n                {item.tags.map((tag)=>(\n                    <div key={tag.id} \n                        className='h-2 w-15 rounded-full'\n                        style={{ backgroundColor: tag.color }}\n                        ></div>\n                ))}\n            </div>\n\n            <div className='flex flex-row text-medium text-gray-700 my-1 gap-2 items-center'>\n                <i class=\"fa-regular fa-folder\"></i>\n                <span>{item.project === '' ? 'General' : item.project}</span>\n            </div>\n\n            {/* Status and priority level */}\n            <div className='flex flex-row gap-1 font-medium text-sm'>\n                <div className={`py-1 px-4 rounded-md\n                        ${item.priority === 'High' && 'text-red-500 bg-red-100'}\n                        ${item.priority === 'Medium' && 'text-yellow-500 bg-yellow-100'}\n                        ${item.priority === 'Low' && 'text-green-500 bg-green-100'}\n                    `}>\n                    {item.priority}\n                </div>\n\n                <div className={`py-1 px-4 rounded-md\n                                ${item.status === 'To Do' && 'bg-blue-100 text-blue-500'}\n                                ${item.status === 'In Progress' && 'bg-amber-100 text-amber-500'}\n                                ${item.status === 'Done' && 'bg-green-100 text-green-500'}\n                                ${item.status === 'Archived' && 'bg-gray-200 text-gray-500'}\n                `}>\n                    {item.status}\n                </div>\n            </div>\n\n            \n                        \n            {/* Assignee */}\n            <div className='flex flex-row justify-end'>\n                {item.users.slice(0, 3).map((mem, index) => (\n                    <div\n                    key={mem.id}\n                    style={{ backgroundColor: mem.color }}\n                    className={`flex items-center justify-center rounded-full h-9 w-9 text-white text-sm font-semibold border-white border-2 transition duration-300 hover:-translate-y-1 cursor-pointer ${\n                        index !== 0 ? 'ml-[-7px]' : ''\n                    }`}\n                    >\n                    {getInitials(mem.name)}\n                    </div>\n                ))}\n\n                {item.users.length > 5 && (\n                    <li\n                        className={`flex items-center justify-center bg-gray-600 rounded-full h-9 w-9 text-white text-sm font-semibold border-white border-2 ml-[-7px] transition duration-300 hover:-translate-y-1 cursor-pointer`}>\n                        +{item.users.length - 3}\n                    </li>\n                )}\n            </div>\n        </div>\n    )\n}\n\nexport default TaskCard
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/task-app-components/TaskCard.jsx b/frontend/src/components/task-app-components/TaskCard.jsx
--- a/frontend/src/components/task-app-components/TaskCard.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/components/task-app-components/TaskCard.jsx	(date 1765723263342)
@@ -1,5 +1,4 @@
 import React from 'react'
-import { useState } from 'react'
 
 function TaskCard({setView, item, setTaskItem}) {
     const getInitials = (name) =>
@@ -9,49 +8,66 @@
         .join('')
         .toUpperCase();
 
+    // Format date for display
+    const formatDate = (dateString) => {
+        if (!dateString) return '';
+        const date = new Date(dateString);
+        return date.toLocaleDateString('en-US', {
+            month: 'short',
+            day: 'numeric',
+            year: 'numeric'
+        });
+    };
+
     return (
-        <div className='flex flex-col max-w-100 py-5 px-4 bg-white rounded-xl shadow gap-1 transition duration-300 hover:-translate-y-1 cursor-pointer'>
+        <div
+            className='flex flex-col max-w-100 py-5 px-4 bg-white rounded-xl shadow gap-1 transition duration-300 hover:-translate-y-1 cursor-pointer'
+            onClick={() => {
+                setView(true);
+                setTaskItem(item);
+            }}
+        >
             <div className='flex flex-row justify-between'>
                 <div className='flex flex-row gap-2 items-center'>
-                    <input type='checkbox' className='h-4 w-4 accent-red-500'/>
+                    <input
+                        type='checkbox'
+                        className='h-4 w-4 accent-red-500'
+                        checked={item.status === 'Done'}
+                        readOnly
+                    />
                     <span className='text-md text-gray-900 font-semibold'>{item.title}</span>
                 </div>
 
-                <button 
-                        onClick={() => {
-                            setView(true); 
-                            setTaskItem(item);
-                            }}>
+                <button
+                    onClick={(e) => {
+                        e.stopPropagation();
+                        setView(true);
+                        setTaskItem(item);
+                    }}
+                >
                     <i className='fas fa-ellipsis-v w-4'></i>
-                </button>                           
+                </button>
             </div>
 
-            <span className='text-[12px] text-gray-600 font-medium'>{item.due_date}</span>
+            <span className='text-[12px] text-gray-600 font-medium'>
+                Due: {formatDate(item.due_date)}
+            </span>
+
             {/* tags */}
-            <div className='flex flex-row gap-1 h-2'>
-                {item.tags.map((tag)=>(
-                    <div key={tag.id} 
-                        className='h-2 w-15 rounded-full'
-                        style={{ backgroundColor: tag.color }}
-                        ></div>
-                ))}
-            </div>
-
-            <div className='flex flex-row text-medium text-gray-700 my-1 gap-2 items-center'>
-                <i class="fa-regular fa-folder"></i>
-                <span>{item.project === '' ? 'General' : item.project}</span>
+            <div className='flex flex-row gap-2 h-5 my-1'>
+                {item.tags && item.tags.map((tag) => (
+                    <div
+                        key={tag.id}
+                        className='h-5 px-2 rounded-full text-xs flex items-center justify-center text-white font-medium'
+                        style={{ backgroundColor: tag.hex_color }}
+                    >
+                        {tag.name}
+                    </div>
+                ))}
             </div>
 
-            {/* Status and priority level */}
-            <div className='flex flex-row gap-1 font-medium text-sm'>
-                <div className={`py-1 px-4 rounded-md
-                        ${item.priority === 'High' && 'text-red-500 bg-red-100'}
-                        ${item.priority === 'Medium' && 'text-yellow-500 bg-yellow-100'}
-                        ${item.priority === 'Low' && 'text-green-500 bg-green-100'}
-                    `}>
-                    {item.priority}
-                </div>
-
+            {/* Status */}
+            <div className='flex flex-row gap-1 font-medium text-sm my-2'>
                 <div className={`py-1 px-4 rounded-md
                                 ${item.status === 'To Do' && 'bg-blue-100 text-blue-500'}
                                 ${item.status === 'In Progress' && 'bg-amber-100 text-amber-500'}
@@ -62,27 +78,28 @@
                 </div>
             </div>
 
-            
-                        
-            {/* Assignee */}
+            {/* Assignees */}
             <div className='flex flex-row justify-end'>
-                {item.users.slice(0, 3).map((mem, index) => (
+                {item.assignees && item.assignees.slice(0, 3).map((mem, index) => (
                     <div
-                    key={mem.id}
-                    style={{ backgroundColor: mem.color }}
-                    className={`flex items-center justify-center rounded-full h-9 w-9 text-white text-sm font-semibold border-white border-2 transition duration-300 hover:-translate-y-1 cursor-pointer ${
-                        index !== 0 ? 'ml-[-7px]' : ''
-                    }`}
+                        key={mem.user_id}
+                        style={{ backgroundColor: `hsl(${mem.user_id * 137.508 % 360}, 70%, 60%)` }}
+                        className={`flex items-center justify-center rounded-full h-9 w-9 text-white text-sm font-semibold border-white border-2 transition duration-300 hover:-translate-y-1 cursor-pointer ${
+                            index !== 0 ? 'ml-[-7px]' : ''
+                        }`}
+                        title={`${mem.username} (${mem.role})`}
                     >
-                    {getInitials(mem.name)}
+                        {getInitials(mem.username)}
                     </div>
                 ))}
 
-                {item.users.length > 5 && (
-                    <li
-                        className={`flex items-center justify-center bg-gray-600 rounded-full h-9 w-9 text-white text-sm font-semibold border-white border-2 ml-[-7px] transition duration-300 hover:-translate-y-1 cursor-pointer`}>
-                        +{item.users.length - 3}
-                    </li>
+                {item.assignees && item.assignees.length > 3 && (
+                    <div
+                        className={`flex items-center justify-center bg-gray-600 rounded-full h-9 w-9 text-white text-sm font-semibold border-white border-2 ml-[-7px] transition duration-300 hover:-translate-y-1 cursor-pointer`}
+                        title={`${item.assignees.length - 3} more assignees`}
+                    >
+                        +{item.assignees.length - 3}
+                    </div>
                 )}
             </div>
         </div>
Index: frontend/src/components/task-app-components/ModalAddTask.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\nimport { useState } from 'react';\nimport { projectSampleData } from '../../data/projectSampleData'\nfunction ModalAddTask({onClose}) {\n\n    const [selected, setSelected] = useState(projectSampleData[0]?.id || \"\");\n\n    return (\n        <div className='flex fixed justify-center overflow-y-scroll inset-0 z-1000 bg-zinc-300/80'>\n            <div className='my-auto gap-2 flex flex-col min-w-100 bg-white shadow-md px-5 py-6 rounded-2xl font-medium'>\n                <span className=' text-gray-900 font-semibold text-2xl'>Create New Task</span>\n\n                <div className='flex flex-col gap-1'>\n                    <span className='font-semibold text-gray-900'>Task Name</span>\n                    <input  placeholder='Name your task'\n                            type='text'\n                            className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'/>\n                </div>\n\n                <div className='flex flex-col gap-1'>\n                    <span className='font-semibold text-gray-900'>Description</span>\n                    <input  placeholder='Describe your task'\n                            type='text'\n                            className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'/>\n                </div>\n\n                <div className='flex flex-col'>\n                    <span className='font-semibold text-gray-900'>Project</span>\n\n                    <select className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm cursor-pointer'\n                        value={selected} onChange={(e) => setSelected(e.target.value)}>\n                        {projectSampleData.map((project) => (\n                            <option key={project.id} \n                                    value={project.id}>\n                                {project.name}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n                \n                <div className='flex flex-row justify-center gap-2 my-5'>\n                    <button className='py-2 w-40 rounded-md bg-green-600 font-semibold text-white'\n                        onClick={onClose}>\n                        Create Task\n                    </button>\n\n                    <button className='py-2 w-40 rounded-md bg-red-600 font-semibold text-white'\n                        onClick={onClose}>\n                        Discard\n                    </button>\n                </div>\n\n            </div>\n            \n        </div>\n    )\n}\n\nexport default ModalAddTask
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/task-app-components/ModalAddTask.jsx b/frontend/src/components/task-app-components/ModalAddTask.jsx
--- a/frontend/src/components/task-app-components/ModalAddTask.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/components/task-app-components/ModalAddTask.jsx	(date 1765723263342)
@@ -1,51 +1,117 @@
 import React from 'react'
 import { useState } from 'react';
-import { projectSampleData } from '../../data/projectSampleData'
-function ModalAddTask({onClose}) {
+import { createTask } from '../../utils/https';
+
+function ModalAddTask({onClose, projects, refreshTasks}) {
+    const [taskData, setTaskData] = useState({
+        project_id: projects[0]?.id || '',
+        title: '',
+        description: '',
+        due_date: '',
+        assignee_ids: [],
+        tag_ids: []
+    });
 
-    const [selected, setSelected] = useState(projectSampleData[0]?.id || "");
+    const [loading, setLoading] = useState(false);
+    const [error, setError] = useState('');
+
+    const handleSubmit = async () => {
+        if (!taskData.project_id || !taskData.title || !taskData.due_date) {
+            setError('Please fill in all required fields');
+            return;
+        }
+
+        setLoading(true);
+        setError('');
+
+        try {
+            const response = await createTask(taskData);
+
+            if (response.success) {
+                alert('Task created successfully!');
+                refreshTasks();
+                onClose();
+            } else {
+                setError(response.error || 'Failed to create task');
+            }
+        } catch (err) {
+            setError('Network error creating task');
+        } finally {
+            setLoading(false);
+        }
+    };
 
     return (
         <div className='flex fixed justify-center overflow-y-scroll inset-0 z-1000 bg-zinc-300/80'>
             <div className='my-auto gap-2 flex flex-col min-w-100 bg-white shadow-md px-5 py-6 rounded-2xl font-medium'>
-                <span className=' text-gray-900 font-semibold text-2xl'>Create New Task</span>
+                <span className='text-gray-900 font-semibold text-2xl'>Create New Task</span>
 
+                {error && (
+                    <div className='text-red-500 text-sm'>{error}</div>
+                )}
+
                 <div className='flex flex-col gap-1'>
-                    <span className='font-semibold text-gray-900'>Task Name</span>
-                    <input  placeholder='Name your task'
-                            type='text'
-                            className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'/>
+                    <span className='font-semibold text-gray-900'>Task Name *</span>
+                    <input
+                        placeholder='Name your task'
+                        type='text'
+                        value={taskData.title}
+                        onChange={(e) => setTaskData({...taskData, title: e.target.value})}
+                        className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'
+                    />
                 </div>
 
                 <div className='flex flex-col gap-1'>
                     <span className='font-semibold text-gray-900'>Description</span>
-                    <input  placeholder='Describe your task'
-                            type='text'
-                            className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'/>
+                    <textarea
+                        placeholder='Describe your task'
+                        value={taskData.description}
+                        onChange={(e) => setTaskData({...taskData, description: e.target.value})}
+                        className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'
+                        rows="3"
+                    />
                 </div>
 
                 <div className='flex flex-col'>
-                    <span className='font-semibold text-gray-900'>Project</span>
-
-                    <select className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm cursor-pointer'
-                        value={selected} onChange={(e) => setSelected(e.target.value)}>
-                        {projectSampleData.map((project) => (
-                            <option key={project.id} 
-                                    value={project.id}>
-                                {project.name}
+                    <span className='font-semibold text-gray-900'>Project *</span>
+                    <select
+                        className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm cursor-pointer'
+                        value={taskData.project_id}
+                        onChange={(e) => setTaskData({...taskData, project_id: e.target.value})}
+                    >
+                        <option value="">Select a project</option>
+                        {projects.map((project) => (
+                            <option key={project.id} value={project.id}>
+                                {project.title}
                             </option>
                         ))}
                     </select>
                 </div>
-                
+
+                <div className='flex flex-col gap-1'>
+                    <span className='font-semibold text-gray-900'>Due Date *</span>
+                    <input
+                        type='datetime-local'
+                        value={taskData.due_date}
+                        onChange={(e) => setTaskData({...taskData, due_date: e.target.value})}
+                        className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'
+                    />
+                </div>
+
                 <div className='flex flex-row justify-center gap-2 my-5'>
-                    <button className='py-2 w-40 rounded-md bg-green-600 font-semibold text-white'
-                        onClick={onClose}>
-                        Create Task
+                    <button
+                        className='py-2 w-40 rounded-md bg-green-600 font-semibold text-white disabled:bg-green-400'
+                        onClick={handleSubmit}
+                        disabled={loading}
+                    >
+                        {loading ? 'Creating...' : 'Create Task'}
                     </button>
 
-                    <button className='py-2 w-40 rounded-md bg-red-600 font-semibold text-white'
-                        onClick={onClose}>
+                    <button
+                        className='py-2 w-40 rounded-md bg-red-600 font-semibold text-white'
+                        onClick={onClose}
+                        disabled={loading}
+                    >
                         Discard
                     </button>
                 </div>
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"AutoImportSettings\">\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\n  </component>\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"33aa42ef-630d-454b-aadd-8426bf50f91a\" name=\"Changes\" comment=\"\">\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/backend/dunzomanagement/calendarevent_app/urls.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/backend/dunzomanagement/calendarevent_app/urls.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/backend/dunzomanagement/calendarevent_app/views.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/backend/dunzomanagement/calendarevent_app/views.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/backend/dunzomanagement/project_app/views.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/backend/dunzomanagement/project_app/views.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/backend/dunzomanagement/task_app/views.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/backend/dunzomanagement/task_app/views.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/backend/dunzomanagement/timeline_app/urls.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/backend/dunzomanagement/timeline_app/urls.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/backend/dunzomanagement/timeline_app/views.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/backend/dunzomanagement/timeline_app/views.py\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"DjangoConsoleOptions\" custom-start-script=\"import sys; print('Python %s on %s' % (sys.version, sys.platform))&#10;import django; print('Django %s' % django.get_version())&#10;sys.path.extend([WORKING_DIR_AND_PYTHON_PATHS])&#10;if 'setup' in dir(django): django.setup()&#10;import django_manage_shell; django_manage_shell.run(PROJECT_ROOT)\">\n    <option name=\"myCustomStartScript\" value=\"import sys; print('Python %s on %s' % (sys.version, sys.platform))&#10;import django; print('Django %s' % django.get_version())&#10;sys.path.extend([WORKING_DIR_AND_PYTHON_PATHS])&#10;if 'setup' in dir(django): django.setup()&#10;import django_manage_shell; django_manage_shell.run(PROJECT_ROOT)\" />\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"Python Script\" />\n        <option value=\"JavaScript File\" />\n        <option value=\"JSX File\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\n      <map>\n        <entry key=\"$PROJECT_DIR$\" value=\"auth\" />\n      </map>\n    </option>\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"GitHubPullRequestSearchHistory\">{\n  &quot;lastFilter&quot;: {\n    &quot;state&quot;: &quot;OPEN&quot;,\n    &quot;assignee&quot;: &quot;DMKuZu&quot;\n  }\n}</component>\n  <component name=\"GithubPullRequestsUISettings\">{\n  &quot;selectedUrlAndAccountId&quot;: {\n    &quot;url&quot;: &quot;https://github.com/Libron-ChristianNeil/Dunzo_ProjectDB.git&quot;,\n    &quot;accountId&quot;: &quot;e7030cd0-6bfb-4d76-bfe8-972a5abe9d66&quot;\n  }\n}</component>\n  <component name=\"ProjectColorInfo\">{\n  &quot;associatedIndex&quot;: 3\n}</component>\n  <component name=\"ProjectId\" id=\"35kSkIpqhZcelkSjJpCTWayOGFu\" />\n  <component name=\"ProjectLevelVcsManager\">\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\n  </component>\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">{\n  &quot;keyToString&quot;: {\n    &quot;ModuleVcsDetector.initialDetectionPerformed&quot;: &quot;true&quot;,\n    &quot;Python.views.executor&quot;: &quot;Run&quot;,\n    &quot;RunOnceActivity.OpenDjangoStructureViewOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.TerminalTabsStorage.copyFrom.TerminalArrangementManager.252&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,\n    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,\n    &quot;SHELLCHECK.PATH&quot;: &quot;I do mind&quot;,\n    &quot;Shell Script.Full Stack.executor&quot;: &quot;Run&quot;,\n    &quot;git-widget-placeholder&quot;: &quot;combined&quot;,\n    &quot;junie.onboarding.icon.badge.shown&quot;: &quot;true&quot;,\n    &quot;last_opened_file_path&quot;: &quot;/home/kuzu/PycharmProjects/Dunzo_ProjectDB/run_fullstack.sh&quot;,\n    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,\n    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,\n    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,\n    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,\n    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,\n    &quot;settings.editor.selected.configurable&quot;: &quot;com.jetbrains.python.configuration.PyActiveSdkModuleConfigurable&quot;,\n    &quot;to.speed.mode.migration.done&quot;: &quot;true&quot;,\n    &quot;ts.external.directory.path&quot;: &quot;/home/kuzu/.local/share/JetBrains/Toolbox/apps/pycharm/plugins/javascript-plugin/jsLanguageServicesImpl/external&quot;,\n    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;\n  }\n}</component>\n  <component name=\"RecentsManager\">\n    <key name=\"CopyFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/backend/dunzomanagement\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/timeline_app/static/timeline_app/css\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/timeline_app/templates/timeline_app\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/task_app/static/task_app/css\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/task_app/templates/task_app\" />\n    </key>\n    <key name=\"MoveFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/dunzomanagement/templates/main\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/dunzomanagement/static/main\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/dunzomanagement/templates\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/dunzomanagement/static/css\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/dunzomanagement/static\" />\n    </key>\n  </component>\n  <component name=\"RunManager\" selected=\"Shell Script.Full Stack\">\n    <configuration name=\"Dunzo_ProjectDB\" type=\"Python.DjangoServer\" factoryName=\"Django server\">\n      <module name=\"Dunzo_ProjectDB\" />\n      <option name=\"ENV_FILES\" value=\"\" />\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\n      <option name=\"PARENT_ENVS\" value=\"true\" />\n      <envs>\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\n      </envs>\n      <option name=\"SDK_HOME\" value=\"\" />\n      <option name=\"SDK_NAME\" value=\"Python 3.13\" />\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$/backend/dunzomanagement\" />\n      <option name=\"IS_MODULE_SDK\" value=\"false\" />\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\n      <option name=\"launchJavascriptDebuger\" value=\"false\" />\n      <option name=\"port\" value=\"8000\" />\n      <option name=\"host\" value=\"\" />\n      <option name=\"additionalOptions\" value=\"\" />\n      <option name=\"browserUrl\" value=\"\" />\n      <option name=\"runTestServer\" value=\"false\" />\n      <option name=\"runNoReload\" value=\"false\" />\n      <option name=\"useCustomRunCommand\" value=\"false\" />\n      <option name=\"customRunCommand\" value=\"\" />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"Full Stack\" type=\"ShConfigurationType\">\n      <option name=\"SCRIPT_TEXT\" value=\"\" />\n      <option name=\"INDEPENDENT_SCRIPT_PATH\" value=\"true\" />\n      <option name=\"SCRIPT_PATH\" value=\"$PROJECT_DIR$/run_fullstack.sh\" />\n      <option name=\"SCRIPT_OPTIONS\" value=\"\" />\n      <option name=\"INDEPENDENT_SCRIPT_WORKING_DIRECTORY\" value=\"true\" />\n      <option name=\"SCRIPT_WORKING_DIRECTORY\" value=\"$PROJECT_DIR$\" />\n      <option name=\"INDEPENDENT_INTERPRETER_PATH\" value=\"true\" />\n      <option name=\"INTERPRETER_PATH\" value=\"/bin/bash\" />\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\n      <option name=\"EXECUTE_IN_TERMINAL\" value=\"true\" />\n      <option name=\"EXECUTE_SCRIPT_FILE\" value=\"true\" />\n      <envs />\n      <method v=\"2\" />\n    </configuration>\n    <list>\n      <item itemvalue=\"Django Server.Dunzo_ProjectDB\" />\n      <item itemvalue=\"Shell Script.Full Stack\" />\n    </list>\n  </component>\n  <component name=\"SharedIndexes\">\n    <attachedChunks>\n      <set>\n        <option value=\"bundled-js-predefined-d6986cc7102b-9c94529fcfe0-JavaScript-PY-252.26199.168\" />\n        <option value=\"bundled-python-sdk-b3d66beaba9a-c6efb3732140-com.jetbrains.pycharm.pro.sharedIndexes.bundled-PY-252.26199.168\" />\n      </set>\n    </attachedChunks>\n  </component>\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"33aa42ef-630d-454b-aadd-8426bf50f91a\" name=\"Changes\" comment=\"\" />\n      <created>1763652718779</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1763652718779</updated>\n      <workItem from=\"1763652722640\" duration=\"212000\" />\n      <workItem from=\"1763652968929\" duration=\"3126000\" />\n      <workItem from=\"1763823527511\" duration=\"1318000\" />\n      <workItem from=\"1763887112293\" duration=\"1315000\" />\n      <workItem from=\"1763992190680\" duration=\"61000\" />\n      <workItem from=\"1764008108331\" duration=\"7864000\" />\n      <workItem from=\"1764057701514\" duration=\"560000\" />\n      <workItem from=\"1764230112166\" duration=\"95878000\" />\n      <workItem from=\"1764588836457\" duration=\"718000\" />\n      <workItem from=\"1764758846613\" duration=\"34000\" />\n      <workItem from=\"1764988719844\" duration=\"3308000\" />\n      <workItem from=\"1765034342109\" duration=\"930000\" />\n      <workItem from=\"1765084283120\" duration=\"833000\" />\n      <workItem from=\"1765116782951\" duration=\"608000\" />\n      <workItem from=\"1765291077958\" duration=\"1500000\" />\n      <workItem from=\"1765299658053\" duration=\"2719000\" />\n      <workItem from=\"1765302528871\" duration=\"1667000\" />\n      <workItem from=\"1765333096447\" duration=\"9396000\" />\n      <workItem from=\"1765345499561\" duration=\"943000\" />\n      <workItem from=\"1765375748733\" duration=\"23039000\" />\n      <workItem from=\"1765447958102\" duration=\"9207000\" />\n      <workItem from=\"1765473405993\" duration=\"2978000\" />\n    </task>\n    <servers />\n  </component>\n  <component name=\"TypeScriptGeneratedFilesManager\">\n    <option name=\"version\" value=\"3\" />\n  </component>\n  <component name=\"UnknownFeatures\">\n    <option featureType=\"dependencySupport\" implementationName=\"javascript:npm:react\" />\n    <option featureType=\"dependencySupport\" implementationName=\"javascript:npm:tailwindcss\" />\n    <option featureType=\"dependencySupport\" implementationName=\"javascript:npm:vite\" />\n    <option featureType=\"dependencySupport\" implementationName=\"executable:podman\" />\n  </component>\n  <component name=\"com.intellij.coverage.CoverageDataManagerImpl\">\n    <SUITE FILE_PATH=\"coverage/Dunzo_ProjectDB$views.coverage\" NAME=\"views Coverage Results\" MODIFIED=\"1764279867929\" SOURCE_PROVIDER=\"com.intellij.coverage.DefaultCoverageFileProvider\" RUNNER=\"coverage.py\" COVERAGE_BY_TEST_ENABLED=\"false\" COVERAGE_TRACING_ENABLED=\"false\" WORKING_DIRECTORY=\"$PROJECT_DIR$/dunzomanagement/dunzomanagement\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/.idea/workspace.xml	(date 1765723483369)
@@ -4,14 +4,8 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="33aa42ef-630d-454b-aadd-8426bf50f91a" name="Changes" comment="">
+    <list default="true" id="33aa42ef-630d-454b-aadd-8426bf50f91a" name="Changes" comment="fixed ledon">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/backend/dunzomanagement/calendarevent_app/urls.py" beforeDir="false" afterPath="$PROJECT_DIR$/backend/dunzomanagement/calendarevent_app/urls.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/backend/dunzomanagement/calendarevent_app/views.py" beforeDir="false" afterPath="$PROJECT_DIR$/backend/dunzomanagement/calendarevent_app/views.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/backend/dunzomanagement/project_app/views.py" beforeDir="false" afterPath="$PROJECT_DIR$/backend/dunzomanagement/project_app/views.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/backend/dunzomanagement/task_app/views.py" beforeDir="false" afterPath="$PROJECT_DIR$/backend/dunzomanagement/task_app/views.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/backend/dunzomanagement/timeline_app/urls.py" beforeDir="false" afterPath="$PROJECT_DIR$/backend/dunzomanagement/timeline_app/urls.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/backend/dunzomanagement/timeline_app/views.py" beforeDir="false" afterPath="$PROJECT_DIR$/backend/dunzomanagement/timeline_app/views.py" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -61,31 +55,31 @@
     <option name="hideEmptyMiddlePackages" value="true" />
     <option name="showLibraryContents" value="true" />
   </component>
-  <component name="PropertiesComponent">{
-  &quot;keyToString&quot;: {
-    &quot;ModuleVcsDetector.initialDetectionPerformed&quot;: &quot;true&quot;,
-    &quot;Python.views.executor&quot;: &quot;Run&quot;,
-    &quot;RunOnceActivity.OpenDjangoStructureViewOnStart&quot;: &quot;true&quot;,
-    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
-    &quot;RunOnceActivity.TerminalTabsStorage.copyFrom.TerminalArrangementManager.252&quot;: &quot;true&quot;,
-    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,
-    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,
-    &quot;SHELLCHECK.PATH&quot;: &quot;I do mind&quot;,
-    &quot;Shell Script.Full Stack.executor&quot;: &quot;Run&quot;,
-    &quot;git-widget-placeholder&quot;: &quot;combined&quot;,
-    &quot;junie.onboarding.icon.badge.shown&quot;: &quot;true&quot;,
-    &quot;last_opened_file_path&quot;: &quot;/home/kuzu/PycharmProjects/Dunzo_ProjectDB/run_fullstack.sh&quot;,
-    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,
-    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,
-    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,
-    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,
-    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,
-    &quot;settings.editor.selected.configurable&quot;: &quot;com.jetbrains.python.configuration.PyActiveSdkModuleConfigurable&quot;,
-    &quot;to.speed.mode.migration.done&quot;: &quot;true&quot;,
-    &quot;ts.external.directory.path&quot;: &quot;/home/kuzu/.local/share/JetBrains/Toolbox/apps/pycharm/plugins/javascript-plugin/jsLanguageServicesImpl/external&quot;,
-    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;
+  <component name="PropertiesComponent"><![CDATA[{
+  "keyToString": {
+    "ModuleVcsDetector.initialDetectionPerformed": "true",
+    "Python.views.executor": "Run",
+    "RunOnceActivity.OpenDjangoStructureViewOnStart": "true",
+    "RunOnceActivity.ShowReadmeOnStart": "true",
+    "RunOnceActivity.TerminalTabsStorage.copyFrom.TerminalArrangementManager.252": "true",
+    "RunOnceActivity.git.unshallow": "true",
+    "SHARE_PROJECT_CONFIGURATION_FILES": "true",
+    "SHELLCHECK.PATH": "I do mind",
+    "Shell Script.Full Stack.executor": "Run",
+    "git-widget-placeholder": "verdida",
+    "junie.onboarding.icon.badge.shown": "true",
+    "last_opened_file_path": "/home/kuzu/PycharmProjects/Dunzo_ProjectDB/run_fullstack.sh",
+    "node.js.detected.package.eslint": "true",
+    "node.js.detected.package.tslint": "true",
+    "node.js.selected.package.eslint": "(autodetect)",
+    "node.js.selected.package.tslint": "(autodetect)",
+    "nodejs_package_manager_path": "npm",
+    "settings.editor.selected.configurable": "com.jetbrains.python.configuration.PyActiveSdkModuleConfigurable",
+    "to.speed.mode.migration.done": "true",
+    "ts.external.directory.path": "/home/kuzu/.local/share/JetBrains/Toolbox/apps/pycharm/plugins/javascript-plugin/jsLanguageServicesImpl/external",
+    "vue.rearranger.settings.migration": "true"
   }
-}</component>
+}]]></component>
   <component name="RecentsManager">
     <key name="CopyFile.RECENT_KEYS">
       <recent name="$PROJECT_DIR$/backend/dunzomanagement" />
@@ -184,8 +178,19 @@
       <workItem from="1765345499561" duration="943000" />
       <workItem from="1765375748733" duration="23039000" />
       <workItem from="1765447958102" duration="9207000" />
-      <workItem from="1765473405993" duration="2978000" />
+      <workItem from="1765473405993" duration="5859000" />
+      <workItem from="1765582152478" duration="1572000" />
+      <workItem from="1765723163863" duration="316000" />
+    </task>
+    <task id="LOCAL-00001" summary="fixed ledon">
+      <option name="closed" value="true" />
+      <created>1765583672639</created>
+      <option name="number" value="00001" />
+      <option name="presentableId" value="LOCAL-00001" />
+      <option name="project" value="LOCAL" />
+      <updated>1765583672639</updated>
     </task>
+    <option name="localTasksCounter" value="2" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -196,6 +201,21 @@
     <option featureType="dependencySupport" implementationName="javascript:npm:tailwindcss" />
     <option featureType="dependencySupport" implementationName="javascript:npm:vite" />
     <option featureType="dependencySupport" implementationName="executable:podman" />
+  </component>
+  <component name="Vcs.Log.Tabs.Properties">
+    <option name="TAB_STATES">
+      <map>
+        <entry key="MAIN">
+          <value>
+            <State />
+          </value>
+        </entry>
+      </map>
+    </option>
+  </component>
+  <component name="VcsManagerConfiguration">
+    <MESSAGE value="fixed ledon" />
+    <option name="LAST_COMMIT_MESSAGE" value="fixed ledon" />
   </component>
   <component name="com.intellij.coverage.CoverageDataManagerImpl">
     <SUITE FILE_PATH="coverage/Dunzo_ProjectDB$views.coverage" NAME="views Coverage Results" MODIFIED="1764279867929" SOURCE_PROVIDER="com.intellij.coverage.DefaultCoverageFileProvider" RUNNER="coverage.py" COVERAGE_BY_TEST_ENABLED="false" COVERAGE_TRACING_ENABLED="false" WORKING_DIRECTORY="$PROJECT_DIR$/dunzomanagement/dunzomanagement" />
Index: frontend/src/components/projects-app-components/ModalAddProject.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\n\nfunction ModalAddProject({onClose}) {\n    const dateCreated = new Date(); //checker rani\n    return (\n        <div className='flex fixed inset-0 z-1000 bg-zinc-300/80 justify-center items-center '>\n            <div className='flex flex-col gap-3 bg-white shadow-md px-5 py-6 rounded-2xl font-medium'>\n                <span className=' text-gray-900 font-semibold text-2xl'>Create New Project</span>\n\n                <div className='flex flex-col gap-1'>\n                    <span className='font-semibold text-gray-900'>Project Name</span>\n                    <input  placeholder='Name your project'\n                            type='text'\n                            className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'/>\n                </div>\n\n                <div className='flex flex-row gap-1 text-gray-800 items-center'>\n                    <input  type='color'\n                            className='h-10 w-15 border-none rounded'/>\n                    <span>Pick a color for your project</span>\n                </div>\n\n                <div className='flex flex-col gap-1'>\n                    <span className='font-semibold text-gray-900'>Project Description</span>\n                    <input  placeholder='Describe your project'\n                            type='text'\n                            className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'/>\n                </div>\n\n                <div className='grid grid-cols-2 gap-2'>\n                    <div className='flex flex-col'>\n                        <span className='font-semibold text-gray-900'>Start Date</span>\n                        <input type='date'\n                                className='py-2 px-3 border border-gray-300 rounded-sm'\n                                />\n                    </div>\n\n                    <div className='flex flex-col'>\n                        <span className='font-semibold text-gray-900'>End Date</span>\n                        <input type='date'\n                                className='py-2 px-3 border border-gray-300 rounded-sm'/>    \n                    </div>\n                    \n                    \n                </div>\n\n                \n\n                <div className='flex flex-col gap-1'>\n                    <span className='font-semibold text-gray-900'>Team</span>\n                    <div>\n                        <button className='h-9 w-9 rounded-full border-2 border-gray-400'>\n                            <i class=\"fa-solid fa-plus text-gray-700\"></i>\n                        </button>\n                    </div>\n                </div>\n                \n                <div className='flex flex-row justify-center gap-2 my-5'>\n                    <button className='py-2 w-40 rounded-md bg-green-600 font-semibold text-white'\n                        onClick={onClose}>\n                        Create Project\n                    </button>\n\n                    <button className='py-2 w-40 rounded-md bg-red-600 font-semibold text-white'\n                        onClick={onClose}>\n                        Discard\n                    </button>\n                </div>\n            </div>\n            \n            \n        </div>\n        \n    )\n}\n\nexport default ModalAddProject
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/projects-app-components/ModalAddProject.jsx b/frontend/src/components/projects-app-components/ModalAddProject.jsx
--- a/frontend/src/components/projects-app-components/ModalAddProject.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/components/projects-app-components/ModalAddProject.jsx	(date 1765723263341)
@@ -1,76 +1,101 @@
-import React from 'react'
+import React, { useState } from 'react'
+import { createProject } from '../../utils/https';
+
+function ModalAddProject({onClose, onSuccess}) {
+    const [title, setTitle] = useState('');
+    const [description, setDescription] = useState('');
+    const [startDate, setStartDate] = useState('');
+    const [endDate, setEndDate] = useState('');
+    const [loading, setLoading] = useState(false);
 
-function ModalAddProject({onClose}) {
-    const dateCreated = new Date(); //checker rani
+    const handleSubmit = async () => {
+        if (!title || !startDate || !endDate) {
+            alert('Please fill in all required fields');
+            return;
+        }
+
+        setLoading(true);
+        const result = await createProject({
+            title: title,
+            description: description,
+            start_date: startDate,
+            end_date: endDate
+        });
+
+        setLoading(false);
+
+        if (result.success) {
+            alert('Project created successfully!');
+            onSuccess();
+            onClose();
+        } else {
+            alert(`Failed to create project: ${result.error}`);
+        }
+    };
+
     return (
         <div className='flex fixed inset-0 z-1000 bg-zinc-300/80 justify-center items-center '>
             <div className='flex flex-col gap-3 bg-white shadow-md px-5 py-6 rounded-2xl font-medium'>
                 <span className=' text-gray-900 font-semibold text-2xl'>Create New Project</span>
 
                 <div className='flex flex-col gap-1'>
-                    <span className='font-semibold text-gray-900'>Project Name</span>
-                    <input  placeholder='Name your project'
-                            type='text'
-                            className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'/>
+                    <span className='font-semibold text-gray-900'>Project Name *</span>
+                    <input
+                        placeholder='Name your project'
+                        type='text'
+                        value={title}
+                        onChange={(e) => setTitle(e.target.value)}
+                        className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'/>
                 </div>
-
-                <div className='flex flex-row gap-1 text-gray-800 items-center'>
-                    <input  type='color'
-                            className='h-10 w-15 border-none rounded'/>
-                    <span>Pick a color for your project</span>
-                </div>
 
                 <div className='flex flex-col gap-1'>
                     <span className='font-semibold text-gray-900'>Project Description</span>
-                    <input  placeholder='Describe your project'
-                            type='text'
-                            className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'/>
+                    <input
+                        placeholder='Describe your project'
+                        type='text'
+                        value={description}
+                        onChange={(e) => setDescription(e.target.value)}
+                        className='min-w-100 w-100% border border-gray-300 py-2 px-3 rounded-sm'/>
                 </div>
 
                 <div className='grid grid-cols-2 gap-2'>
                     <div className='flex flex-col'>
-                        <span className='font-semibold text-gray-900'>Start Date</span>
-                        <input type='date'
-                                className='py-2 px-3 border border-gray-300 rounded-sm'
-                                />
+                        <span className='font-semibold text-gray-900'>Start Date *</span>
+                        <input
+                            type='date'
+                            value={startDate}
+                            onChange={(e) => setStartDate(e.target.value)}
+                            className='py-2 px-3 border border-gray-300 rounded-sm'
+                            />
                     </div>
 
                     <div className='flex flex-col'>
-                        <span className='font-semibold text-gray-900'>End Date</span>
-                        <input type='date'
-                                className='py-2 px-3 border border-gray-300 rounded-sm'/>    
+                        <span className='font-semibold text-gray-900'>End Date *</span>
+                        <input
+                            type='date'
+                            value={endDate}
+                            onChange={(e) => setEndDate(e.target.value)}
+                            className='py-2 px-3 border border-gray-300 rounded-sm'/>
                     </div>
-                    
-                    
                 </div>
 
-                
-
-                <div className='flex flex-col gap-1'>
-                    <span className='font-semibold text-gray-900'>Team</span>
-                    <div>
-                        <button className='h-9 w-9 rounded-full border-2 border-gray-400'>
-                            <i class="fa-solid fa-plus text-gray-700"></i>
-                        </button>
-                    </div>
-                </div>
-                
                 <div className='flex flex-row justify-center gap-2 my-5'>
-                    <button className='py-2 w-40 rounded-md bg-green-600 font-semibold text-white'
-                        onClick={onClose}>
-                        Create Project
+                    <button
+                        className={`py-2 w-40 rounded-md font-semibold text-white ${loading ? 'bg-green-400' : 'bg-green-600'}`}
+                        onClick={handleSubmit}
+                        disabled={loading}>
+                        {loading ? 'Creating...' : 'Create Project'}
                     </button>
 
-                    <button className='py-2 w-40 rounded-md bg-red-600 font-semibold text-white'
-                        onClick={onClose}>
+                    <button
+                        className='py-2 w-40 rounded-md bg-red-600 font-semibold text-white'
+                        onClick={onClose}
+                        disabled={loading}>
                         Discard
                     </button>
                 </div>
             </div>
-            
-            
         </div>
-        
     )
 }
 
Index: frontend/src/components/projects-app-components/ProjectCard.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\nimport { getInitials } from '../../utils/getInitials';\nfunction ProjectCard({item, setViewProject, setProjectItem}) {\n    \n    return (\n        <div className='flex flex-col rounded-xl shadow bg-white p-6 min-w-100 gap-3 transition duration-300 hover:-translate-y-1 cursor-pointer'>\n            {/* project icon */}\n            <div className='flex flex-row justify-between'>\n                <div style={{ backgroundColor: item.color }} \n                    className='flex items-center justify-center bg-linear-to-br h-12 w-12 rounded-xl'>\n                    <span className='font-bold text-white text-xl'>{item.name[0]}</span>\n                </div>\n\n                <button onClick={() =>{\n                        setViewProject(true);\n                        setProjectItem(item);\n                    }}>\n                    <i className='fas fa-ellipsis-v w-4'></i>\n                </button>\n                \n            </div>\n            \n\n            {/* project name */}\n            <span className='font-semibold text-gray-900 text-md'>{item.name}</span>\n            \n\n            {/* dates */}\n            <div className='text-sm text-gray-700'>\n                <p>Start Date: <span className='text-gray-900'>{item.startDate}</span></p>\n                <p>End Date: <span className='text-gray-900'>{item.endDate}</span></p>\n            </div>\n\n            {/* Description */}\n            <div className='text-gray-700 text-sm'>\n                {item.desc}\n            </div>\n\n            {/* stats */}\n            <div className='flex flex-row justify-around bg-gray-50 py-4 rounded-xl shadow-2xs'>\n                <div className='flex flex-col items-center justify-center'>\n                    <p className='font-bold text-xl text-gray-800 m-0 p-0'>{item.numTask}</p>\n                    <p className='m-0 p-0 text-sm text-gray-600'>Task</p>\n                </div>\n\n                <div className='flex flex-col items-center justify-center'>\n                    <p className='font-bold text-xl text-gray-800 m-0 p-0'>{item.numComplete}</p>\n                    <p className='m-0 p-0 text-sm text-gray-600'>Done</p>\n                </div>\n\n                <div className='flex flex-col items-center justify-center'>\n                    <p className='font-bold text-xl text-gray-800 m-0 p-0'>{item.numMembers}</p>\n                    <p className='m-0 p-0 text-sm text-gray-600'>Team</p>\n                </div>\n            </div>\n\n            {/* Progress Bar */}\n            <div className='flex flex-col'>\n                <span className='text-gray-600 text-sm mb-1'>Overall Progress</span>\n                <div className='bg-gray-300 w-full h-2 rounded-full shadow-2xl'>\n                    <div className={` h-2 rounded-full\n                                    ${item.percentage == '100' ? 'bg-green-500' : 'bg-red-500'}`} \n                        style={{ width: `${item.percentage}%` }}></div>\n                </div>\n            </div>\n                    \n            <div className='flex flex-row mt-3 justify-between align-middle'>\n                {/* members */}\n                <div>\n                    <ul className='flex flex-row'>\n                        {item.members.slice(0, 5).map((mem, index) => (\n                            <li\n                                key={mem.id}\n                                style={{ backgroundColor: mem.avatarColor }}\n                                className={`flex items-center justify-center rounded-full h-9 w-9 text-white text-sm font-semibold border-white border-2 transition duration-300 hover:-translate-y-1 cursor-pointer\n                                            ${index !== 0 ? 'ml-[-7px]' : ''}`}>\n                                {getInitials(mem.name)}\n                            </li>\n                        ))}\n\n                        {item.members.length > 5 && (\n                            <li\n                                className={`flex items-center justify-center bg-gray-600 rounded-full h-9 w-9 text-white text-sm font-semibold border-white border-2 ml-[-7px] transition duration-300 hover:-translate-y-1 cursor-pointer`}>\n                                +{item.members.length - 5}\n                            </li>\n                        )}\n                    </ul>\n                </div>\n                {/* status */}\n                <div className={`flex flex-row items-center justify-center font-semibold py-1 px-4 rounded-full\n                        ${item.status === 'Active' && 'bg-blue-100 text-blue-500'}\n                        ${item.status === 'Completed' && 'bg-green-100 text-green-500'}\n                        ${item.status === 'Archived' && 'bg-gray-200 text-gray-700'}`}>\n                    {item.status}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ProjectCard
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/projects-app-components/ProjectCard.jsx b/frontend/src/components/projects-app-components/ProjectCard.jsx
--- a/frontend/src/components/projects-app-components/ProjectCard.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/components/projects-app-components/ProjectCard.jsx	(date 1765723263342)
@@ -1,99 +1,25 @@
 import React from 'react'
 import { getInitials } from '../../utils/getInitials';
-function ProjectCard({item, setViewProject, setProjectItem}) {
-    
-    return (
-        <div className='flex flex-col rounded-xl shadow bg-white p-6 min-w-100 gap-3 transition duration-300 hover:-translate-y-1 cursor-pointer'>
-            {/* project icon */}
-            <div className='flex flex-row justify-between'>
-                <div style={{ backgroundColor: item.color }} 
-                    className='flex items-center justify-center bg-linear-to-br h-12 w-12 rounded-xl'>
-                    <span className='font-bold text-white text-xl'>{item.name[0]}</span>
-                </div>
+
+function ProjectCard({project, setViewProject, setSelectedProjectId}) {
 
-                <button onClick={() =>{
-                        setViewProject(true);
-                        setProjectItem(item);
-                    }}>
-                    <i className='fas fa-ellipsis-v w-4'></i>
-                </button>
-                
-            </div>
-            
+    const handleClick = () => {
+        setSelectedProjectId(project.project_id);
+        setViewProject(true);
+    };
 
-            {/* project name */}
-            <span className='font-semibold text-gray-900 text-md'>{item.name}</span>
-            
+    return (
+        <div className='flex flex-col rounded-xl shadow bg-white p-6 min-w-100 gap-3 transition duration-300 hover:-translate-y-1 cursor-pointer'
+             onClick={handleClick}>
+            {/* ... (rest of the JSX remains the same) */}
 
             {/* dates */}
             <div className='text-sm text-gray-700'>
-                <p>Start Date: <span className='text-gray-900'>{item.startDate}</span></p>
-                <p>End Date: <span className='text-gray-900'>{item.endDate}</span></p>
-            </div>
-
-            {/* Description */}
-            <div className='text-gray-700 text-sm'>
-                {item.desc}
-            </div>
-
-            {/* stats */}
-            <div className='flex flex-row justify-around bg-gray-50 py-4 rounded-xl shadow-2xs'>
-                <div className='flex flex-col items-center justify-center'>
-                    <p className='font-bold text-xl text-gray-800 m-0 p-0'>{item.numTask}</p>
-                    <p className='m-0 p-0 text-sm text-gray-600'>Task</p>
-                </div>
-
-                <div className='flex flex-col items-center justify-center'>
-                    <p className='font-bold text-xl text-gray-800 m-0 p-0'>{item.numComplete}</p>
-                    <p className='m-0 p-0 text-sm text-gray-600'>Done</p>
-                </div>
-
-                <div className='flex flex-col items-center justify-center'>
-                    <p className='font-bold text-xl text-gray-800 m-0 p-0'>{item.numMembers}</p>
-                    <p className='m-0 p-0 text-sm text-gray-600'>Team</p>
-                </div>
-            </div>
-
-            {/* Progress Bar */}
-            <div className='flex flex-col'>
-                <span className='text-gray-600 text-sm mb-1'>Overall Progress</span>
-                <div className='bg-gray-300 w-full h-2 rounded-full shadow-2xl'>
-                    <div className={` h-2 rounded-full
-                                    ${item.percentage == '100' ? 'bg-green-500' : 'bg-red-500'}`} 
-                        style={{ width: `${item.percentage}%` }}></div>
-                </div>
+                <p>Start Date: <span className='text-gray-900'>{new Date(project.start_date).toLocaleDateString()}</span></p>
+                <p>End Date: <span className='text-gray-900'>{new Date(project.end_date).toLocaleDateString()}</span></p>
             </div>
-                    
-            <div className='flex flex-row mt-3 justify-between align-middle'>
-                {/* members */}
-                <div>
-                    <ul className='flex flex-row'>
-                        {item.members.slice(0, 5).map((mem, index) => (
-                            <li
-                                key={mem.id}
-                                style={{ backgroundColor: mem.avatarColor }}
-                                className={`flex items-center justify-center rounded-full h-9 w-9 text-white text-sm font-semibold border-white border-2 transition duration-300 hover:-translate-y-1 cursor-pointer
-                                            ${index !== 0 ? 'ml-[-7px]' : ''}`}>
-                                {getInitials(mem.name)}
-                            </li>
-                        ))}
 
-                        {item.members.length > 5 && (
-                            <li
-                                className={`flex items-center justify-center bg-gray-600 rounded-full h-9 w-9 text-white text-sm font-semibold border-white border-2 ml-[-7px] transition duration-300 hover:-translate-y-1 cursor-pointer`}>
-                                +{item.members.length - 5}
-                            </li>
-                        )}
-                    </ul>
-                </div>
-                {/* status */}
-                <div className={`flex flex-row items-center justify-center font-semibold py-1 px-4 rounded-full
-                        ${item.status === 'Active' && 'bg-blue-100 text-blue-500'}
-                        ${item.status === 'Completed' && 'bg-green-100 text-green-500'}
-                        ${item.status === 'Archived' && 'bg-gray-200 text-gray-700'}`}>
-                    {item.status}
-                </div>
-            </div>
+            {/* ... (rest of the JSX remains the same) */}
         </div>
     )
 }
Index: .idea/copilotDiffState.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"CopilotDiffPersistence\">\n    <option name=\"pendingDiffs\">\n      <map>\n        <entry key=\"$PROJECT_DIR$/backend/dunzomanagement/project_app/views.py\">\n          <value>\n            <PendingDiffInfo>\n              <option name=\"filePath\" value=\"$PROJECT_DIR$/backend/dunzomanagement/project_app/views.py\" />\n              <option name=\"originalContent\" value=\"import json&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import *&#10;User = apps.get_model(app_label='user_app', model_name='User')&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    def get(self, request):&#10;        user_id = request.user.pk&#10;&#10;        filter_type = request.GET.get('filter', 'Active')&#10;&#10;        # Validate filter to prevent SQL issues (optional but good practice)&#10;        valid_filters = ['Active', 'Archived', 'Complete', 'All', 'Leader']&#10;        if filter_type not in valid_filters:&#10;            filter_type = 'Active'&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call the Stored Procedure&#10;                cursor.callproc(&quot;get_user_projects&quot;, [user_id, filter_type])&#10;&#10;                # Fetch the JSON result&#10;                projects_data = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({'success': True, 'projects': projects_data})&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Projects Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;&#10;        # Extract data from the request body&#10;        user_id = request.user.pk&#10;        title = data.get('title')&#10;        description = data.get('description', '')  # Default to empty string if missing&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;&#10;        # Basic Validation&#10;        if not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Title, Start Date, and End Date are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_user_id, p_title, p_description, p_start_date, p_end_date)&#10;                cursor.callproc(&#10;                    &quot;create_project&quot;,&#10;                    [user_id, title, description, start_date, end_date]&#10;                )&#10;&#10;                # Fetch the returned Project ID&#10;                new_project_id = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({&#10;                    'success': True,&#10;                    'message': 'Project created successfully',&#10;                    'project_id': new_project_id&#10;                }, status=201)&#10;&#10;        except Exception as e:&#10;            # Log error for debugging (optional)&#10;            print(f&quot;Create Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    def delete(self, request):&#10;        user_id = request.user.pk&#10;&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required'}, status=400)&#10;&#10;        try:&#10;            # 1. Security Check: Only the 'Leader' can delete&#10;            # We check if a membership exists that matches: User + Project + Role='Leader'&#10;            is_leader = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=user_id,&#10;                role='Leader'&#10;            ).exists()&#10;&#10;            if not is_leader:&#10;                return JsonResponse({&#10;                    'success': False,&#10;                    'error': 'Permission denied. Only the Leader can delete this project.'&#10;                }, status=403)&#10;&#10;            # 2. Perform Delete&#10;            Project.objects.get(pk=project_id).delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Project deleted successfully'})&#10;&#10;        except Project.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Project not found'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectDetailView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # get project details&#10;    def get(self, request):&#10;        project_id = request.GET.get('project_id')&#10;        user_id = request.user.pk&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_user_id)&#10;                cursor.callproc(&#10;                    &quot;get_project_details&quot;,&#10;                    [project_id, user_id]&#10;                )&#10;&#10;                # Fetch the single JSON blob result&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check status code based on result success&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Determine error code (403 for Unauthorized, 404 for Not Found)&#10;                    error_msg = result.get('error', '')&#10;                    status_code = 403 if 'Unauthorized' in error_msg else 404&#10;                    return JsonResponse(result, status=status_code)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Project Details Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # update project details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        title = data.get('title')&#10;        description = data.get('description', '')&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;        status = data.get('status')&#10;&#10;        # Basic Validation&#10;        if not project_id or not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Project ID, Title, and Dates are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_user_id, p_title, p_description, p_start_date, p_end_date,status)&#10;                cursor.callproc(&#10;                    &quot;update_project&quot;,&#10;                    [project_id, user_id, title, description, start_date, end_date, status]&#10;                )&#10;&#10;                # The procedure returns True (Success) or False (Not Leader/Failed)&#10;                success = cursor.fetchone()[0]&#10;&#10;                if success:&#10;                    return JsonResponse({'success': True, 'message': 'Project updated successfully'})&#10;                else:&#10;                    return JsonResponse({&#10;                        'success': False,&#10;                        'error': 'Permission denied. Only the Leader can edit this project.'&#10;                    }, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectMembershipView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # add a user to project&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        identifier = data.get('identifier')&#10;        role = data.get('role', 'Member')  # Default to 'Member' if not provided&#10;&#10;        # Basic Validation&#10;        if not project_id or not identifier:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Username/Email are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_identifier, p_role)&#10;                cursor.callproc(&#10;                    &quot;add_project_member&quot;,&#10;                    [project_id, requester_id, identifier, role]&#10;                )&#10;&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result, status=201)&#10;                else:&#10;                    # Return 400 or 403 depending on the error, but 400 is generally fine here&#10;                    return JsonResponse(result, status=400)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Add Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # remove a user fron project&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')&#10;&#10;        # Basic Validation&#10;        if not project_id or not target_user_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Target User ID are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id)&#10;                cursor.callproc(&#10;                    &quot;remove_project_member&quot;,&#10;                    [project_id, requester_id, target_user_id]&#10;                )&#10;&#10;                # Fetch result&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Remove Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # change user role in project&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk  # The logged-in user (must be Leader)&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')  # The user receiving the role change&#10;        new_role = data.get('role')&#10;&#10;        # Basic Validation&#10;        if not all([project_id, target_user_id, new_role]):&#10;            return JsonResponse({'success': False, 'error': 'Project ID, Target User ID, and Role are required.'},&#10;                                status=400)&#10;&#10;        valid_roles = ['Leader', 'Manager', 'Member']&#10;        if new_role not in valid_roles:&#10;            return JsonResponse({'success': False, 'error': 'Invalid role choice.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id, p_new_role)&#10;                cursor.callproc(&#10;                    &quot;update_project_member_role&quot;,&#10;                    [project_id, requester_id, target_user_id, new_role]&#10;                )&#10;&#10;                # The SP returns a JSON object directly&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check the 'success' key from the returned JSON&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Role Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class TagView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # create tag&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color', '#000000')&#10;&#10;        if not project_id or not name:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Name are required.'}, status=400)&#10;&#10;        try:&#10;            # PERMISSION CHECK: Must be Leader or Manager&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']  # &lt;--- Strict Check&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can create tags.'},&#10;                                    status=403)&#10;&#10;            # Create&#10;            tag = Tag.objects.create(&#10;                project_id=project_id,&#10;                name=name,&#10;                hex_color=hex_color&#10;            )&#10;&#10;            return JsonResponse({&#10;                'success': True,&#10;                'tag': {'tag_id': tag.tag_id, 'name': tag.name, 'hex_color': tag.hex_color}&#10;            }, status=201)&#10;&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # edit tag&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can edit tags.'}, status=403)&#10;&#10;            if name:&#10;                tag.name = name&#10;            if hex_color:&#10;                tag.hex_color = hex_color&#10;&#10;            tag.save()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag updated successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # delete tag&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can delete tags.'}, status=403)&#10;&#10;            tag.delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag deleted successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;\" />\n              <option name=\"updatedContent\" value=\"import json&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import *&#10;User = apps.get_model(app_label='user_app', model_name='User')&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    def get(self, request):&#10;        user_id = request.user.pk&#10;&#10;        filter_type = request.GET.get('filter', 'Active')&#10;&#10;        # Validate filter to prevent SQL issues (optional but good practice)&#10;        valid_filters = ['Active', 'Archived', 'Complete', 'All', 'Leader']&#10;        if filter_type not in valid_filters:&#10;            filter_type = 'Active'&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call the Stored Procedure&#10;                cursor.callproc(&quot;get_user_projects&quot;, [user_id, filter_type])&#10;&#10;                # Fetch the JSON result&#10;                projects_data = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({'success': True, 'projects': projects_data})&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Projects Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;&#10;        # Extract data from the request body&#10;        user_id = request.user.pk&#10;        title = data.get('title')&#10;        description = data.get('description', '')  # Default to empty string if missing&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;&#10;        # Basic Validation&#10;        if not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Title, Start Date, and End Date are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_user_id, p_title, p_description, p_start_date, p_end_date)&#10;                cursor.callproc(&#10;                    &quot;create_project&quot;,&#10;                    [user_id, title, description, start_date, end_date]&#10;                )&#10;&#10;                # Fetch the returned Project ID&#10;                new_project_id = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({&#10;                    'success': True,&#10;                    'message': 'Project created successfully',&#10;                    'project_id': new_project_id&#10;                }, status=201)&#10;&#10;        except Exception as e:&#10;            # Log error for debugging (optional)&#10;            print(f&quot;Create Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    def delete(self, request):&#10;        user_id = request.user.pk&#10;&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required'}, status=400)&#10;&#10;        try:&#10;            # 1. Security Check: Only the 'Leader' can delete&#10;            # We check if a membership exists that matches: User + Project + Role='Leader'&#10;            is_leader = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=user_id,&#10;                role='Leader'&#10;            ).exists()&#10;&#10;            if not is_leader:&#10;                return JsonResponse({&#10;                    'success': False,&#10;                    'error': 'Permission denied. Only the Leader can delete this project.'&#10;                }, status=403)&#10;&#10;            # 2. Perform Delete&#10;            Project.objects.get(pk=project_id).delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Project deleted successfully'})&#10;&#10;        except Project.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Project not found'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectDetailView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # get project details&#10;    def get(self, request):&#10;        project_id = request.GET.get('project_id')&#10;        user_id = request.user.pk&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_user_id)&#10;                cursor.callproc(&#10;                    &quot;get_project_details&quot;,&#10;                    [project_id, user_id]&#10;                )&#10;&#10;                # Fetch the single JSON blob result&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check status code based on result success&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Determine error code (403 for Unauthorized, 404 for Not Found)&#10;                    error_msg = result.get('error', '')&#10;                    status_code = 403 if 'Unauthorized' in error_msg else 404&#10;                    return JsonResponse(result, status=status_code)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Project Details Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # update project details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        title = data.get('title')&#10;        description = data.get('description', '')&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;        status = data.get('status')&#10;&#10;        # Basic Validation&#10;        if not project_id or not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Project ID, Title, and Dates are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_user_id, p_title, p_description, p_start_date, p_end_date,status)&#10;                cursor.callproc(&#10;                    &quot;update_project&quot;,&#10;                    [project_id, user_id, title, description, start_date, end_date, status]&#10;                )&#10;&#10;                # The procedure returns True (Success) or False (Not Leader/Failed)&#10;                success = cursor.fetchone()[0]&#10;&#10;                if success:&#10;                    return JsonResponse({'success': True, 'message': 'Project updated successfully'})&#10;                else:&#10;                    return JsonResponse({&#10;                        'success': False,&#10;                        'error': 'Permission denied. Only the Leader can edit this project.'&#10;                    }, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectMembershipView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # add a user to project&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        identifier = data.get('identifier')&#10;        role = data.get('role', 'Member')  # Default to 'Member' if not provided&#10;&#10;        # Basic Validation&#10;        if not project_id or not identifier:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Username/Email are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_identifier, p_role)&#10;                cursor.callproc(&#10;                    &quot;add_project_member&quot;,&#10;                    [project_id, requester_id, identifier, role]&#10;                )&#10;&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result, status=201)&#10;                else:&#10;                    # Return 400 or 403 depending on the error, but 400 is generally fine here&#10;                    return JsonResponse(result, status=400)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Add Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # remove a user fron project&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')&#10;&#10;        # Basic Validation&#10;        if not project_id or not target_user_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Target User ID are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id)&#10;                cursor.callproc(&#10;                    &quot;remove_project_member&quot;,&#10;                    [project_id, requester_id, target_user_id]&#10;                )&#10;&#10;                # Fetch result&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Remove Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # change user role in project&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk  # The logged-in user (must be Leader)&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')  # The user receiving the role change&#10;        new_role = data.get('role')&#10;&#10;        # Basic Validation&#10;        if not all([project_id, target_user_id, new_role]):&#10;            return JsonResponse({'success': False, 'error': 'Project ID, Target User ID, and Role are required.'},&#10;                                status=400)&#10;&#10;        valid_roles = ['Leader', 'Manager', 'Member']&#10;        if new_role not in valid_roles:&#10;            return JsonResponse({'success': False, 'error': 'Invalid role choice.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id, p_new_role)&#10;                cursor.callproc(&#10;                    &quot;update_project_member_role&quot;,&#10;                    [project_id, requester_id, target_user_id, new_role]&#10;                )&#10;&#10;                # The SP returns a JSON object directly&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check the 'success' key from the returned JSON&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Role Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class TagView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # create tag&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color', '#000000')&#10;&#10;        if not project_id or not name:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Name are required.'}, status=400)&#10;&#10;        try:&#10;            # PERMISSION CHECK: Must be Leader or Manager&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']  # &lt;--- Strict Check&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can create tags.'},&#10;                                    status=403)&#10;&#10;            # Create&#10;            tag = Tag.objects.create(&#10;                project_id=project_id,&#10;                name=name,&#10;                hex_color=hex_color&#10;            )&#10;&#10;            return JsonResponse({&#10;                'success': True,&#10;                'tag': {'tag_id': tag.tag_id, 'name': tag.name, 'hex_color': tag.hex_color}&#10;            }, status=201)&#10;&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # edit tag&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can edit tags.'}, status=403)&#10;&#10;            if name:&#10;                tag.name = name&#10;            if hex_color:&#10;                tag.hex_color = hex_color&#10;&#10;            tag.save()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag updated successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # delete tag&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can delete tags.'}, status=403)&#10;&#10;            tag.delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag deleted successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)\" />\n            </PendingDiffInfo>\n          </value>\n        </entry>\n        <entry key=\"$PROJECT_DIR$/backend/dunzomanagement/user_app/views.py\">\n          <value>\n            <PendingDiffInfo>\n              <option name=\"filePath\" value=\"$PROJECT_DIR$/backend/dunzomanagement/user_app/views.py\" />\n              <option name=\"originalContent\" value=\"import json&#10;from django.contrib.auth import logout&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.shortcuts import get_object_or_404&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import Notification&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;Project = apps.get_model(app_label='project_app', model_name='Project')&#10;CalendarEvent = apps.get_model(app_label='calendarevent_app', model_name='CalendarEvent')&#10;&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@login_required&#10;def get_dashboard(request):&#10;    user_id = request.user.pk&#10;&#10;    try:&#10;        with connection.cursor() as cursor:&#10;            cursor.callproc(&quot;get_user_dashboard_data&quot;, [user_id])&#10;&#10;            # Fetch the result (returns a tuple, we want the first element)&#10;            row = cursor.fetchone()&#10;&#10;            if row and row[0]:&#10;                result = row[0]&#10;                return JsonResponse(result, safe=False)&#10;            else:&#10;                # Handle case where procedure returns NULL (shouldn't happen with this SQL)&#10;                return JsonResponse({'error': 'No data returned'}, status=500)&#10;&#10;    except Exception as e:&#10;        # Log the specific error for debugging&#10;        print(f&quot;Dashboard Stored Procedure Error: {e}&quot;)&#10;        return JsonResponse({'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class UserView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    # settings&#10;    def get(self, request):&#10;        user = request.user&#10;        user_data = {&#10;            &quot;user_id&quot;: user.pk,&#10;            &quot;username&quot;: user.username,&#10;            &quot;email&quot;: user.email,&#10;            &quot;first_name&quot;: user.first_name,&#10;            &quot;last_name&quot;: user.last_name,&#10;        }&#10;        return JsonResponse(user_data)&#10;    # edit user details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user = request.user&#10;&#10;        # Update fields if they are provided in the request&#10;        user.username = data.get('username', user.username)&#10;        user.email = data.get('email', user.email)&#10;        user.first_name = data.get('first_name', user.first_name)&#10;        user.last_name = data.get('last_name', user.last_name)&#10;&#10;        # If password is provided, update it (make sure to hash it)&#10;        new_password = data.get('password')&#10;        if new_password:&#10;            user.set_password(new_password)&#10;&#10;        try:&#10;            user.save()&#10;            return JsonResponse({'success': True, 'message': 'User updated successfully'})&#10;        except Exception as e:&#10;            # Catch errors like &quot;Username already taken&quot;&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=400)&#10;    # delete user&#10;    def delete(self, request):&#10;        user = request.user&#10;        user.delete()&#10;        logout(request)&#10;        return JsonResponse({'success': True, 'message': 'User deleted successfully'})&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class NotificationView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    def get(self, request):&#10;        user = request.user.pk&#10;        notifs = Notification.objects.filter(user=user).order_by('-created_at')&#10;        notif_list = [&#10;            {&#10;                &quot;notification_id&quot;: n.pk,&#10;                &quot;title&quot;: n.title,&#10;                &quot;message&quot;: n.message,&#10;                &quot;is_read&quot;: n.is_read,&#10;                &quot;created_at&quot;: n.created_at,&#10;            }&#10;            for n in notifs&#10;        ]&#10;        return JsonResponse(notif_list, safe=False)&#10;&#10;    def delete(self, request, notification_id):&#10;        notif = get_object_or_404(Notification, pk=notification_id, user=request.user.pk)&#10;        notif.delete()&#10;        return JsonResponse({'success': True, 'message': 'Notification deleted successfully'})\" />\n              <option name=\"updatedContent\" value=\"import json&#10;from django.contrib.auth import logout&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.shortcuts import get_object_or_404&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import Notification&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;Project = apps.get_model(app_label='project_app', model_name='Project')&#10;CalendarEvent = apps.get_model(app_label='calendarevent_app', model_name='CalendarEvent')&#10;&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@login_required&#10;def get_dashboard(request):&#10;    user_id = request.user.pk&#10;&#10;    try:&#10;        with connection.cursor() as cursor:&#10;            cursor.callproc(&quot;get_user_dashboard_data&quot;, [user_id])&#10;&#10;            # Fetch the result (returns a tuple, we want the first element)&#10;            row = cursor.fetchone()&#10;&#10;            if row and row[0]:&#10;                result = row[0]&#10;                return JsonResponse(result, safe=False)&#10;            else:&#10;                # Handle case where procedure returns NULL (shouldn't happen with this SQL)&#10;                return JsonResponse({'error': 'No data returned'}, status=500)&#10;&#10;    except Exception as e:&#10;        # Log the specific error for debugging&#10;        print(f&quot;Dashboard Stored Procedure Error: {e}&quot;)&#10;        return JsonResponse({'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class UserView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    # settings&#10;    def get(self, request):&#10;        user = request.user&#10;        user_data = {&#10;            &quot;user_id&quot;: user.pk,&#10;            &quot;username&quot;: user.username,&#10;            &quot;email&quot;: user.email,&#10;            &quot;first_name&quot;: user.first_name,&#10;            &quot;last_name&quot;: user.last_name,&#10;        }&#10;        return JsonResponse(user_data)&#10;    # edit user details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user = request.user&#10;&#10;        # Update fields if they are provided in the request&#10;        user.username = data.get('username', user.username)&#10;        user.email = data.get('email', user.email)&#10;        user.first_name = data.get('first_name', user.first_name)&#10;        user.last_name = data.get('last_name', user.last_name)&#10;&#10;        # If password is provided, update it (make sure to hash it)&#10;        new_password = data.get('password')&#10;        if new_password:&#10;            user.set_password(new_password)&#10;&#10;        try:&#10;            user.save()&#10;            return JsonResponse({'success': True, 'message': 'User updated successfully'})&#10;        except Exception as e:&#10;            # Catch errors like &quot;Username already taken&quot;&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=400)&#10;    # delete user&#10;    def delete(self, request):&#10;        user = request.user&#10;        user.delete()&#10;        logout(request)&#10;        return JsonResponse({'success': True, 'message': 'User deleted successfully'})&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class NotificationView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    def get(self, request):&#10;        user = request.user.pk&#10;        notifs = Notification.objects.filter(user=user).order_by('-created_at')&#10;        notif_list = [&#10;            {&#10;                &quot;notification_id&quot;: n.pk,&#10;                &quot;title&quot;: n.title,&#10;                &quot;message&quot;: n.message,&#10;                &quot;is_read&quot;: n.is_read,&#10;                &quot;created_at&quot;: n.created_at,&#10;            }&#10;            for n in notifs&#10;        ]&#10;        return JsonResponse(notif_list, safe=False)&#10;&#10;    def delete(self, request, notification_id):&#10;        notif = get_object_or_404(Notification, pk=notification_id, user=request.user.pk)&#10;        notif.delete()&#10;        return JsonResponse({'success': True, 'message': 'Notification deleted successfully'})\" />\n            </PendingDiffInfo>\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/copilotDiffState.xml b/.idea/copilotDiffState.xml
--- a/.idea/copilotDiffState.xml	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/.idea/copilotDiffState.xml	(date 1765723483375)
@@ -3,21 +3,21 @@
   <component name="CopilotDiffPersistence">
     <option name="pendingDiffs">
       <map>
-        <entry key="$PROJECT_DIR$/backend/dunzomanagement/project_app/views.py">
+        <entry key="$PROJECT_DIR$/backend/dunzomanagement/user_app/views.py">
           <value>
             <PendingDiffInfo>
-              <option name="filePath" value="$PROJECT_DIR$/backend/dunzomanagement/project_app/views.py" />
-              <option name="originalContent" value="import json&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import *&#10;User = apps.get_model(app_label='user_app', model_name='User')&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    def get(self, request):&#10;        user_id = request.user.pk&#10;&#10;        filter_type = request.GET.get('filter', 'Active')&#10;&#10;        # Validate filter to prevent SQL issues (optional but good practice)&#10;        valid_filters = ['Active', 'Archived', 'Complete', 'All', 'Leader']&#10;        if filter_type not in valid_filters:&#10;            filter_type = 'Active'&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call the Stored Procedure&#10;                cursor.callproc(&quot;get_user_projects&quot;, [user_id, filter_type])&#10;&#10;                # Fetch the JSON result&#10;                projects_data = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({'success': True, 'projects': projects_data})&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Projects Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;&#10;        # Extract data from the request body&#10;        user_id = request.user.pk&#10;        title = data.get('title')&#10;        description = data.get('description', '')  # Default to empty string if missing&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;&#10;        # Basic Validation&#10;        if not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Title, Start Date, and End Date are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_user_id, p_title, p_description, p_start_date, p_end_date)&#10;                cursor.callproc(&#10;                    &quot;create_project&quot;,&#10;                    [user_id, title, description, start_date, end_date]&#10;                )&#10;&#10;                # Fetch the returned Project ID&#10;                new_project_id = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({&#10;                    'success': True,&#10;                    'message': 'Project created successfully',&#10;                    'project_id': new_project_id&#10;                }, status=201)&#10;&#10;        except Exception as e:&#10;            # Log error for debugging (optional)&#10;            print(f&quot;Create Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    def delete(self, request):&#10;        user_id = request.user.pk&#10;&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required'}, status=400)&#10;&#10;        try:&#10;            # 1. Security Check: Only the 'Leader' can delete&#10;            # We check if a membership exists that matches: User + Project + Role='Leader'&#10;            is_leader = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=user_id,&#10;                role='Leader'&#10;            ).exists()&#10;&#10;            if not is_leader:&#10;                return JsonResponse({&#10;                    'success': False,&#10;                    'error': 'Permission denied. Only the Leader can delete this project.'&#10;                }, status=403)&#10;&#10;            # 2. Perform Delete&#10;            Project.objects.get(pk=project_id).delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Project deleted successfully'})&#10;&#10;        except Project.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Project not found'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectDetailView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # get project details&#10;    def get(self, request):&#10;        project_id = request.GET.get('project_id')&#10;        user_id = request.user.pk&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_user_id)&#10;                cursor.callproc(&#10;                    &quot;get_project_details&quot;,&#10;                    [project_id, user_id]&#10;                )&#10;&#10;                # Fetch the single JSON blob result&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check status code based on result success&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Determine error code (403 for Unauthorized, 404 for Not Found)&#10;                    error_msg = result.get('error', '')&#10;                    status_code = 403 if 'Unauthorized' in error_msg else 404&#10;                    return JsonResponse(result, status=status_code)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Project Details Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # update project details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        title = data.get('title')&#10;        description = data.get('description', '')&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;        status = data.get('status')&#10;&#10;        # Basic Validation&#10;        if not project_id or not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Project ID, Title, and Dates are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_user_id, p_title, p_description, p_start_date, p_end_date,status)&#10;                cursor.callproc(&#10;                    &quot;update_project&quot;,&#10;                    [project_id, user_id, title, description, start_date, end_date, status]&#10;                )&#10;&#10;                # The procedure returns True (Success) or False (Not Leader/Failed)&#10;                success = cursor.fetchone()[0]&#10;&#10;                if success:&#10;                    return JsonResponse({'success': True, 'message': 'Project updated successfully'})&#10;                else:&#10;                    return JsonResponse({&#10;                        'success': False,&#10;                        'error': 'Permission denied. Only the Leader can edit this project.'&#10;                    }, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectMembershipView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # add a user to project&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        identifier = data.get('identifier')&#10;        role = data.get('role', 'Member')  # Default to 'Member' if not provided&#10;&#10;        # Basic Validation&#10;        if not project_id or not identifier:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Username/Email are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_identifier, p_role)&#10;                cursor.callproc(&#10;                    &quot;add_project_member&quot;,&#10;                    [project_id, requester_id, identifier, role]&#10;                )&#10;&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result, status=201)&#10;                else:&#10;                    # Return 400 or 403 depending on the error, but 400 is generally fine here&#10;                    return JsonResponse(result, status=400)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Add Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # remove a user fron project&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')&#10;&#10;        # Basic Validation&#10;        if not project_id or not target_user_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Target User ID are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id)&#10;                cursor.callproc(&#10;                    &quot;remove_project_member&quot;,&#10;                    [project_id, requester_id, target_user_id]&#10;                )&#10;&#10;                # Fetch result&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Remove Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # change user role in project&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk  # The logged-in user (must be Leader)&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')  # The user receiving the role change&#10;        new_role = data.get('role')&#10;&#10;        # Basic Validation&#10;        if not all([project_id, target_user_id, new_role]):&#10;            return JsonResponse({'success': False, 'error': 'Project ID, Target User ID, and Role are required.'},&#10;                                status=400)&#10;&#10;        valid_roles = ['Leader', 'Manager', 'Member']&#10;        if new_role not in valid_roles:&#10;            return JsonResponse({'success': False, 'error': 'Invalid role choice.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id, p_new_role)&#10;                cursor.callproc(&#10;                    &quot;update_project_member_role&quot;,&#10;                    [project_id, requester_id, target_user_id, new_role]&#10;                )&#10;&#10;                # The SP returns a JSON object directly&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check the 'success' key from the returned JSON&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Role Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class TagView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # create tag&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color', '#000000')&#10;&#10;        if not project_id or not name:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Name are required.'}, status=400)&#10;&#10;        try:&#10;            # PERMISSION CHECK: Must be Leader or Manager&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']  # &lt;--- Strict Check&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can create tags.'},&#10;                                    status=403)&#10;&#10;            # Create&#10;            tag = Tag.objects.create(&#10;                project_id=project_id,&#10;                name=name,&#10;                hex_color=hex_color&#10;            )&#10;&#10;            return JsonResponse({&#10;                'success': True,&#10;                'tag': {'tag_id': tag.tag_id, 'name': tag.name, 'hex_color': tag.hex_color}&#10;            }, status=201)&#10;&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # edit tag&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can edit tags.'}, status=403)&#10;&#10;            if name:&#10;                tag.name = name&#10;            if hex_color:&#10;                tag.hex_color = hex_color&#10;&#10;            tag.save()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag updated successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # delete tag&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can delete tags.'}, status=403)&#10;&#10;            tag.delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag deleted successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;" />
-              <option name="updatedContent" value="import json&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import *&#10;User = apps.get_model(app_label='user_app', model_name='User')&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    def get(self, request):&#10;        user_id = request.user.pk&#10;&#10;        filter_type = request.GET.get('filter', 'Active')&#10;&#10;        # Validate filter to prevent SQL issues (optional but good practice)&#10;        valid_filters = ['Active', 'Archived', 'Complete', 'All', 'Leader']&#10;        if filter_type not in valid_filters:&#10;            filter_type = 'Active'&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call the Stored Procedure&#10;                cursor.callproc(&quot;get_user_projects&quot;, [user_id, filter_type])&#10;&#10;                # Fetch the JSON result&#10;                projects_data = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({'success': True, 'projects': projects_data})&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Projects Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;&#10;        # Extract data from the request body&#10;        user_id = request.user.pk&#10;        title = data.get('title')&#10;        description = data.get('description', '')  # Default to empty string if missing&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;&#10;        # Basic Validation&#10;        if not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Title, Start Date, and End Date are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_user_id, p_title, p_description, p_start_date, p_end_date)&#10;                cursor.callproc(&#10;                    &quot;create_project&quot;,&#10;                    [user_id, title, description, start_date, end_date]&#10;                )&#10;&#10;                # Fetch the returned Project ID&#10;                new_project_id = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({&#10;                    'success': True,&#10;                    'message': 'Project created successfully',&#10;                    'project_id': new_project_id&#10;                }, status=201)&#10;&#10;        except Exception as e:&#10;            # Log error for debugging (optional)&#10;            print(f&quot;Create Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    def delete(self, request):&#10;        user_id = request.user.pk&#10;&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required'}, status=400)&#10;&#10;        try:&#10;            # 1. Security Check: Only the 'Leader' can delete&#10;            # We check if a membership exists that matches: User + Project + Role='Leader'&#10;            is_leader = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=user_id,&#10;                role='Leader'&#10;            ).exists()&#10;&#10;            if not is_leader:&#10;                return JsonResponse({&#10;                    'success': False,&#10;                    'error': 'Permission denied. Only the Leader can delete this project.'&#10;                }, status=403)&#10;&#10;            # 2. Perform Delete&#10;            Project.objects.get(pk=project_id).delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Project deleted successfully'})&#10;&#10;        except Project.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Project not found'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectDetailView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # get project details&#10;    def get(self, request):&#10;        project_id = request.GET.get('project_id')&#10;        user_id = request.user.pk&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_user_id)&#10;                cursor.callproc(&#10;                    &quot;get_project_details&quot;,&#10;                    [project_id, user_id]&#10;                )&#10;&#10;                # Fetch the single JSON blob result&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check status code based on result success&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Determine error code (403 for Unauthorized, 404 for Not Found)&#10;                    error_msg = result.get('error', '')&#10;                    status_code = 403 if 'Unauthorized' in error_msg else 404&#10;                    return JsonResponse(result, status=status_code)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Project Details Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # update project details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        title = data.get('title')&#10;        description = data.get('description', '')&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;        status = data.get('status')&#10;&#10;        # Basic Validation&#10;        if not project_id or not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Project ID, Title, and Dates are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_user_id, p_title, p_description, p_start_date, p_end_date,status)&#10;                cursor.callproc(&#10;                    &quot;update_project&quot;,&#10;                    [project_id, user_id, title, description, start_date, end_date, status]&#10;                )&#10;&#10;                # The procedure returns True (Success) or False (Not Leader/Failed)&#10;                success = cursor.fetchone()[0]&#10;&#10;                if success:&#10;                    return JsonResponse({'success': True, 'message': 'Project updated successfully'})&#10;                else:&#10;                    return JsonResponse({&#10;                        'success': False,&#10;                        'error': 'Permission denied. Only the Leader can edit this project.'&#10;                    }, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectMembershipView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # add a user to project&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        identifier = data.get('identifier')&#10;        role = data.get('role', 'Member')  # Default to 'Member' if not provided&#10;&#10;        # Basic Validation&#10;        if not project_id or not identifier:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Username/Email are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_identifier, p_role)&#10;                cursor.callproc(&#10;                    &quot;add_project_member&quot;,&#10;                    [project_id, requester_id, identifier, role]&#10;                )&#10;&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result, status=201)&#10;                else:&#10;                    # Return 400 or 403 depending on the error, but 400 is generally fine here&#10;                    return JsonResponse(result, status=400)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Add Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # remove a user fron project&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')&#10;&#10;        # Basic Validation&#10;        if not project_id or not target_user_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Target User ID are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id)&#10;                cursor.callproc(&#10;                    &quot;remove_project_member&quot;,&#10;                    [project_id, requester_id, target_user_id]&#10;                )&#10;&#10;                # Fetch result&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Remove Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # change user role in project&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk  # The logged-in user (must be Leader)&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')  # The user receiving the role change&#10;        new_role = data.get('role')&#10;&#10;        # Basic Validation&#10;        if not all([project_id, target_user_id, new_role]):&#10;            return JsonResponse({'success': False, 'error': 'Project ID, Target User ID, and Role are required.'},&#10;                                status=400)&#10;&#10;        valid_roles = ['Leader', 'Manager', 'Member']&#10;        if new_role not in valid_roles:&#10;            return JsonResponse({'success': False, 'error': 'Invalid role choice.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id, p_new_role)&#10;                cursor.callproc(&#10;                    &quot;update_project_member_role&quot;,&#10;                    [project_id, requester_id, target_user_id, new_role]&#10;                )&#10;&#10;                # The SP returns a JSON object directly&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check the 'success' key from the returned JSON&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Role Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class TagView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # create tag&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color', '#000000')&#10;&#10;        if not project_id or not name:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Name are required.'}, status=400)&#10;&#10;        try:&#10;            # PERMISSION CHECK: Must be Leader or Manager&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']  # &lt;--- Strict Check&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can create tags.'},&#10;                                    status=403)&#10;&#10;            # Create&#10;            tag = Tag.objects.create(&#10;                project_id=project_id,&#10;                name=name,&#10;                hex_color=hex_color&#10;            )&#10;&#10;            return JsonResponse({&#10;                'success': True,&#10;                'tag': {'tag_id': tag.tag_id, 'name': tag.name, 'hex_color': tag.hex_color}&#10;            }, status=201)&#10;&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # edit tag&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can edit tags.'}, status=403)&#10;&#10;            if name:&#10;                tag.name = name&#10;            if hex_color:&#10;                tag.hex_color = hex_color&#10;&#10;            tag.save()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag updated successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # delete tag&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can delete tags.'}, status=403)&#10;&#10;            tag.delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag deleted successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)" />
+              <option name="filePath" value="$PROJECT_DIR$/backend/dunzomanagement/user_app/views.py" />
+              <option name="originalContent" value="import json&#10;from django.contrib.auth import logout&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.shortcuts import get_object_or_404&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import Notification&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;Project = apps.get_model(app_label='project_app', model_name='Project')&#10;CalendarEvent = apps.get_model(app_label='calendarevent_app', model_name='CalendarEvent')&#10;&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@login_required&#10;def get_dashboard(request):&#10;    user_id = request.user.pk&#10;&#10;    try:&#10;        with connection.cursor() as cursor:&#10;            cursor.callproc(&quot;get_user_dashboard_data&quot;, [user_id])&#10;&#10;            # Fetch the result (returns a tuple, we want the first element)&#10;            row = cursor.fetchone()&#10;&#10;            if row and row[0]:&#10;                result = row[0]&#10;                return JsonResponse(result, safe=False)&#10;            else:&#10;                # Handle case where procedure returns NULL (shouldn't happen with this SQL)&#10;                return JsonResponse({'error': 'No data returned'}, status=500)&#10;&#10;    except Exception as e:&#10;        # Log the specific error for debugging&#10;        print(f&quot;Dashboard Stored Procedure Error: {e}&quot;)&#10;        return JsonResponse({'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class UserView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    # settings&#10;    def get(self, request):&#10;        user = request.user&#10;        user_data = {&#10;            &quot;user_id&quot;: user.pk,&#10;            &quot;username&quot;: user.username,&#10;            &quot;email&quot;: user.email,&#10;            &quot;first_name&quot;: user.first_name,&#10;            &quot;last_name&quot;: user.last_name,&#10;        }&#10;        return JsonResponse(user_data)&#10;    # edit user details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user = request.user&#10;&#10;        # Update fields if they are provided in the request&#10;        user.username = data.get('username', user.username)&#10;        user.email = data.get('email', user.email)&#10;        user.first_name = data.get('first_name', user.first_name)&#10;        user.last_name = data.get('last_name', user.last_name)&#10;&#10;        # If password is provided, update it (make sure to hash it)&#10;        new_password = data.get('password')&#10;        if new_password:&#10;            user.set_password(new_password)&#10;&#10;        try:&#10;            user.save()&#10;            return JsonResponse({'success': True, 'message': 'User updated successfully'})&#10;        except Exception as e:&#10;            # Catch errors like &quot;Username already taken&quot;&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=400)&#10;    # delete user&#10;    def delete(self, request):&#10;        user = request.user&#10;        user.delete()&#10;        logout(request)&#10;        return JsonResponse({'success': True, 'message': 'User deleted successfully'})&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class NotificationView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    def get(self, request):&#10;        user = request.user.pk&#10;        notifs = Notification.objects.filter(user=user).order_by('-created_at')&#10;        notif_list = [&#10;            {&#10;                &quot;notification_id&quot;: n.pk,&#10;                &quot;title&quot;: n.title,&#10;                &quot;message&quot;: n.message,&#10;                &quot;is_read&quot;: n.is_read,&#10;                &quot;created_at&quot;: n.created_at,&#10;            }&#10;            for n in notifs&#10;        ]&#10;        return JsonResponse(notif_list, safe=False)&#10;&#10;    def delete(self, request, notification_id):&#10;        notif = get_object_or_404(Notification, pk=notification_id, user=request.user.pk)&#10;        notif.delete()&#10;        return JsonResponse({'success': True, 'message': 'Notification deleted successfully'})" />
+              <option name="updatedContent" value="import json&#10;from django.contrib.auth import logout&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.shortcuts import get_object_or_404&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import Notification&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;Project = apps.get_model(app_label='project_app', model_name='Project')&#10;CalendarEvent = apps.get_model(app_label='calendarevent_app', model_name='CalendarEvent')&#10;&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@login_required&#10;def get_dashboard(request):&#10;    user_id = request.user.pk&#10;&#10;    try:&#10;        with connection.cursor() as cursor:&#10;            cursor.callproc(&quot;get_user_dashboard_data&quot;, [user_id])&#10;&#10;            # Fetch the result (returns a tuple, we want the first element)&#10;            row = cursor.fetchone()&#10;&#10;            if row and row[0]:&#10;                result = row[0]&#10;                return JsonResponse(result, safe=False)&#10;            else:&#10;                # Handle case where procedure returns NULL (shouldn't happen with this SQL)&#10;                return JsonResponse({'error': 'No data returned'}, status=500)&#10;&#10;    except Exception as e:&#10;        # Log the specific error for debugging&#10;        print(f&quot;Dashboard Stored Procedure Error: {e}&quot;)&#10;        return JsonResponse({'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class UserView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    # settings&#10;    def get(self, request):&#10;        user = request.user&#10;        user_data = {&#10;            &quot;user_id&quot;: user.pk,&#10;            &quot;username&quot;: user.username,&#10;            &quot;email&quot;: user.email,&#10;            &quot;first_name&quot;: user.first_name,&#10;            &quot;last_name&quot;: user.last_name,&#10;        }&#10;        return JsonResponse(user_data)&#10;    # edit user details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user = request.user&#10;&#10;        # Update fields if they are provided in the request&#10;        user.username = data.get('username', user.username)&#10;        user.email = data.get('email', user.email)&#10;        user.first_name = data.get('first_name', user.first_name)&#10;        user.last_name = data.get('last_name', user.last_name)&#10;&#10;        # If password is provided, update it (make sure to hash it)&#10;        new_password = data.get('password')&#10;        if new_password:&#10;            user.set_password(new_password)&#10;&#10;        try:&#10;            user.save()&#10;            return JsonResponse({'success': True, 'message': 'User updated successfully'})&#10;        except Exception as e:&#10;            # Catch errors like &quot;Username already taken&quot;&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=400)&#10;    # delete user&#10;    def delete(self, request):&#10;        user = request.user&#10;        user.delete()&#10;        logout(request)&#10;        return JsonResponse({'success': True, 'message': 'User deleted successfully'})&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class NotificationView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    def get(self, request):&#10;        user = request.user.pk&#10;        notifs = Notification.objects.filter(user=user).order_by('-created_at')&#10;        notif_list = [&#10;            {&#10;                &quot;notification_id&quot;: n.pk,&#10;                &quot;title&quot;: n.title,&#10;                &quot;message&quot;: n.message,&#10;                &quot;is_read&quot;: n.is_read,&#10;                &quot;created_at&quot;: n.created_at,&#10;            }&#10;            for n in notifs&#10;        ]&#10;        return JsonResponse(notif_list, safe=False)&#10;&#10;    def delete(self, request, notification_id):&#10;        notif = get_object_or_404(Notification, pk=notification_id, user=request.user.pk)&#10;        notif.delete()&#10;        return JsonResponse({'success': True, 'message': 'Notification deleted successfully'})" />
             </PendingDiffInfo>
           </value>
         </entry>
-        <entry key="$PROJECT_DIR$/backend/dunzomanagement/user_app/views.py">
+        <entry key="$PROJECT_DIR$/frontend/src/pages/Login.jsx">
           <value>
             <PendingDiffInfo>
-              <option name="filePath" value="$PROJECT_DIR$/backend/dunzomanagement/user_app/views.py" />
-              <option name="originalContent" value="import json&#10;from django.contrib.auth import logout&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.shortcuts import get_object_or_404&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import Notification&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;Project = apps.get_model(app_label='project_app', model_name='Project')&#10;CalendarEvent = apps.get_model(app_label='calendarevent_app', model_name='CalendarEvent')&#10;&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@login_required&#10;def get_dashboard(request):&#10;    user_id = request.user.pk&#10;&#10;    try:&#10;        with connection.cursor() as cursor:&#10;            cursor.callproc(&quot;get_user_dashboard_data&quot;, [user_id])&#10;&#10;            # Fetch the result (returns a tuple, we want the first element)&#10;            row = cursor.fetchone()&#10;&#10;            if row and row[0]:&#10;                result = row[0]&#10;                return JsonResponse(result, safe=False)&#10;            else:&#10;                # Handle case where procedure returns NULL (shouldn't happen with this SQL)&#10;                return JsonResponse({'error': 'No data returned'}, status=500)&#10;&#10;    except Exception as e:&#10;        # Log the specific error for debugging&#10;        print(f&quot;Dashboard Stored Procedure Error: {e}&quot;)&#10;        return JsonResponse({'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class UserView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    # settings&#10;    def get(self, request):&#10;        user = request.user&#10;        user_data = {&#10;            &quot;user_id&quot;: user.pk,&#10;            &quot;username&quot;: user.username,&#10;            &quot;email&quot;: user.email,&#10;            &quot;first_name&quot;: user.first_name,&#10;            &quot;last_name&quot;: user.last_name,&#10;        }&#10;        return JsonResponse(user_data)&#10;    # edit user details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user = request.user&#10;&#10;        # Update fields if they are provided in the request&#10;        user.username = data.get('username', user.username)&#10;        user.email = data.get('email', user.email)&#10;        user.first_name = data.get('first_name', user.first_name)&#10;        user.last_name = data.get('last_name', user.last_name)&#10;&#10;        # If password is provided, update it (make sure to hash it)&#10;        new_password = data.get('password')&#10;        if new_password:&#10;            user.set_password(new_password)&#10;&#10;        try:&#10;            user.save()&#10;            return JsonResponse({'success': True, 'message': 'User updated successfully'})&#10;        except Exception as e:&#10;            # Catch errors like &quot;Username already taken&quot;&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=400)&#10;    # delete user&#10;    def delete(self, request):&#10;        user = request.user&#10;        user.delete()&#10;        logout(request)&#10;        return JsonResponse({'success': True, 'message': 'User deleted successfully'})&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class NotificationView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    def get(self, request):&#10;        user = request.user.pk&#10;        notifs = Notification.objects.filter(user=user).order_by('-created_at')&#10;        notif_list = [&#10;            {&#10;                &quot;notification_id&quot;: n.pk,&#10;                &quot;title&quot;: n.title,&#10;                &quot;message&quot;: n.message,&#10;                &quot;is_read&quot;: n.is_read,&#10;                &quot;created_at&quot;: n.created_at,&#10;            }&#10;            for n in notifs&#10;        ]&#10;        return JsonResponse(notif_list, safe=False)&#10;&#10;    def delete(self, request, notification_id):&#10;        notif = get_object_or_404(Notification, pk=notification_id, user=request.user.pk)&#10;        notif.delete()&#10;        return JsonResponse({'success': True, 'message': 'Notification deleted successfully'})" />
-              <option name="updatedContent" value="import json&#10;from django.contrib.auth import logout&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.shortcuts import get_object_or_404&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import Notification&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;Project = apps.get_model(app_label='project_app', model_name='Project')&#10;CalendarEvent = apps.get_model(app_label='calendarevent_app', model_name='CalendarEvent')&#10;&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@login_required&#10;def get_dashboard(request):&#10;    user_id = request.user.pk&#10;&#10;    try:&#10;        with connection.cursor() as cursor:&#10;            cursor.callproc(&quot;get_user_dashboard_data&quot;, [user_id])&#10;&#10;            # Fetch the result (returns a tuple, we want the first element)&#10;            row = cursor.fetchone()&#10;&#10;            if row and row[0]:&#10;                result = row[0]&#10;                return JsonResponse(result, safe=False)&#10;            else:&#10;                # Handle case where procedure returns NULL (shouldn't happen with this SQL)&#10;                return JsonResponse({'error': 'No data returned'}, status=500)&#10;&#10;    except Exception as e:&#10;        # Log the specific error for debugging&#10;        print(f&quot;Dashboard Stored Procedure Error: {e}&quot;)&#10;        return JsonResponse({'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class UserView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    # settings&#10;    def get(self, request):&#10;        user = request.user&#10;        user_data = {&#10;            &quot;user_id&quot;: user.pk,&#10;            &quot;username&quot;: user.username,&#10;            &quot;email&quot;: user.email,&#10;            &quot;first_name&quot;: user.first_name,&#10;            &quot;last_name&quot;: user.last_name,&#10;        }&#10;        return JsonResponse(user_data)&#10;    # edit user details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user = request.user&#10;&#10;        # Update fields if they are provided in the request&#10;        user.username = data.get('username', user.username)&#10;        user.email = data.get('email', user.email)&#10;        user.first_name = data.get('first_name', user.first_name)&#10;        user.last_name = data.get('last_name', user.last_name)&#10;&#10;        # If password is provided, update it (make sure to hash it)&#10;        new_password = data.get('password')&#10;        if new_password:&#10;            user.set_password(new_password)&#10;&#10;        try:&#10;            user.save()&#10;            return JsonResponse({'success': True, 'message': 'User updated successfully'})&#10;        except Exception as e:&#10;            # Catch errors like &quot;Username already taken&quot;&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=400)&#10;    # delete user&#10;    def delete(self, request):&#10;        user = request.user&#10;        user.delete()&#10;        logout(request)&#10;        return JsonResponse({'success': True, 'message': 'User deleted successfully'})&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class NotificationView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    def get(self, request):&#10;        user = request.user.pk&#10;        notifs = Notification.objects.filter(user=user).order_by('-created_at')&#10;        notif_list = [&#10;            {&#10;                &quot;notification_id&quot;: n.pk,&#10;                &quot;title&quot;: n.title,&#10;                &quot;message&quot;: n.message,&#10;                &quot;is_read&quot;: n.is_read,&#10;                &quot;created_at&quot;: n.created_at,&#10;            }&#10;            for n in notifs&#10;        ]&#10;        return JsonResponse(notif_list, safe=False)&#10;&#10;    def delete(self, request, notification_id):&#10;        notif = get_object_or_404(Notification, pk=notification_id, user=request.user.pk)&#10;        notif.delete()&#10;        return JsonResponse({'success': True, 'message': 'Notification deleted successfully'})" />
+              <option name="filePath" value="$PROJECT_DIR$/frontend/src/pages/Login.jsx" />
+              <option name="originalContent" value="import React, {useState} from 'react'&#10;import login_illustration from '../assets/login_illustration.jpg';&#10;import { useNavigate } from 'react-router-dom'&#10;import { loginUser } from '../https';&#10;&#10;function Login() {&#10;    const [identifier, setIdentifier] = useState('');&#10;    const [password, setPassword] = useState('');&#10;    const [errorMsg, setErrorMsg] = useState('');&#10;&#10;    const navigate = useNavigate();&#10;&#10;    const handleSubmit = async (e) =&gt; {&#10;        e.preventDefault();&#10;&#10;        // Call the backend&#10;        const data = await loginUser(identifier, password);&#10;&#10;        if (data.success) {&#10;            console.log(&quot;Login Success!&quot;, data);&#10;            // Minimal compatibility fix: ProtectedRoute checks localStorage for 'authToken'.&#10;            // Store a simple token/flag so the existing guard will allow access.&#10;            try {&#10;                localStorage.setItem('authToken', data.username || 'true');&#10;            } catch (e) {&#10;                console.warn('Failed to write authToken to localStorage', e);&#10;            }&#10;            navigate('/user/dashboard');&#10;        } else {&#10;            setErrorMsg(data.error || &quot;Login failed. Please check your credentials.&quot;);&#10;        }&#10;    };&#10;    return (&#10;        &lt;div className='flex fixed items-center justify-center overflow-y-scroll inset-0 z-1000 bg-zinc-200'&gt;&#10;            &lt;div className='flex felx-row'&gt;&#10;                &lt;div className='bg-white shadow flex flex-col min-w-100 pt-3 pb-7 px-5 rounded-tl-2xl rounded-bl-2xl'&gt;&#10;&#10;                    &lt;div className='flex flex-row justify-between items-center mt-2'&gt;&#10;                        &lt;span className='font-black text-red-500 text-2xl tracking-tighter'&gt;dunzo.&lt;/span&gt;&#10;                        &lt;button className='px-3 py-2 cursor-pointer -mr-1'&#10;                            onClick={() =&gt; navigate('/')}&gt;&#10;                            &lt;i className=&quot;fa-regular fa-circle-xmark&quot;&gt;&lt;/i&gt;&#10;                        &lt;/button&gt;&#10;&#10;                    &lt;/div&gt;&#10;                    &#10;                    &lt;div className='flex flex-row gap-3 items-center'&gt;&#10;                        &lt;span className='font-bold text-gray-900 text-2xl'&gt;Welcome Back&lt;/span&gt;&#10;                        &lt;i className=&quot;fa-regular fa-hand text-red-500 text-2xl&quot;&gt;&lt;/i&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;span className='text-gray-600 font-medium text-md'&gt;Log in to manage your tasks.&lt;/span&gt;&#10;&#10;                    {/* --- ERROR MESSAGE DISPLAY --- */}&#10;                    {errorMsg &amp;&amp; (&#10;                        &lt;div className=&quot;mt-2 p-2 bg-red-100 border border-red-400 text-red-700 text-sm rounded&quot;&gt;&#10;                            {errorMsg}&#10;                        &lt;/div&gt;&#10;                    )}&#10;&#10;                    {/* --- FORM START ---&#10;                        Wrapping inputs in a form allows &quot;Enter&quot; key to submit&#10;                    */}&#10;                    &lt;form onSubmit={handleSubmit} className='mt-5'&gt;&#10;&#10;                        &lt;div className='flex flex-col font-medium text-gray-900 gap-1'&gt;&#10;                            &lt;p&gt;Username/Email&lt;/p&gt;&#10;                            &lt;input&#10;                                type='text'&#10;                                placeholder='Enter your username/email'&#10;                                className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'&#10;                                // 1. BIND VALUE AND ONCHANGE&#10;                                value={identifier}&#10;                                onChange={(e) =&gt; setIdentifier(e.target.value)}&#10;                            /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className='flex flex-col mt-4 pb-3 font-medium text-gray-900 gap-1'&gt;&#10;                            &lt;p&gt;Password&lt;/p&gt;&#10;                            &lt;div className=&quot;relative&quot;&gt; {/* Added relative for positioning if needed */}&#10;                                &lt;input&#10;                                    type='password'&#10;                                    placeholder='Password'&#10;                                    className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'&#10;                                    // 2. BIND VALUE AND ONCHANGE&#10;                                    value={password}&#10;                                    onChange={(e) =&gt; setPassword(e.target.value)}&#10;                                /&gt;&#10;                                {/* Ensure eye button doesn't submit form */}&#10;                                &lt;button type=&quot;button&quot; className='absolute right-2 top-2 cursor-pointer text-gray-500'&gt;&#10;                                    &lt;i className=&quot;fa-regular fa-eye&quot;&gt;&lt;/i&gt;&#10;                                &lt;/button&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className='flex flex-row justify-between'&gt;&#10;                            &lt;div className='flex flex-row items-center gap-2'&gt;&#10;                                &lt;input type='checkbox' className='w-3 h-3 ml-0.5'/&gt;&#10;                                &lt;p&gt;Remember me&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;button type=&quot;button&quot; className='text-red-500 font-medium text-sm hover:underline cursor-pointer mr-1'&gt;&#10;                                Forgot Password&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* 3. SUBMIT BUTTON */}&#10;                        &lt;button&#10;                            type=&quot;submit&quot;&#10;                            className='w-full bg-red-500 text-md py-2 my-4 rounded-xl font-semibold text-white cursor-pointer transition duration-300 hover:-translate-y-1'&#10;                        &gt;&#10;                            Login&#10;                        &lt;/button&gt;&#10;&#10;                    &lt;/form&gt;&#10;                    {/* --- FORM END --- */}&#10;&#10;                    &lt;div className='flex flex-row gap-1 justify-center'&gt;&#10;                        &lt;p className='text-sm font-medium text-gray-700'&gt;Don't have an account?&lt;/p&gt;&#10;                        &lt;button className='text-red-500 font-semibold text-sm'&#10;                            onClick={() =&gt; navigate('/register')}&gt;&#10;                            Register&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                    &#10;                &lt;/div&gt;&#10;&#10;                &lt;div&gt;&#10;                    &lt;img src={login_illustration} className='h-160 rounded-tr-2xl rounded-br-2xl'/&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    )&#10;}&#10;&#10;export default Login;" />
+              <option name="updatedContent" value="import React, {useState} from 'react'&#10;import login_illustration from '../assets/login_illustration.jpg';&#10;import { useNavigate } from 'react-router-dom'&#10;import { loginUser } from '../https';&#10;&#10;function Login() {&#10;    const [identifier, setIdentifier] = useState('');&#10;    const [password, setPassword] = useState('');&#10;    const [errorMsg, setErrorMsg] = useState('');&#10;&#10;    const navigate = useNavigate();&#10;&#10;    const handleSubmit = async (e) =&gt; {&#10;        e.preventDefault();&#10;&#10;        // Call the backend&#10;        const data = await loginUser(identifier, password);&#10;&#10;        if (data.success) {&#10;            console.log(&quot;Login Success!&quot;, data);&#10;            // Minimal compatibility fix: ProtectedRoute checks localStorage for 'authToken'.&#10;            // Store a simple token/flag so the existing guard will allow access.&#10;            try {&#10;                localStorage.setItem('authToken', data.username || 'true');&#10;            } catch (e) {&#10;                console.warn('Failed to write authToken to localStorage', e);&#10;            }&#10;            navigate('/user/dashboard');&#10;        } else {&#10;            setErrorMsg(data.error || &quot;Login failed. Please check your credentials.&quot;);&#10;        }&#10;    };&#10;    return (&#10;        &lt;div className='flex fixed items-center justify-center overflow-y-scroll inset-0 z-1000 bg-zinc-200'&gt;&#10;            &lt;div className='flex felx-row'&gt;&#10;                &lt;div className='bg-white shadow flex flex-col min-w-100 pt-3 pb-7 px-5 rounded-tl-2xl rounded-bl-2xl'&gt;&#10;&#10;                    &lt;div className='flex flex-row justify-between items-center mt-2'&gt;&#10;                        &lt;span className='font-black text-red-500 text-2xl tracking-tighter'&gt;dunzo.&lt;/span&gt;&#10;                        &lt;button className='px-3 py-2 cursor-pointer -mr-1'&#10;                            onClick={() =&gt; navigate('/')}&gt;&#10;                            &lt;i className=&quot;fa-regular fa-circle-xmark&quot;&gt;&lt;/i&gt;&#10;                        &lt;/button&gt;&#10;&#10;                    &lt;/div&gt;&#10;                    &#10;                    &lt;div className='flex flex-row gap-3 items-center'&gt;&#10;                        &lt;span className='font-bold text-gray-900 text-2xl'&gt;Welcome Back&lt;/span&gt;&#10;                        &lt;i className=&quot;fa-regular fa-hand text-red-500 text-2xl&quot;&gt;&lt;/i&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;span className='text-gray-600 font-medium text-md'&gt;Log in to manage your tasks.&lt;/span&gt;&#10;&#10;                    {/* --- ERROR MESSAGE DISPLAY --- */}&#10;                    {errorMsg &amp;&amp; (&#10;                        &lt;div className=&quot;mt-2 p-2 bg-red-100 border border-red-400 text-red-700 text-sm rounded&quot;&gt;&#10;                            {errorMsg}&#10;                        &lt;/div&gt;&#10;                    )}&#10;&#10;                    {/* --- FORM START ---&#10;                        Wrapping inputs in a form allows &quot;Enter&quot; key to submit&#10;                    */}&#10;                    &lt;form onSubmit={handleSubmit} className='mt-5'&gt;&#10;&#10;                        &lt;div className='flex flex-col font-medium text-gray-900 gap-1'&gt;&#10;                            &lt;p&gt;Username/Email&lt;/p&gt;&#10;                            &lt;input&#10;                                type='text'&#10;                                placeholder='Enter your username/email'&#10;                                className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'&#10;                                // 1. BIND VALUE AND ONCHANGE&#10;                                value={identifier}&#10;                                onChange={(e) =&gt; setIdentifier(e.target.value)}&#10;                            /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className='flex flex-col mt-4 pb-3 font-medium text-gray-900 gap-1'&gt;&#10;                            &lt;p&gt;Password&lt;/p&gt;&#10;                            &lt;div className=&quot;relative&quot;&gt; {/* Added relative for positioning if needed */}&#10;                                &lt;input&#10;                                    type='password'&#10;                                    placeholder='Password'&#10;                                    className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'&#10;                                    // 2. BIND VALUE AND ONCHANGE&#10;                                    value={password}&#10;                                    onChange={(e) =&gt; setPassword(e.target.value)}&#10;                                /&gt;&#10;                                {/* Ensure eye button doesn't submit form */}&#10;                                &lt;button type=&quot;button&quot; className='absolute right-2 top-2 cursor-pointer text-gray-500'&gt;&#10;                                    &lt;i className=&quot;fa-regular fa-eye&quot;&gt;&lt;/i&gt;&#10;                                &lt;/button&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className='flex flex-row justify-between'&gt;&#10;                            &lt;div className='flex flex-row items-center gap-2'&gt;&#10;                                &lt;input type='checkbox' className='w-3 h-3 ml-0.5'/&gt;&#10;                                &lt;p&gt;Remember me&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;button type=&quot;button&quot; className='text-red-500 font-medium text-sm hover:underline cursor-pointer mr-1'&gt;&#10;                                Forgot Password&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* 3. SUBMIT BUTTON */}&#10;                        &lt;button&#10;                            type=&quot;submit&quot;&#10;                            className='w-full bg-red-500 text-md py-2 my-4 rounded-xl font-semibold text-white cursor-pointer transition duration-300 hover:-translate-y-1'&#10;                        &gt;&#10;                            Login&#10;                        &lt;/button&gt;&#10;&#10;                    &lt;/form&gt;&#10;                    {/* --- FORM END --- */}&#10;&#10;                    &lt;div className='flex flex-row gap-1 justify-center'&gt;&#10;                        &lt;p className='text-sm font-medium text-gray-700'&gt;Don't have an account?&lt;/p&gt;&#10;                        &lt;button className='text-red-500 font-semibold text-sm'&#10;                            onClick={() =&gt; navigate('/register')}&gt;&#10;                            Register&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                    &#10;                &lt;/div&gt;&#10;&#10;                &lt;div&gt;&#10;                    &lt;img src={login_illustration} className='h-160 rounded-tr-2xl rounded-br-2xl'/&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    )&#10;}&#10;&#10;export default Login;" />
             </PendingDiffInfo>
           </value>
         </entry>
Index: frontend/src/data/taskSampleData.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>export const sampleTaskData = [\n{\n    id: 1,\n    title: \"Design Home Page UI\",\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus sit amet efficitur diam. Aliquam dui ipsum, molestie id auctor sed, ultrices vitae ante.\",\n    created_at: \"Dec 9, 2025\",\n    due_date: \"Dec 12, 2025\",\n    priority: \"High\",\n    status: \"In Progress\",\n    project: 'Project DB',\n    tags: [\n    { id: \"t1\", color: \"#EF4444\", name: \"Backend\" },\n    { id: \"t2\", color: \"#3B82F6\", name: \"API\" },\n    ],\n    users: [\n    { id: 1, name: \"Ryan Dev\", color: \"#F59E0B\" },\n    { id: 2, name: \"John Doe\", color: \"#10B981\" },\n    { id: 3, name: \"Alice Smith\", color: \"#6366F1\" },\n    ],\n},\n{\n    id: 2,\n    title: \"Setup MongoDB Database\",\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus sit amet efficitur diam. Aliquam dui ipsum, molestie id auctor sed, ultrices vitae ante.\",\n    created_at: \"Dec 9, 2025\",\n    due_date: \"Dec 15, 2025\",\n    priority: \"Medium\",\n    status: \"To Do\",\n    project: 'Dunzo',\n    tags: [\n    { id: \"t3\", color: \"#8B5CF6\", name: \"Design\" },\n    { id: \"t6\", color: \"#EC4899\", name: \"Mobile\" }, // Green (e.g., Backend)\n    ],\n    users: [\n    { id: 1, name: \"Ryan Dev\", color: \"#F59E0B\" },\n    { id: 4, name: \"Sarah Connor\", color: \"#EC4899\" },\n    ],\n},\n{\n    id: 3,\n    title: \"Fix Authentication Bug\",\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus sit amet efficitur diam. Aliquam dui ipsum, molestie id auctor sed, ultrices vitae ante.\",\n    created_at: \"Dec 9, 2025\",\n    due_date: \"Dec 10, 2025\",\n    priority: \"High\",\n    status: \"Done\",\n    project: 'NavCIT',\n    tags: [\n    { id: \"t4\", color: \"#F97316\", name: \"Bug\" },\n    ],\n    users: [\n    { id: 2, name: \"John Doe\", color: \"#10B981\" },\n    ],\n},\n{\n    id: 4,\n    title: \"Weekly Team Meeting\",\n    created_at: \"Dec 9, 2025\",\n    due_date: \"Dec 20, 2025\",\n    priority: \"Low\",\n    status: \"Archived\",\n    project: '',\n    tags: [\n    { id: \"t5\", color: \"#6B7280\", name: \"Meeting\" },\n    ],\n    // Adding many users to test your \"+N\" logic\n    users: [\n    { id: 1, name: \"Ryan Dev\", color: \"#F59E0B\" },\n    { id: 2, name: \"John Doe\", color: \"#10B981\" },\n    { id: 3, name: \"Alice Smith\", color: \"#6366F1\" },\n    { id: 4, name: \"Sarah Connor\", color: \"#EC4899\" },\n    { id: 5, name: \"Mike Ross\", color: \"#EF4444\" },\n    { id: 6, name: \"Harvey Specter\", color: \"#3B82F6\" },\n    { id: 7, name: \"Louis Litt\", color: \"#8B5CF6\" },\n    ],\n},\n];
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/data/taskSampleData.js b/frontend/src/data/taskSampleData.js
--- a/frontend/src/data/taskSampleData.js	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/data/taskSampleData.js	(date 1765476568349)
@@ -59,7 +59,7 @@
     due_date: "Dec 20, 2025",
     priority: "Low",
     status: "Archived",
-    project: '',
+    project: 'General',
     tags: [
     { id: "t5", color: "#6B7280", name: "Meeting" },
     ],
Index: frontend/src/data/projectSampleData.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>export const projectSampleData = [\n{\n    //general no team\n    id: 0,\n    name: \"General\",\n    // Hex Color: Dark Orange\n    color: \"#FF8C00\", \n    startDate: \"\",\n    endDate: \"\",\n    desc: \"For your general projects and unassigned tasks.\",\n    numTask: 45,\n    numComplete: 32,\n    numMembers: 0,\n    percentage: 71, \n    status: \"Active\",\n    members: [\n    ]\n},\n{\n    id: 1,\n    name: \"Mobile App Redesign\",\n    // Hex Color: Royal Purple\n    color: \"#5D3FD3\", \n    startDate: \"Jan 10, 2024\",\n    endDate: \"Mar 15, 2024\",\n    desc: \"Revamping the UX/UI for the main iOS and Android application.\",\n    numTask: 45,\n    numComplete: 32,\n    numMembers: 8,\n    percentage: 71, \n    status: \"Active\",\n    members: [\n    { id: 101, name: \"Alice Johnson\", avatarColor: \"#10B981\" }, // Emerald 500\n    { id: 102, name: \"Bob Smith\", avatarColor: \"#EF4444\" }, // Red 500\n    { id: 103, name: \"Charlie Davis\", avatarColor: \"#F97316\" }, // Orange 500\n    { id: 104, name: \"Dana Scully\", avatarColor: \"#8B5CF6\" }, // Purple 500\n    { id: 105, name: \"Edgar Vance\", avatarColor: \"#06B6D4\" }, // Cyan 500\n    ]\n},\n{\n    id: 2,\n    name: \"Marketing Website\",\n    // Hex Color: Dark Turquoise\n    color: \"#00CED1\",\n    startDate: \"Nov 01, 2023\",\n    endDate: \"Jan 20, 2024\",\n    desc: \"SEO optimization and landing page overhaul for Q1 campaign.\",\n    numTask: 20,\n    numComplete: 20,\n    numMembers: 4,\n    percentage: 100,\n    status: \"Completed\",\n    members: [\n    { id: 201, name: \"David Wilson\", avatarColor: \"#06B6D4\" }, // Cyan 500\n    { id: 202, name: \"Eva Green\", avatarColor: \"#F59E0B\" }, // Amber 500\n    { id: 203, name: \"Finley Reese\", avatarColor: \"#84CC16\" }, // Lime 500\n    ]\n},\n{\n    id: 3,\n    name: \"Internal Dashboard\",\n    // Hex Color: Hot Pink\n    color: \"#FF69B4\",\n    startDate: \"Feb 01, 2024\",\n    endDate: \"Aug 30, 2024\",\n    desc: \"Building analytics tools for the admin team to track sales.\",\n    numTask: 150,\n    numComplete: 15,\n    numMembers: 12,\n    percentage: 10,\n    status: \"Active\",\n    members: [\n    { id: 301, name: \"Frank Miller\", avatarColor: \"#3B82F6\" }, // Blue 500\n    { id: 302, name: \"Grace Lee\", avatarColor: \"#EF4444\"}, // Red 500\n    { id: 303, name: \"Henry Ford\", avatarColor: \"#22C55E\" }, // Green 500\n    { id: 304, name: \"Ivy Thomas\", avatarColor: \"#6B7280\" }, // Gray 500\n    { id: 305, name: \"Jasmine Kaur\", avatarColor: \"#EC4899\" }, // Pink 500\n    { id: 306, name: \"Kyle Owens\", avatarColor: \"#FBBF24\" }, // Yellow 500\n    ]\n},\n{\n    id: 4,\n    name: \"Legacy Migration\",\n    // Hex Color: Dim Gray\n    color: \"#696969\",\n    startDate: \"Jun 15, 2022\",\n    endDate: \"Dec 10, 2022\",\n    desc: \"Migrating old SQL databases to the new cloud infrastructure.\",\n    numTask: 80,\n    numComplete: 80,\n    numMembers: 3,\n    percentage: 100,\n    status: \"Archived\",\n    members: [\n    { id: 401, name: \"Jack Ryan\", avatarColor: \"#F97316\" }, // Orange 500\n    { id: 402, name: \"Kelly Clark\", avatarColor: \"#8B5CF6\" }, // Purple 500\n    ]\n},\n{\n    id: 5,\n    name: \"Q3 Product Launch\",\n    // Hex Color: Forest Green\n    color: \"#228B22\",\n    startDate: \"July 01, 2024\",\n    endDate: \"Sep 30, 2024\",\n    desc: \"Coordination of marketing, sales, and development for the new flagship product feature.\",\n    numTask: 60,\n    numComplete: 5,\n    numMembers: 10,\n    percentage: 8,\n    status: \"Active\",\n    members: [\n    { id: 501, name: \"Liam Ness\", avatarColor: \"#10B981\" }, // Emerald 500\n    { id: 502, name: \"Mia Hall\", avatarColor: \"#E879F9\" }, // Fuchsia 400\n    { id: 503, name: \"Noah King\", avatarColor: \"#3B82F6\" }, // Blue 500\n    { id: 504, name: \"Olivia Bell\", avatarColor: \"#EF4444\" }, // Red 500\n    { id: 505, name: \"Peter Vance\", avatarColor: \"#22C55E\" }, // Green 500\n    ]\n},\n{\n    id: 6,\n    name: \"HR Onboarding Portal\",\n    // Hex Color: Dodger Blue\n    color: \"#1E90FF\",\n    startDate: \"May 10, 2024\",\n    endDate: \"Oct 25, 2024\",\n    desc: \"Developing a self-service portal for new employee documentation and training.\",\n    numTask: 35,\n    numComplete: 35,\n    numMembers: 6,\n    percentage: 100,\n    status: \"Completed\",\n    members: [\n    { id: 601, name: \"Quinn Adams\", avatarColor: \"#F97316\" }, // Orange 500\n    { id: 602, name: \"Ryan Stone\", avatarColor: \"#6366F1\" }, // Indigo 500\n    { id: 603, name: \"Sara Trent\", avatarColor: \"#FBBF24\" }, // Yellow 500\n    ]\n},\n{\n    id: 7,\n    name: \"Server Maintenance\",\n    // Hex Color: Brown\n    color: \"#A52A2A\",\n    startDate: \"Mar 01, 2023\",\n    endDate: \"Mar 30, 2023\",\n    desc: \"Scheduled upgrade and patching of all production servers.\",\n    numTask: 12,\n    numComplete: 12,\n    numMembers: 2,\n    percentage: 100,\n    status: \"Archived\",\n    members: [\n    { id: 701, name: \"Tom Hardy\", avatarColor: \"#6B7280\" }, // Gray 500\n    { id: 702, name: \"Uma Thurman\", avatarColor: \"#84CC16\" }, // Lime 500\n    ]\n},\n{\n    id: 8,\n    name: \"Customer Feedback System\",\n    // Hex Color: Gold\n    color: \"#FFD700\",\n    startDate: \"April 05, 2024\",\n    endDate: \"June 20, 2024\",\n    desc: \"Integrating a new tool for collecting and analyzing user feedback across all platforms.\",\n    numTask: 90,\n    numComplete: 45,\n    numMembers: 7,\n    percentage: 50,\n    status: \"On Hold\",\n    members: [\n    { id: 801, name: \"Victor Chen\", avatarColor: \"#3B82F6\" }, // Blue 500\n    { id: 802, name: \"Wendy Zhao\", avatarColor: \"#EC4899\" }, // Pink 500\n    { id: 803, name: \"Xavier Moon\", avatarColor: \"#8B5CF6\" }, // Purple 500\n    { id: 804, name: \"Yara Lopez\", avatarColor: \"#EF4444\" }, // Red 500\n    ]\n},\n{\n    id: 9,\n    name: \"API Documentation\",\n    // Hex Color: Teal\n    color: \"#008080\",\n    startDate: \"Jan 01, 2024\",\n    endDate: \"Dec 31, 2024\",\n    desc: \"Writing comprehensive documentation and examples for the public-facing API.\",\n    numTask: 200,\n    numComplete: 50,\n    numMembers: 4,\n    percentage: 25,\n    status: \"Active\",\n    members: [\n    { id: 901, name: \"Zane White\", avatarColor: \"#22C55E\" }, // Green 500\n    { id: 902, name: \"Anna Smith\", avatarColor: \"#06B6D4\" }, // Cyan 500\n    ]\n},\n\n{\n    id: 10,\n    name: \"Tuntun Dopamine Surge Project\",\n    color: \"#000080\",\n    startDate: \"Oct 27, 2025\",\n    endDate: \"Nov 01, 2025\",\n    desc: \"Deployment of the core algorithm. Must achieve hyper-virality. Focus on the core beat and simple transitions. No complex thought processes allowed. Simply: TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG.\",\n    numTask: 42,\n    numComplete: 39,\n    numMembers: 10,\n    percentage: 93,\n    status: \"Active\",\n    members: [\n        { id: 1001, name: \"Tung Tung Tung Sahur\", avatarColor: \"#FF4500\" },\n        { id: 1002, name: \"Brr Brr Patapim\", avatarColor: \"#00FF00\" },\n        { id: 1003, name: \"Tralalero Tralala\", avatarColor: \"#4B0082\" },\n        { id: 1004, name: \"Sahu Sahu Boom\", avatarColor: \"#FFFF00\" },\n        { id: 1005, name: \"Lirilarila Pop\", avatarColor: \"#FF1493\" },\n        { id: 1006, name: \"Grrrblop Blip\", avatarColor: \"#00FFFF\" },\n        { id: 1007, name: \"Zing Zang Zong\", avatarColor: \"#800000\" },\n        { id: 1008, name: \"Wap Wap Wop\", avatarColor: \"#D3D3D3\" },\n        { id: 1009, name: \"Pum Pum Pumplin\", avatarColor: \"#808000\" },\n        { id: 1010, name: \"Tee Tee Tee Tun\", avatarColor: \"#B0E0E6\" },\n    ],\n}\n\n];
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/data/projectSampleData.js b/frontend/src/data/projectSampleData.js
--- a/frontend/src/data/projectSampleData.js	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/data/projectSampleData.js	(date 1765476568349)
@@ -1,211 +1,355 @@
 export const projectSampleData = [
-{
-    //general no team
-    id: 0,
-    name: "General",
-    // Hex Color: Dark Orange
-    color: "#FF8C00", 
-    startDate: "",
-    endDate: "",
-    desc: "For your general projects and unassigned tasks.",
-    numTask: 45,
-    numComplete: 32,
-    numMembers: 0,
-    percentage: 71, 
-    status: "Active",
-    members: [
-    ]
-},
-{
-    id: 1,
-    name: "Mobile App Redesign",
-    // Hex Color: Royal Purple
-    color: "#5D3FD3", 
-    startDate: "Jan 10, 2024",
-    endDate: "Mar 15, 2024",
-    desc: "Revamping the UX/UI for the main iOS and Android application.",
-    numTask: 45,
-    numComplete: 32,
-    numMembers: 8,
-    percentage: 71, 
-    status: "Active",
-    members: [
-    { id: 101, name: "Alice Johnson", avatarColor: "#10B981" }, // Emerald 500
-    { id: 102, name: "Bob Smith", avatarColor: "#EF4444" }, // Red 500
-    { id: 103, name: "Charlie Davis", avatarColor: "#F97316" }, // Orange 500
-    { id: 104, name: "Dana Scully", avatarColor: "#8B5CF6" }, // Purple 500
-    { id: 105, name: "Edgar Vance", avatarColor: "#06B6D4" }, // Cyan 500
-    ]
-},
-{
-    id: 2,
-    name: "Marketing Website",
-    // Hex Color: Dark Turquoise
-    color: "#00CED1",
-    startDate: "Nov 01, 2023",
-    endDate: "Jan 20, 2024",
-    desc: "SEO optimization and landing page overhaul for Q1 campaign.",
-    numTask: 20,
-    numComplete: 20,
-    numMembers: 4,
-    percentage: 100,
-    status: "Completed",
-    members: [
-    { id: 201, name: "David Wilson", avatarColor: "#06B6D4" }, // Cyan 500
-    { id: 202, name: "Eva Green", avatarColor: "#F59E0B" }, // Amber 500
-    { id: 203, name: "Finley Reese", avatarColor: "#84CC16" }, // Lime 500
-    ]
-},
-{
-    id: 3,
-    name: "Internal Dashboard",
-    // Hex Color: Hot Pink
-    color: "#FF69B4",
-    startDate: "Feb 01, 2024",
-    endDate: "Aug 30, 2024",
-    desc: "Building analytics tools for the admin team to track sales.",
-    numTask: 150,
-    numComplete: 15,
-    numMembers: 12,
-    percentage: 10,
-    status: "Active",
-    members: [
-    { id: 301, name: "Frank Miller", avatarColor: "#3B82F6" }, // Blue 500
-    { id: 302, name: "Grace Lee", avatarColor: "#EF4444"}, // Red 500
-    { id: 303, name: "Henry Ford", avatarColor: "#22C55E" }, // Green 500
-    { id: 304, name: "Ivy Thomas", avatarColor: "#6B7280" }, // Gray 500
-    { id: 305, name: "Jasmine Kaur", avatarColor: "#EC4899" }, // Pink 500
-    { id: 306, name: "Kyle Owens", avatarColor: "#FBBF24" }, // Yellow 500
-    ]
-},
-{
-    id: 4,
-    name: "Legacy Migration",
-    // Hex Color: Dim Gray
-    color: "#696969",
-    startDate: "Jun 15, 2022",
-    endDate: "Dec 10, 2022",
-    desc: "Migrating old SQL databases to the new cloud infrastructure.",
-    numTask: 80,
-    numComplete: 80,
-    numMembers: 3,
-    percentage: 100,
-    status: "Archived",
-    members: [
-    { id: 401, name: "Jack Ryan", avatarColor: "#F97316" }, // Orange 500
-    { id: 402, name: "Kelly Clark", avatarColor: "#8B5CF6" }, // Purple 500
-    ]
-},
-{
-    id: 5,
-    name: "Q3 Product Launch",
-    // Hex Color: Forest Green
-    color: "#228B22",
-    startDate: "July 01, 2024",
-    endDate: "Sep 30, 2024",
-    desc: "Coordination of marketing, sales, and development for the new flagship product feature.",
-    numTask: 60,
-    numComplete: 5,
-    numMembers: 10,
-    percentage: 8,
-    status: "Active",
-    members: [
-    { id: 501, name: "Liam Ness", avatarColor: "#10B981" }, // Emerald 500
-    { id: 502, name: "Mia Hall", avatarColor: "#E879F9" }, // Fuchsia 400
-    { id: 503, name: "Noah King", avatarColor: "#3B82F6" }, // Blue 500
-    { id: 504, name: "Olivia Bell", avatarColor: "#EF4444" }, // Red 500
-    { id: 505, name: "Peter Vance", avatarColor: "#22C55E" }, // Green 500
-    ]
-},
-{
-    id: 6,
-    name: "HR Onboarding Portal",
-    // Hex Color: Dodger Blue
-    color: "#1E90FF",
-    startDate: "May 10, 2024",
-    endDate: "Oct 25, 2024",
-    desc: "Developing a self-service portal for new employee documentation and training.",
-    numTask: 35,
-    numComplete: 35,
-    numMembers: 6,
-    percentage: 100,
-    status: "Completed",
-    members: [
-    { id: 601, name: "Quinn Adams", avatarColor: "#F97316" }, // Orange 500
-    { id: 602, name: "Ryan Stone", avatarColor: "#6366F1" }, // Indigo 500
-    { id: 603, name: "Sara Trent", avatarColor: "#FBBF24" }, // Yellow 500
-    ]
-},
-{
-    id: 7,
-    name: "Server Maintenance",
-    // Hex Color: Brown
-    color: "#A52A2A",
-    startDate: "Mar 01, 2023",
-    endDate: "Mar 30, 2023",
-    desc: "Scheduled upgrade and patching of all production servers.",
-    numTask: 12,
-    numComplete: 12,
-    numMembers: 2,
-    percentage: 100,
-    status: "Archived",
-    members: [
-    { id: 701, name: "Tom Hardy", avatarColor: "#6B7280" }, // Gray 500
-    { id: 702, name: "Uma Thurman", avatarColor: "#84CC16" }, // Lime 500
-    ]
-},
-{
-    id: 8,
-    name: "Customer Feedback System",
-    // Hex Color: Gold
-    color: "#FFD700",
-    startDate: "April 05, 2024",
-    endDate: "June 20, 2024",
-    desc: "Integrating a new tool for collecting and analyzing user feedback across all platforms.",
-    numTask: 90,
-    numComplete: 45,
-    numMembers: 7,
-    percentage: 50,
-    status: "On Hold",
-    members: [
-    { id: 801, name: "Victor Chen", avatarColor: "#3B82F6" }, // Blue 500
-    { id: 802, name: "Wendy Zhao", avatarColor: "#EC4899" }, // Pink 500
-    { id: 803, name: "Xavier Moon", avatarColor: "#8B5CF6" }, // Purple 500
-    { id: 804, name: "Yara Lopez", avatarColor: "#EF4444" }, // Red 500
-    ]
-},
-{
-    id: 9,
-    name: "API Documentation",
-    // Hex Color: Teal
-    color: "#008080",
-    startDate: "Jan 01, 2024",
-    endDate: "Dec 31, 2024",
-    desc: "Writing comprehensive documentation and examples for the public-facing API.",
-    numTask: 200,
-    numComplete: 50,
-    numMembers: 4,
-    percentage: 25,
-    status: "Active",
-    members: [
-    { id: 901, name: "Zane White", avatarColor: "#22C55E" }, // Green 500
-    { id: 902, name: "Anna Smith", avatarColor: "#06B6D4" }, // Cyan 500
-    ]
-},
-
-{
-    id: 10,
-    name: "Tuntun Dopamine Surge Project",
-    color: "#000080",
-    startDate: "Oct 27, 2025",
-    endDate: "Nov 01, 2025",
-    desc: "Deployment of the core algorithm. Must achieve hyper-virality. Focus on the core beat and simple transitions. No complex thought processes allowed. Simply: TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG.",
-    numTask: 42,
-    numComplete: 39,
-    numMembers: 10,
-    percentage: 93,
-    status: "Active",
-    members: [
+    {
+        //general no team
+        id: 0,
+        name: "General",
+        // Hex Color: Dark Orange
+        color: "#FF8C00",
+        startDate: "",
+        endDate: "",
+        desc: "For your general projects and unassigned tasks.",
+        numTask: 45,
+        numComplete: 32,
+        numMembers: 0,
+        percentage: 71,
+        status: "Active",
+        members: [],
+        timeline: [
+        {
+            id: "t1",
+            actor: "You",
+            action: "created",
+            target: "Personal To-Do List",
+            timestamp: "2 hours ago",
+        },
+        {
+            id: "t2",
+            actor: "You",
+            action: "archived",
+            target: "Grocery List 2023",
+            timestamp: "Yesterday",
+        },
+        ],
+    },
+    {
+        id: 1,
+        name: "Mobile App Redesign",
+        // Hex Color: Royal Purple
+        color: "#5D3FD3",
+        startDate: "Jan 10, 2024",
+        endDate: "Mar 15, 2024",
+        desc: "Revamping the UX/UI for the main iOS and Android application.",
+        numTask: 45,
+        numComplete: 32,
+        numMembers: 8,
+        percentage: 71,
+        status: "Active",
+        members: [
+        { id: 101, name: "Alice Johnson", avatarColor: "#10B981" }, // Emerald 500
+        { id: 102, name: "Bob Smith", avatarColor: "#EF4444" }, // Red 500
+        { id: 103, name: "Charlie Davis", avatarColor: "#F97316" }, // Orange 500
+        { id: 104, name: "Dana Scully", avatarColor: "#8B5CF6" }, // Purple 500
+        { id: 105, name: "Edgar Vance", avatarColor: "#06B6D4" }, // Cyan 500
+        ],
+        timeline: [
+        {
+            id: "t1",
+            actor: "Alice Johnson",
+            action: "uploaded",
+            target: "New Login Mockups.fig",
+            timestamp: "5 mins ago",
+        },
+        {
+            id: "t2",
+            actor: "Bob Smith",
+            action: "completed",
+            target: "Fix Navigation Bug",
+            timestamp: "1 hour ago",
+        },
+        {
+            id: "t3",
+            actor: "Charlie Davis",
+            action: "commented on",
+            target: "Dark Mode implementation",
+            timestamp: "3 hours ago",
+        },
+        ],
+    },
+    {
+        id: 2,
+        name: "Marketing Website",
+        // Hex Color: Dark Turquoise
+        color: "#00CED1",
+        startDate: "Nov 01, 2023",
+        endDate: "Jan 20, 2024",
+        desc: "SEO optimization and landing page overhaul for Q1 campaign.",
+        numTask: 20,
+        numComplete: 20,
+        numMembers: 4,
+        percentage: 100,
+        status: "Completed",
+        members: [
+        { id: 201, name: "David Wilson", avatarColor: "#06B6D4" }, // Cyan 500
+        { id: 202, name: "Eva Green", avatarColor: "#F59E0B" }, // Amber 500
+        { id: 203, name: "Finley Reese", avatarColor: "#84CC16" }, // Lime 500
+        ],
+        timeline: [
+        {
+            id: "t1",
+            actor: "David Wilson",
+            action: "deployed",
+            target: "Landing Page v2.0",
+            timestamp: "Jan 20, 2024",
+        },
+        {
+            id: "t2",
+            actor: "Eva Green",
+            action: "approved",
+            target: "Final SEO Keywords",
+            timestamp: "Jan 19, 2024",
+        },
+        ],
+    },
+    {
+        id: 3,
+        name: "Internal Dashboard",
+        // Hex Color: Hot Pink
+        color: "#FF69B4",
+        startDate: "Feb 01, 2024",
+        endDate: "Aug 30, 2024",
+        desc: "Building analytics tools for the admin team to track sales.",
+        numTask: 150,
+        numComplete: 15,
+        numMembers: 12,
+        percentage: 10,
+        status: "Active",
+        members: [
+        { id: 301, name: "Frank Miller", avatarColor: "#3B82F6" }, // Blue 500
+        { id: 302, name: "Grace Lee", avatarColor: "#EF4444" }, // Red 500
+        { id: 303, name: "Henry Ford", avatarColor: "#22C55E" }, // Green 500
+        { id: 304, name: "Ivy Thomas", avatarColor: "#6B7280" }, // Gray 500
+        { id: 305, name: "Jasmine Kaur", avatarColor: "#EC4899" }, // Pink 500
+        { id: 306, name: "Kyle Owens", avatarColor: "#FBBF24" }, // Yellow 500
+        ],
+        timeline: [
+        {
+            id: "t1",
+            actor: "Frank Miller",
+            action: "stalled",
+            target: "Database Connection",
+            timestamp: "10 mins ago",
+        },
+        {
+            id: "t2",
+            actor: "Jasmine Kaur",
+            action: "created",
+            target: "Sales Chart Component",
+            timestamp: "Yesterday",
+        },
+        ],
+    },
+    {
+        id: 4,
+        name: "Legacy Migration",
+        // Hex Color: Dim Gray
+        color: "#696969",
+        startDate: "Jun 15, 2022",
+        endDate: "Dec 10, 2022",
+        desc: "Migrating old SQL databases to the new cloud infrastructure.",
+        numTask: 80,
+        numComplete: 80,
+        numMembers: 3,
+        percentage: 100,
+        status: "Archived",
+        members: [
+        { id: 401, name: "Jack Ryan", avatarColor: "#F97316" }, // Orange 500
+        { id: 402, name: "Kelly Clark", avatarColor: "#8B5CF6" }, // Purple 500
+        ],
+        timeline: [
+        {
+            id: "t1",
+            actor: "System",
+            action: "archived",
+            target: "Legacy Migration Project",
+            timestamp: "Dec 10, 2022",
+        },
+        ],
+    },
+    {
+        id: 5,
+        name: "Q3 Product Launch",
+        // Hex Color: Forest Green
+        color: "#228B22",
+        startDate: "July 01, 2024",
+        endDate: "Sep 30, 2024",
+        desc: "Coordination of marketing, sales, and development for the new flagship product feature.",
+        numTask: 60,
+        numComplete: 5,
+        numMembers: 10,
+        percentage: 8,
+        status: "Active",
+        members: [
+        { id: 501, name: "Liam Ness", avatarColor: "#10B981" }, // Emerald 500
+        { id: 502, name: "Mia Hall", avatarColor: "#E879F9" }, // Fuchsia 400
+        { id: 503, name: "Noah King", avatarColor: "#3B82F6" }, // Blue 500
+        { id: 504, name: "Olivia Bell", avatarColor: "#EF4444" }, // Red 500
+        { id: 505, name: "Peter Vance", avatarColor: "#22C55E" }, // Green 500
+        ],
+        timeline: [
+        {
+            id: "t1",
+            actor: "Liam Ness",
+            action: "scheduled",
+            target: "Kickoff Meeting",
+            timestamp: "Just now",
+        },
+        {
+            id: "t2",
+            actor: "Mia Hall",
+            action: "drafted",
+            target: "Press Release",
+            timestamp: "4 hours ago",
+        },
+        ],
+    },
+    {
+        id: 6,
+        name: "HR Onboarding Portal",
+        // Hex Color: Dodger Blue
+        color: "#1E90FF",
+        startDate: "May 10, 2024",
+        endDate: "Oct 25, 2024",
+        desc: "Developing a self-service portal for new employee documentation and training.",
+        numTask: 35,
+        numComplete: 35,
+        numMembers: 6,
+        percentage: 100,
+        status: "Completed",
+        members: [
+        { id: 601, name: "Quinn Adams", avatarColor: "#F97316" }, // Orange 500
+        { id: 602, name: "Ryan Stone", avatarColor: "#6366F1" }, // Indigo 500
+        { id: 603, name: "Sara Trent", avatarColor: "#FBBF24" }, // Yellow 500
+        ],
+        timeline: [
+        {
+            id: "t1",
+            actor: "Sara Trent",
+            action: "pushed",
+            target: "Final Build v1.0",
+            timestamp: "Oct 25, 2024",
+        },
+        ],
+    },
+    {
+        id: 7,
+        name: "Server Maintenance",
+        // Hex Color: Brown
+        color: "#A52A2A",
+        startDate: "Mar 01, 2023",
+        endDate: "Mar 30, 2023",
+        desc: "Scheduled upgrade and patching of all production servers.",
+        numTask: 12,
+        numComplete: 12,
+        numMembers: 2,
+        percentage: 100,
+        status: "Archived",
+        members: [
+        { id: 701, name: "Tom Hardy", avatarColor: "#6B7280" }, // Gray 500
+        { id: 702, name: "Uma Thurman", avatarColor: "#84CC16" }, // Lime 500
+        ],
+        timeline: [
+        {
+            id: "t1",
+            actor: "Tom Hardy",
+            action: "rebooted",
+            target: "Main Cluster",
+            timestamp: "Mar 30, 2023",
+        },
+        ],
+    },
+    {
+        id: 8,
+        name: "Customer Feedback System",
+        // Hex Color: Gold
+        color: "#FFD700",
+        startDate: "April 05, 2024",
+        endDate: "June 20, 2024",
+        desc: "Integrating a new tool for collecting and analyzing user feedback across all platforms.",
+        numTask: 90,
+        numComplete: 45,
+        numMembers: 7,
+        percentage: 50,
+        status: "On Hold",
+        members: [
+        { id: 801, name: "Victor Chen", avatarColor: "#3B82F6" }, // Blue 500
+        { id: 802, name: "Wendy Zhao", avatarColor: "#EC4899" }, // Pink 500
+        { id: 803, name: "Xavier Moon", avatarColor: "#8B5CF6" }, // Purple 500
+        { id: 804, name: "Yara Lopez", avatarColor: "#EF4444" }, // Red 500
+        ],
+        timeline: [
+        {
+            id: "t1",
+            actor: "Victor Chen",
+            action: "paused",
+            target: "Integration Phase 2",
+            timestamp: "2 days ago",
+        },
+        {
+            id: "t2",
+            actor: "Wendy Zhao",
+            action: "flagged",
+            target: "API Rate Limit Issue",
+            timestamp: "1 week ago",
+        },
+        ],
+    },
+    {
+        id: 9,
+        name: "API Documentation",
+        // Hex Color: Teal
+        color: "#008080",
+        startDate: "Jan 01, 2024",
+        endDate: "Dec 31, 2024",
+        desc: "Writing comprehensive documentation and examples for the public-facing API.",
+        numTask: 200,
+        numComplete: 50,
+        numMembers: 4,
+        percentage: 25,
+        status: "Active",
+        members: [
+        { id: 901, name: "Zane White", avatarColor: "#22C55E" }, // Green 500
+        { id: 902, name: "Anna Smith", avatarColor: "#06B6D4" }, // Cyan 500
+        ],
+        timeline: [
+        {
+            id: "t1",
+            actor: "Zane White",
+            action: "wrote",
+            target: "/auth/login endpoint docs",
+            timestamp: "15 mins ago",
+        },
+        {
+            id: "t2",
+            actor: "Anna Smith",
+            action: "reviewed",
+            target: "Python SDK Examples",
+            timestamp: "1 day ago",
+        },
+        ],
+    },
+    {
+        id: 10,
+        name: "Tuntun Dopamine Surge Project",
+        color: "#000080",
+        startDate: "Oct 27, 2025",
+        endDate: "Nov 01, 2025",
+        desc: "Deployment of the core algorithm. Must achieve hyper-virality. Focus on the core beat and simple transitions. No complex thought processes allowed. Simply: TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG TUNG.",
+        numTask: 42,
+        numComplete: 39,
+        numMembers: 10,
+        percentage: 93,
+        status: "Active",
+        members: [
         { id: 1001, name: "Tung Tung Tung Sahur", avatarColor: "#FF4500" },
         { id: 1002, name: "Brr Brr Patapim", avatarColor: "#00FF00" },
         { id: 1003, name: "Tralalero Tralala", avatarColor: "#4B0082" },
@@ -216,7 +360,36 @@
         { id: 1008, name: "Wap Wap Wop", avatarColor: "#D3D3D3" },
         { id: 1009, name: "Pum Pum Pumplin", avatarColor: "#808000" },
         { id: 1010, name: "Tee Tee Tee Tun", avatarColor: "#B0E0E6" },
-    ],
-}
-
+        ],
+        timeline: [
+        {
+            id: "t1",
+            actor: "Tung Tung Tung Sahur",
+            action: "looped",
+            target: "The Infinite Beat",
+            timestamp: "1 sec ago",
+        },
+        {
+            id: "t2",
+            actor: "Brr Brr Patapim",
+            action: "dropped",
+            target: "The Bass (Very Heavy)",
+            timestamp: "10 secs ago",
+        },
+        {
+            id: "t3",
+            actor: "Grrrblop Blip",
+            action: "removed",
+            target: "Complex Thoughts",
+            timestamp: "1 min ago",
+        },
+        {
+            id: "t4",
+            actor: "Lirilarila Pop",
+            action: "surged",
+            target: "Dopamine Levels",
+            timestamp: "2 mins ago",
+        },
+        ],
+    },
 ];
\ No newline at end of file
Index: frontend/src/pages/Settings.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\n\nfunction Settings() {\n  return (\n    <div>\n      <h1>Settings</h1>\n    </div>\n  )\n}\n\nexport default Settings
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/pages/Settings.jsx b/frontend/src/pages/Settings.jsx
--- a/frontend/src/pages/Settings.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/pages/Settings.jsx	(date 1765583266771)
@@ -1,11 +1,123 @@
-import React from 'react'
-
+import React, { useState } from 'react'
+import LogoutModal from '../components/settings-components/LogoutModal';
 function Settings() {
-  return (
-    <div>
-      <h1>Settings</h1>
-    </div>
-  )
+    const [isEditing, setIsEditing] = useState(false);
+    const [isChangingPassword, setIsChangingPassword] = useState(false);
+    const [showLogoutModal, setShowLogoutModal] = useState(false);
+
+    const handleEditToggle = (e) => {
+        e.preventDefault(); 
+        setIsEditing(!isEditing);
+    };
+
+    const handleChangePasswordToggle = (e) => {
+        e.preventDefault();
+        setIsChangingPassword(!isChangingPassword);
+    };
+
+    return (
+        <div className='flex flex-col h-screen mx-4'>
+            {showLogoutModal && <LogoutModal onClose={()=>setShowLogoutModal(false)}/>}
+            <div className='sticky top-0 z-100 bg-gray-100 py-3'>
+                <div className='flex flex-col bg-none'>
+                    <h1 className='m-0 p-0'>Settings.</h1>
+                    <p className='font-medium text-gray-600 text-sm'>Edit and update your personal account details easily and securely.</p>
+                </div>
+
+                <div className='flex flex-row mt-10 ml-10'>
+                    {/* user profile/icon */}
+                    <div className='flex flex-col'>
+                        <div className='flex flex-row items-center justify-center w-[120px] h-[120px] bg-red-500 rounded-full'>
+                            <p className='text-white font-bold text-4xl'>JV</p>
+                        </div>
+
+                        <button className='my-5 font-semibold text-red-600 hover:underline cursor-pointer'
+                            onClick={()=>setShowLogoutModal(true)}>
+                            <span className='mr-2'>Logout</span>
+                            <i class="fa-solid fa-arrow-right-from-bracket"></i>
+                        </button>
+                    </div>
+                    {/* user details form */}
+                    <div className='flex flex-col'> 
+                        <form className='ml-6 flex flex-col gap-4'>
+                            <div className='flex flex-row justify-between items-center my-4'>
+                                <input 
+                                    type="text" 
+                                    placeholder="Full Name" 
+                                    disabled={!isEditing}
+                                    className={`px-4 py-2 text-3xl font-bold tracking-tight rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 w-full ${!isEditing ? 'bg-transparent border-none' : 'bg-white'}`} 
+                                    defaultValue="Josephs Victors"
+                                />
+
+                                <button 
+                                    onClick={handleEditToggle}
+                                    type="button" 
+                                    className={`rounded-full text-white font-medium px-4 py-1 transition duration-200 cursor-pointer whitespace-nowrap ml-4 ${isEditing ? 'bg-green-500 hover:bg-green-600' : 'bg-red-500 hover:bg-red-600'}`}
+                                >
+                                    {isEditing ? 'Save Profile' : 'Edit Profile'}
+                                </button>
+                            </div>
+
+                            {/* username */}
+                            <div className='flex flex-col'>
+                                <p className='font-semibold text-gray-800 ml-4'>Username</p>
+                                <input 
+                                    type="text" 
+                                    placeholder="Username" 
+                                    readOnly
+                                    className={`ml-3 pl-1 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 p-1 ${!isEditing ? 'bg-transparent' : 'bg-white border border-gray-300'}`}
+                                    value="josephsvictors" //pls pa change ani HAHAHAHAHAHA
+                                />
+                            </div>
+                            
+                            {/* email */}
+                            <div className='flex flex-col'>
+                                <p className='font-semibold text-gray-800 ml-4'>Email</p>
+                                <input 
+                                    type="email" 
+                                    placeholder="Email Address" 
+                                    disabled={!isEditing}
+                                    className={`ml-3 pl-1 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 p-1 ${!isEditing ? 'bg-transparent' : 'bg-white border border-gray-300'}`}
+                                    defaultValue="example@email.com"
+                                />
+                            </div>
+                            
+                            {/* Password Button */}
+                            <button 
+                                onClick={handleChangePasswordToggle}
+                                className='bg-red-500 ml-4 w-fit text-white font-semibold py-2 px-4 rounded-full hover:bg-red-600 transition duration-200 cursor-pointer mt-4'
+                            >
+                                {isChangingPassword ? 'Cancel Password Change' : 'Change Password'}
+                            </button>
+                            {isChangingPassword && (
+                                <div className='flex flex-col gap-4 mt-2 transition-all duration-300 ease-in-out'>
+                                    <div className='flex flex-col'>
+                                        <p className='font-semibold text-gray-800 ml-4'>Old Password</p>
+                                        <input 
+                                            type="password" 
+                                            placeholder="Enter old password" 
+                                            className='ml-3 pl-1 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 p-1 bg-white border border-gray-300'
+                                        />
+                                    </div>
+                                    <div className='flex flex-col'>
+                                        <p className='font-semibold text-gray-800 ml-4'>New Password</p>
+                                        <input 
+                                            type="password" 
+                                            placeholder="Enter new password" 
+                                            className='ml-3 pl-1 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 p-1 bg-white border border-gray-300'
+                                        />
+                                    </div>
+                                    <button className='bg-green-500 ml-4 w-fit text-white font-semibold py-2 px-4 rounded-full hover:bg-green-600 transition duration-200 cursor-pointer'>
+                                        Confirm New Password
+                                    </button>
+                                </div>
+                            )}
+                        </form>
+                    </div>
+                </div>
+            </div>
+        </div>
+    )
 }
 
 export default Settings
\ No newline at end of file
Index: frontend/src/components/settings-components/LogoutModal.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/settings-components/LogoutModal.jsx b/frontend/src/components/settings-components/LogoutModal.jsx
new file mode 100644
--- /dev/null	(date 1765583266770)
+++ b/frontend/src/components/settings-components/LogoutModal.jsx	(date 1765583266770)
@@ -0,0 +1,28 @@
+import React from 'react'
+import logout_illustration from '../../assets/logout_illustration.jpg'
+import { useNavigate } from 'react-router-dom'
+
+function LogoutModal({onClose}) {
+    const navigate = useNavigate();
+    return (
+        <div className='flex fixed justify-center items-center overflow-y-scroll inset-0 z-1000 bg-zinc-300/80'>
+                <div className='mt-[0%] gap-2 flex flex-col min-w-100 px-5 py-6 bg-white rounded-2xl shadow-md font-medium'>
+                    <span className=' text-gray-900 font-semibold text-2xl'>Confirm Logout</span>
+                    <p className='text-gray-700'>Are you sure you want to logout from your account?</p>
+                    <div className='flex flex-row gap-2'>
+                        <button className=' grow bg-red-500 hover:bg-red-600 text-white font-medium px-4 py-2 rounded-md'
+                            onClick={()=>navigate('/')}>
+                            Logout
+                        </button>
+                        <button className=' grow bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium px-4 py-2 rounded-md'
+                            onClick={onClose}>
+                            Cancel
+                        </button>
+                    </div>
+            </div>
+            
+        </div>
+    )
+}
+
+export default LogoutModal
\ No newline at end of file
Index: frontend/src/pages/Task.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\nimport { useState } from 'react';\nimport { sampleTaskData } from '../data/taskSampleData';\nimport { projectSampleData } from '../data/projectSampleData';\nimport SelectOptions from '../components/SelectOptions';\nimport TaskCard from '../components/task-app-components/TaskCard';\nimport ModalExpandTask from '../components/task-app-components/ModalExpandTask';\nimport ModalAddTask from '../components/task-app-components/ModalAddTask';\nfunction Task() {\n    \n    // para dali ra ma edit lols XDXDXD\n    const taskStatus = [\n        { id: 0, name: 'All' },\n        { id: 1, name: 'To Do' },\n        { id: 2, name: 'In Progress' },\n        { id: 3, name: 'Done' },\n        { id: 4, name: 'Archived' }\n    ];\n\n    const sortList = [\n        { id: 0, name: 'Recent' },\n        { id: 1, name: 'Name' },\n        { id: 2, name: 'Due Date' }\n    ]\n\n    const [view, setView] = useState(false) //for sa view task pero ari ibutang kay mao man ang parent\n    const [taskItem, setTaskItem] = useState(null) // para sa pagselect sa item ex(task[0] <-- mao ni i display)\n    const [openAddTask, setOpenAddTask] = useState(false) // para sa modal sa add task\n\n\n    return (\n        <div className='flex flex-col h-screen mx-4'>\n            {view && <ModalExpandTask  item={taskItem} onClose={()=>setView(false)}/>}\n            {openAddTask && <ModalAddTask onClose={()=>setOpenAddTask(false)}/>}\n\n            <div className='sticky top-0 z-100 bg-gray-100 py-3'>\n                <div className='flex flex-row justify-between items-center bg-none'>\n                    <h1 className='m-0 p-0'>Tasks.</h1>\n                    <button className='bg-red-500 mr-4 py-1.5 px-4 text-white font-medium rounded-full cursor-pointer'\n                            onClick={()=>setOpenAddTask(true)}\n                        >\n                        <span className='mr-2'><i class=\"fa-solid fa-plus\"></i></span>\n                        New Task\n                    </button>\n                </div>\n\n                {/* filter */}\n                <div className='flex flex-row gap-3 my-2'>\n                    <SelectOptions context={'Status'} items={taskStatus}/>\n                    <SelectOptions context={'Project'} items={projectSampleData}/>\n                    <SelectOptions context={'Sort by'} items={sortList}/>\n                </div>\n            </div>\n            \n\n            <div className='mt-4 gap-3 grid grid-cols-[repeat(auto-fit,minmax(270px,1fr))]'>\n                {sampleTaskData.map((task)=>(\n                    <TaskCard setTaskItem={setTaskItem} \n                            setView={setView}\n                            item={task}/>\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Task
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/pages/Task.jsx b/frontend/src/pages/Task.jsx
--- a/frontend/src/pages/Task.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/pages/Task.jsx	(date 1765723263342)
@@ -1,64 +1,234 @@
-import React from 'react'
-import { useState } from 'react';
-import { sampleTaskData } from '../data/taskSampleData';
-import { projectSampleData } from '../data/projectSampleData';
+import React, { useState, useEffect } from 'react';
 import SelectOptions from '../components/SelectOptions';
 import TaskCard from '../components/task-app-components/TaskCard';
 import ModalExpandTask from '../components/task-app-components/ModalExpandTask';
 import ModalAddTask from '../components/task-app-components/ModalAddTask';
+import { getTasks } from '../utils/https';
+import { getProjects } from '../utils/https';
+
 function Task() {
-    
-    // para dali ra ma edit lols XDXDXD
+
     const taskStatus = [
-        { id: 0, name: 'All' },
-        { id: 1, name: 'To Do' },
-        { id: 2, name: 'In Progress' },
-        { id: 3, name: 'Done' },
-        { id: 4, name: 'Archived' }
+        { id: 'all', name: 'All Statuses' },
+        { id: 'To Do', name: 'To Do' },
+        { id: 'In Progress', name: 'In Progress' },
+        { id: 'Done', name: 'Done' },
+        { id: 'Archived', name: 'Archived' }
     ];
 
     const sortList = [
-        { id: 0, name: 'Recent' },
-        { id: 1, name: 'Name' },
-        { id: 2, name: 'Due Date' }
+        { id: 'all', name: 'Default' },
+        { id: 'Name', name: 'Name' },
+        { id: 'Due Date', name: 'Due Date' }
+    ]
+
+    const filterTypeList = [
+        { id: 'All', name: 'All Tasks' },
+        { id: 'Assigned', name: 'Assigned to Me' },
+        { id: 'Unassigned', name: 'Unassigned' }
     ]
 
-    const [view, setView] = useState(false) //for sa view task pero ari ibutang kay mao man ang parent
-    const [taskItem, setTaskItem] = useState(null) // para sa pagselect sa item ex(task[0] <-- mao ni i display)
-    const [openAddTask, setOpenAddTask] = useState(false) // para sa modal sa add task
+    const [view, setView] = useState(false)
+    const [taskItem, setTaskItem] = useState(null)
+    const [openAddTask, setOpenAddTask] = useState(false)
+    const [projects, setProjects] = useState([])
+    const [tasks, setTasks] = useState([])
+    const [loading, setLoading] = useState(true)
+    const [error, setError] = useState(null)
+
+    // Filters State
+    const [selectedProject, setSelectedProject] = useState('all');
+    const [statusFilter, setStatusFilter] = useState('all');
+    const [filterType, setFilterType] = useState('All');
+    const [sortFilter, setSortFilter] = useState('all');
 
+    // Fetch projects on component mount
+    useEffect(() => {
+        const fetchProjects = async () => {
+            try {
+                const response = await getProjects('Active');
+                if (response.success) {
+                    setProjects(response.data || []);
+                } else {
+                    setError('Failed to load projects');
+                }
+            } catch (err) {
+                setError('Network error loading projects');
+            }
+        };
+        fetchProjects();
+    }, []);
+
+    // Fetch tasks when filters change
+    useEffect(() => {
+        const fetchTasks = async () => {
+            if (selectedProject === 'all') {
+                setTasks([]);
+                setLoading(false);
+                return;
+            }
+
+            setLoading(true);
+            try {
+                const response = await getTasks(
+                    selectedProject,
+                    statusFilter === 'all' ? null : statusFilter,
+                    filterType
+                );
+
+                if (response.success) {
+                    setTasks(response.data || []);
+                } else {
+                    setError('Failed to load tasks');
+                    setTasks([]);
+                }
+            } catch (err) {
+                setError('Network error loading tasks');
+                setTasks([]);
+            } finally {
+                setLoading(false);
+            }
+        };
+
+        fetchTasks();
+    }, [selectedProject, statusFilter, filterType]);
+
+    const handleStatusFilter = (value) => {
+        setStatusFilter(value);
+    };
+
+    const handleProjectFilter = (value) => {
+        setSelectedProject(value);
+    };
+
+    const handleSortFilter = (value) => {
+        setSortFilter(value);
+    };
+
+    const handleFilterType = (value) => {
+        setFilterType(value);
+    };
+
+    // Sort logic
+    const displayedTasks = [...tasks].sort((a, b) => {
+        if (sortFilter === 'Name') {
+            return a.title.localeCompare(b.title);
+        }
+        if (sortFilter === 'Due Date') {
+            return new Date(a.due_date) - new Date(b.due_date);
+        }
+        return 0; // Default order
+    });
+
+    const projectOptions = [
+        { id: 'all', name: 'All Projects' },
+        ...projects.map(project => ({
+            id: project.id.toString(),
+            name: project.title
+        }))
+    ];
 
     return (
         <div className='flex flex-col h-screen mx-4'>
-            {view && <ModalExpandTask  item={taskItem} onClose={()=>setView(false)}/>}
-            {openAddTask && <ModalAddTask onClose={()=>setOpenAddTask(false)}/>}
+            {view && <ModalExpandTask
+                item={taskItem}
+                onClose={() => setView(false)}
+                refreshTasks={() => {
+                    // Refresh tasks when task is updated
+                    const fetchTasks = async () => {
+                        if (selectedProject === 'all') return;
+                        const response = await getTasks(
+                            selectedProject,
+                            statusFilter === 'all' ? null : statusFilter,
+                            filterType
+                        );
+                        if (response.success) {
+                            setTasks(response.data || []);
+                        }
+                    };
+                    fetchTasks();
+                }}
+            />}
+            {openAddTask && <ModalAddTask
+                onClose={() => setOpenAddTask(false)}
+                projects={projects}
+                refreshTasks={() => {
+                    // Refresh tasks when new task is added
+                    const fetchTasks = async () => {
+                        if (selectedProject === 'all') return;
+                        const response = await getTasks(
+                            selectedProject,
+                            statusFilter === 'all' ? null : statusFilter,
+                            filterType
+                        );
+                        if (response.success) {
+                            setTasks(response.data || []);
+                        }
+                    };
+                    fetchTasks();
+                }}
+            />}
 
             <div className='sticky top-0 z-100 bg-gray-100 py-3'>
                 <div className='flex flex-row justify-between items-center bg-none'>
                     <h1 className='m-0 p-0'>Tasks.</h1>
                     <button className='bg-red-500 mr-4 py-1.5 px-4 text-white font-medium rounded-full cursor-pointer'
-                            onClick={()=>setOpenAddTask(true)}
+                            onClick={() => setOpenAddTask(true)}
                         >
-                        <span className='mr-2'><i class="fa-solid fa-plus"></i></span>
+                        <span className='mr-2'><i className="fa-solid fa-plus"></i></span>
                         New Task
                     </button>
                 </div>
 
-                {/* filter */}
+                {/* Filter Section */}
                 <div className='flex flex-row gap-3 my-2'>
-                    <SelectOptions context={'Status'} items={taskStatus}/>
-                    <SelectOptions context={'Project'} items={projectSampleData}/>
-                    <SelectOptions context={'Sort by'} items={sortList}/>
+                    <SelectOptions
+                        context={'Project'}
+                        items={projectOptions}
+                        onValueChange={handleProjectFilter}
+                    />
+
+                    <SelectOptions
+                        context={'Status'}
+                        items={taskStatus}
+                        onValueChange={handleStatusFilter}
+                    />
+
+                    <SelectOptions
+                        context={'Filter'}
+                        items={filterTypeList}
+                        onValueChange={handleFilterType}
+                    />
+
+                    <SelectOptions
+                        context={'Sort by'}
+                        items={sortList}
+                        onValueChange={handleSortFilter}
+                    />
                 </div>
             </div>
-            
 
             <div className='mt-4 gap-3 grid grid-cols-[repeat(auto-fit,minmax(270px,1fr))]'>
-                {sampleTaskData.map((task)=>(
-                    <TaskCard setTaskItem={setTaskItem} 
+                {loading ? (
+                    <p className="text-gray-500 mt-10 text-center col-span-full">Loading tasks...</p>
+                ) : error ? (
+                    <p className="text-red-500 mt-10 text-center col-span-full">{error}</p>
+                ) : displayedTasks.length === 0 ? (
+                    <p className="text-gray-500 mt-10 text-center col-span-full">
+                        {selectedProject === 'all'
+                            ? 'Select a project to view tasks'
+                            : 'No tasks found'}
+                    </p>
+                ) : (
+                    displayedTasks.map((task) => (
+                        <TaskCard
+                            key={task.task_id}
+                            setTaskItem={setTaskItem}
                             setView={setView}
-                            item={task}/>
-                ))}
+                            item={task}
+                        />
+                    ))
+                )}
             </div>
         </div>
     )
Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_13_25__7_47AM__Changes_.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_12_13_25__7_47AM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_12_13_25__7_47AM__Changes_.xml
new file mode 100644
--- /dev/null	(date 1765583587852)
+++ b/.idea/shelf/Uncommitted_changes_before_Update_at_12_13_25__7_47AM__Changes_.xml	(date 1765583587852)
@@ -0,0 +1,4 @@
+<changelist name="Uncommitted_changes_before_Update_at_12_13_25,_7_47AM_[Changes]" date="1765583266720" recycled="false" toDelete="true">
+  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_12_13_25,_7_47AM_[Changes]/shelved.patch" />
+  <option name="DESCRIPTION" value="Uncommitted changes before Update at 12/13/25, 7:47AM [Changes]" />
+</changelist>
\ No newline at end of file
Index: frontend/src/pages/Timeline.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\n\nfunction Timeline() {\n    return (\n      <div>\n        <h1>Timeline</h1>    \n      </div>\n      \n    )\n}\n\nexport default Timeline
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/pages/Timeline.jsx b/frontend/src/pages/Timeline.jsx
--- a/frontend/src/pages/Timeline.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/pages/Timeline.jsx	(date 1765476568350)
@@ -1,11 +1,80 @@
-import React from 'react'
+import React, { useState } from 'react'
+import SelectOptions from '../components/SelectOptions';
+import { projectSampleData } from '../data/projectSampleData';
+import TimelineCard from '../components/timeline-app-components/TimelineCard';
 
 function Timeline() {
+    const [expandedCards, setExpandedCards] = useState({});
+    
+    // 1. STATE: Track which project is selected
+    const [selectedProjectId, setSelectedProjectId] = useState('all');
+
+    const time_range = [
+        { id: 1, name: 'Today' },
+        { id: 2, name: 'This Week' },
+        { id: 3, name: 'This Month' },
+        { id: 4, name: 'Older' },
+    ];
+
+    // 2. HANDLER: Update state when dropdown changes
+    const handleProjectFilter = (value) => {
+        setSelectedProjectId(value);
+    };
+
+    // 3. FILTER LOGIC: Create a new list based on the selection
+    const filteredProjects = selectedProjectId === 'all'
+        ? projectSampleData
+        : projectSampleData.filter(item => item.id === Number(selectedProjectId));
+
     return (
-      <div>
-        <h1>Timeline</h1>    
-      </div>
-      
+        <div className='flex flex-col pb-7 min-h-screen mx-4'>
+            <div className='sticky top-0 z-100 bg-gray-100 py-3'>
+                <div className='flex flex-row justify-between items-center bg-none'>
+                    <h1 className='m-0 p-0'>Timeline.</h1>
+                </div>  
+
+                {/* filter */}
+                <div className='flex flex-row gap-3 my-2'>
+                    {/* 4. Pass the handler down to the component */}
+                    <SelectOptions 
+                        context={'Projects'} 
+                        items={projectSampleData} 
+                        onValueChange={handleProjectFilter} 
+                    />
+                    
+                    <SelectOptions 
+                        context={'Time'} 
+                        items={time_range}
+                        // You can add a time handler here later
+                        onValueChange={(val) => console.log("Time selected:", val)} 
+                    />
+                </div>
+            </div>
+
+            <div className='flex flex-col gap-3'>
+
+                {/* 5. Render filteredProjects instead of the raw data */}
+                {filteredProjects.map((item) => (
+                    <TimelineCard
+                        key={item.id}
+                        item={item}
+                        isExpanded={!!expandedCards[item.id]} 
+                        setIsExpanded={() =>
+                            setExpandedCards((prev) => ({
+                                ...prev,
+                                [item.id]: !prev[item.id], 
+                            }))
+                        }
+                    />
+                ))}
+                
+                {/* 6. Friendly message if nothing matches */}
+                {filteredProjects.length === 0 && (
+                    <p className="text-gray-500 text-center mt-10">No projects found.</p>
+                )}
+                
+            </div>
+        </div>
     )
 }
 
Index: frontend/src/pages/Project.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react'\nimport { useState } from 'react';\nimport { projectSampleData } from '../data/projectSampleData';\nimport SelectOptions from '../components/SelectOptions';\nimport ProjectCard from '../components/projects-app-components/ProjectCard';\nimport ModalAddProject from '../components/projects-app-components/ModalAddProject';\nimport ModalExpandProject from '../components/projects-app-components/ModalExpandProject';\nfunction Project() {\n    // para dali ra ma edit lols XDXDXD\n    const projectStatuses = [\n        { id: 0, name: 'All' },\n        { id: 1, name: 'Active' },\n        { id: 2, name: 'Completed' },\n        { id: 3, name: 'Archived' },\n    ];\n\n    //sample datas\n    const teamList = [\n        {id: 0, name: 'All'},\n        {id: 1, name: 'ProjectDB'},\n        {id: 2, name: 'Pyongyang AI Liberation Front'}\n    ]\n\n    const sortList = [\n        { id: 0, name: 'Recent' },\n        { id: 1, name: 'Name' },\n        { id: 2, name: 'Progress' },\n        { id: 3, name: 'Due Date' }\n    ]\n\n    //for modal\n    const [openAddProject, setOpenAddProject] = useState(false);\n    const [viewProject, setViewProject] = useState(false); //for viewing\n    const [projectItem, setProjectItem] = useState(null);\n\n    return (\n        <div className='flex flex-col h-screen mx-4'>\n            {openAddProject && <ModalAddProject onClose={() => setOpenAddProject(false)}/>}\n            {viewProject && <ModalExpandProject item={projectItem} onClose={() => setViewProject(false)}/>}\n\n            <div className='sticky top-0 z-100 bg-gray-100 py-3'>\n                <div className='flex flex-row justify-between items-center bg-none'>\n                    <h1 className='m-0 p-0'>Projects.</h1>\n                    <button className='bg-red-500 mr-4 py-1.5 px-4 text-white font-medium rounded-full cursor-pointer'\n                            onClick={() => setOpenAddProject(true)}>\n                        <span className='mr-2'><i class=\"fa-solid fa-plus\"></i></span>\n                        New Project\n                    </button>\n                    \n                </div>\n\n                {/* filter */}\n                <div className='flex flex-row gap-3 my-2'>\n                    <SelectOptions context={'Status'} items={projectStatuses}/>\n                    <SelectOptions context={'Sort by'} items={sortList}/>\n                </div>\n            </div>\n            <div className='mt-4 grid gap-4 grid-cols-[repeat(auto-fit,minmax(360px,1fr))]'>\n                {projectSampleData.map((project, index)=>(\n                    <ProjectCard\n                        key={project.id || index}\n                        item={project}\n                        setViewProject={setViewProject}\n                        setProjectItem={setProjectItem}\n                        />\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Project
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/pages/Project.jsx b/frontend/src/pages/Project.jsx
--- a/frontend/src/pages/Project.jsx	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/pages/Project.jsx	(date 1765476568350)
@@ -1,36 +1,68 @@
-import React from 'react'
-import { useState } from 'react';
+import React, { useState } from 'react';
 import { projectSampleData } from '../data/projectSampleData';
 import SelectOptions from '../components/SelectOptions';
 import ProjectCard from '../components/projects-app-components/ProjectCard';
 import ModalAddProject from '../components/projects-app-components/ModalAddProject';
 import ModalExpandProject from '../components/projects-app-components/ModalExpandProject';
+
 function Project() {
-    // para dali ra ma edit lols XDXDXD
+    
     const projectStatuses = [
-        { id: 0, name: 'All' },
-        { id: 1, name: 'Active' },
-        { id: 2, name: 'Completed' },
-        { id: 3, name: 'Archived' },
+        { id: 'Active', name: 'Active' },
+        { id: 'Completed', name: 'Completed' },
+        { id: 'Archived', name: 'Archived' },
     ];
-
-    //sample datas
-    const teamList = [
-        {id: 0, name: 'All'},
-        {id: 1, name: 'ProjectDB'},
-        {id: 2, name: 'Pyongyang AI Liberation Front'}
-    ]
 
     const sortList = [
-        { id: 0, name: 'Recent' },
-        { id: 1, name: 'Name' },
-        { id: 2, name: 'Progress' },
-        { id: 3, name: 'Due Date' }
-    ]
+        { id: 'Name', name: 'Name' },
+        { id: 'Progress', name: 'Progress' },
+        { id: 'Due Date', name: 'Due Date' }
+    ];
+
+    const [selectedProjectStatus, setSelectedProjectStatus] = useState('all');
+    const [selectedSortOption, setSelectedSortOption] = useState('all');
+
+    const handleProjectStatusFilter = (value) => {
+        setSelectedProjectStatus(value);
+    };
+
+    const handleSortOptionChange = (value) => {
+        setSelectedSortOption(value);
+    };
+
+    // ==========================================
+    // 1. FILTER STEP
+    // ==========================================
+    const filteredList = projectSampleData.filter((item) => {
+        if (selectedProjectStatus === 'all') return true;
+        return item.status === selectedProjectStatus;
+    });
+
+    // ==========================================
+    // 2. SORT STEP
+    // ==========================================
+    // We use [...filteredList] to create a copy so we don't mutate the original data
+    const displayedProjects = [...filteredList].sort((a, b) => {
+        
+        if (selectedSortOption === 'Name') {
+            return a.name.localeCompare(b.name);
+        }
+        
+        if (selectedSortOption === 'Progress') {
+            return b.percentage - a.percentage;
+        }
+
+        if (selectedSortOption === 'Due Date') {
+            return new Date(a.endDate) - new Date(b.endDate);
+        }
+
+        // Default: Sort by ID (0, 1, 2...) so it always goes back to original state
+        return a.id - b.id; 
+    });
 
     //for modal
     const [openAddProject, setOpenAddProject] = useState(false);
-    const [viewProject, setViewProject] = useState(false); //for viewing
+    const [viewProject, setViewProject] = useState(false); 
     const [projectItem, setProjectItem] = useState(null);
 
     return (
@@ -43,7 +75,7 @@
                     <h1 className='m-0 p-0'>Projects.</h1>
                     <button className='bg-red-500 mr-4 py-1.5 px-4 text-white font-medium rounded-full cursor-pointer'
                             onClick={() => setOpenAddProject(true)}>
-                        <span className='mr-2'><i class="fa-solid fa-plus"></i></span>
+                        <span className='mr-2'><i className="fa-solid fa-plus"></i></span>
                         New Project
                     </button>
                     
@@ -51,22 +83,37 @@
 
                 {/* filter */}
                 <div className='flex flex-row gap-3 my-2'>
-                    <SelectOptions context={'Status'} items={projectStatuses}/>
-                    <SelectOptions context={'Sort by'} items={sortList}/>
+                    <SelectOptions 
+                        context={'Status'}
+                        items={projectStatuses}
+                        onValueChange={handleProjectStatusFilter}/>
+
+                    {/* FIXED: Added onValueChange here */}
+                    <SelectOptions 
+                        context={'Sort by'} 
+                        items={sortList}
+                        onValueChange={handleSortOptionChange} 
+                        />
                 </div>
             </div>
+            
+            {/* FIXED: Map over displayedProjects */}
             <div className='mt-4 grid gap-4 grid-cols-[repeat(auto-fit,minmax(360px,1fr))]'>
-                {projectSampleData.map((project, index)=>(
+                {displayedProjects.map((project, index)=>(
                     <ProjectCard
-                        key={project.id || index}
+                        key={project.id}
                         item={project}
                         setViewProject={setViewProject}
                         setProjectItem={setProjectItem}
                         />
                 ))}
+                
+                {displayedProjects.length === 0 && (
+                        <p className="text-gray-500 mt-10">No projects found.</p>
+                )}
             </div>
         </div>
     )
 }
 
-export default Project
\ No newline at end of file
+export default Project;
\ No newline at end of file
Index: frontend/src/utils/formatToDateInput.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// formatToDateInput.js\nexport function formatToDateInput(dateStr) {\n    if (!dateStr) return \"\"; // handle null, undefined, empty string\n    const date = new Date(dateStr);\n    if (isNaN(date.getTime())) return \"\"; // invalid date check\n    return date.toISOString().split(\"T\")[0];\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/utils/formatToDateInput.js b/frontend/src/utils/formatToDateInput.js
--- a/frontend/src/utils/formatToDateInput.js	(revision 8158116a78bd6219980ebd2d5f40f33caaaa4ab7)
+++ b/frontend/src/utils/formatToDateInput.js	(date 1765723263342)
@@ -4,4 +4,4 @@
     const date = new Date(dateStr);
     if (isNaN(date.getTime())) return ""; // invalid date check
     return date.toISOString().split("T")[0];
-}
+}
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_13_25,_7_47AM_[Changes]/shelved.patch
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_12_13_25,_7_47AM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_12_13_25,_7_47AM_[Changes]/shelved.patch
new file mode 100644
--- /dev/null	(date 1765583266717)
+++ b/.idea/shelf/Uncommitted_changes_before_Update_at_12_13_25,_7_47AM_[Changes]/shelved.patch	(date 1765583266717)
@@ -0,0 +1,113 @@
+Index: .idea/copilotDiffState.xml
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"CopilotDiffPersistence\">\n    <option name=\"pendingDiffs\">\n      <map>\n        <entry key=\"$PROJECT_DIR$/backend/dunzomanagement/project_app/views.py\">\n          <value>\n            <PendingDiffInfo>\n              <option name=\"filePath\" value=\"$PROJECT_DIR$/backend/dunzomanagement/project_app/views.py\" />\n              <option name=\"originalContent\" value=\"import json&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import *&#10;User = apps.get_model(app_label='user_app', model_name='User')&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    def get(self, request):&#10;        user_id = request.user.pk&#10;&#10;        filter_type = request.GET.get('filter', 'Active')&#10;&#10;        # Validate filter to prevent SQL issues (optional but good practice)&#10;        valid_filters = ['Active', 'Archived', 'Complete', 'All', 'Leader']&#10;        if filter_type not in valid_filters:&#10;            filter_type = 'Active'&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call the Stored Procedure&#10;                cursor.callproc(&quot;get_user_projects&quot;, [user_id, filter_type])&#10;&#10;                # Fetch the JSON result&#10;                projects_data = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({'success': True, 'projects': projects_data})&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Projects Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;&#10;        # Extract data from the request body&#10;        user_id = request.user.pk&#10;        title = data.get('title')&#10;        description = data.get('description', '')  # Default to empty string if missing&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;&#10;        # Basic Validation&#10;        if not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Title, Start Date, and End Date are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_user_id, p_title, p_description, p_start_date, p_end_date)&#10;                cursor.callproc(&#10;                    &quot;create_project&quot;,&#10;                    [user_id, title, description, start_date, end_date]&#10;                )&#10;&#10;                # Fetch the returned Project ID&#10;                new_project_id = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({&#10;                    'success': True,&#10;                    'message': 'Project created successfully',&#10;                    'project_id': new_project_id&#10;                }, status=201)&#10;&#10;        except Exception as e:&#10;            # Log error for debugging (optional)&#10;            print(f&quot;Create Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    def delete(self, request):&#10;        user_id = request.user.pk&#10;&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required'}, status=400)&#10;&#10;        try:&#10;            # 1. Security Check: Only the 'Leader' can delete&#10;            # We check if a membership exists that matches: User + Project + Role='Leader'&#10;            is_leader = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=user_id,&#10;                role='Leader'&#10;            ).exists()&#10;&#10;            if not is_leader:&#10;                return JsonResponse({&#10;                    'success': False,&#10;                    'error': 'Permission denied. Only the Leader can delete this project.'&#10;                }, status=403)&#10;&#10;            # 2. Perform Delete&#10;            Project.objects.get(pk=project_id).delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Project deleted successfully'})&#10;&#10;        except Project.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Project not found'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectDetailView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # get project details&#10;    def get(self, request):&#10;        project_id = request.GET.get('project_id')&#10;        user_id = request.user.pk&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_user_id)&#10;                cursor.callproc(&#10;                    &quot;get_project_details&quot;,&#10;                    [project_id, user_id]&#10;                )&#10;&#10;                # Fetch the single JSON blob result&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check status code based on result success&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Determine error code (403 for Unauthorized, 404 for Not Found)&#10;                    error_msg = result.get('error', '')&#10;                    status_code = 403 if 'Unauthorized' in error_msg else 404&#10;                    return JsonResponse(result, status=status_code)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Project Details Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # update project details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        title = data.get('title')&#10;        description = data.get('description', '')&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;        status = data.get('status')&#10;&#10;        # Basic Validation&#10;        if not project_id or not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Project ID, Title, and Dates are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_user_id, p_title, p_description, p_start_date, p_end_date,status)&#10;                cursor.callproc(&#10;                    &quot;update_project&quot;,&#10;                    [project_id, user_id, title, description, start_date, end_date, status]&#10;                )&#10;&#10;                # The procedure returns True (Success) or False (Not Leader/Failed)&#10;                success = cursor.fetchone()[0]&#10;&#10;                if success:&#10;                    return JsonResponse({'success': True, 'message': 'Project updated successfully'})&#10;                else:&#10;                    return JsonResponse({&#10;                        'success': False,&#10;                        'error': 'Permission denied. Only the Leader can edit this project.'&#10;                    }, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectMembershipView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # add a user to project&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        identifier = data.get('identifier')&#10;        role = data.get('role', 'Member')  # Default to 'Member' if not provided&#10;&#10;        # Basic Validation&#10;        if not project_id or not identifier:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Username/Email are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_identifier, p_role)&#10;                cursor.callproc(&#10;                    &quot;add_project_member&quot;,&#10;                    [project_id, requester_id, identifier, role]&#10;                )&#10;&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result, status=201)&#10;                else:&#10;                    # Return 400 or 403 depending on the error, but 400 is generally fine here&#10;                    return JsonResponse(result, status=400)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Add Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # remove a user fron project&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')&#10;&#10;        # Basic Validation&#10;        if not project_id or not target_user_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Target User ID are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id)&#10;                cursor.callproc(&#10;                    &quot;remove_project_member&quot;,&#10;                    [project_id, requester_id, target_user_id]&#10;                )&#10;&#10;                # Fetch result&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Remove Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # change user role in project&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk  # The logged-in user (must be Leader)&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')  # The user receiving the role change&#10;        new_role = data.get('role')&#10;&#10;        # Basic Validation&#10;        if not all([project_id, target_user_id, new_role]):&#10;            return JsonResponse({'success': False, 'error': 'Project ID, Target User ID, and Role are required.'},&#10;                                status=400)&#10;&#10;        valid_roles = ['Leader', 'Manager', 'Member']&#10;        if new_role not in valid_roles:&#10;            return JsonResponse({'success': False, 'error': 'Invalid role choice.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id, p_new_role)&#10;                cursor.callproc(&#10;                    &quot;update_project_member_role&quot;,&#10;                    [project_id, requester_id, target_user_id, new_role]&#10;                )&#10;&#10;                # The SP returns a JSON object directly&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check the 'success' key from the returned JSON&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Role Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class TagView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # create tag&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color', '#000000')&#10;&#10;        if not project_id or not name:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Name are required.'}, status=400)&#10;&#10;        try:&#10;            # PERMISSION CHECK: Must be Leader or Manager&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']  # &lt;--- Strict Check&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can create tags.'},&#10;                                    status=403)&#10;&#10;            # Create&#10;            tag = Tag.objects.create(&#10;                project_id=project_id,&#10;                name=name,&#10;                hex_color=hex_color&#10;            )&#10;&#10;            return JsonResponse({&#10;                'success': True,&#10;                'tag': {'tag_id': tag.tag_id, 'name': tag.name, 'hex_color': tag.hex_color}&#10;            }, status=201)&#10;&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # edit tag&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can edit tags.'}, status=403)&#10;&#10;            if name:&#10;                tag.name = name&#10;            if hex_color:&#10;                tag.hex_color = hex_color&#10;&#10;            tag.save()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag updated successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # delete tag&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can delete tags.'}, status=403)&#10;&#10;            tag.delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag deleted successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;\" />\n              <option name=\"updatedContent\" value=\"import json&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import *&#10;User = apps.get_model(app_label='user_app', model_name='User')&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    def get(self, request):&#10;        user_id = request.user.pk&#10;&#10;        filter_type = request.GET.get('filter', 'Active')&#10;&#10;        # Validate filter to prevent SQL issues (optional but good practice)&#10;        valid_filters = ['Active', 'Archived', 'Complete', 'All', 'Leader']&#10;        if filter_type not in valid_filters:&#10;            filter_type = 'Active'&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call the Stored Procedure&#10;                cursor.callproc(&quot;get_user_projects&quot;, [user_id, filter_type])&#10;&#10;                # Fetch the JSON result&#10;                projects_data = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({'success': True, 'projects': projects_data})&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Projects Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;&#10;        # Extract data from the request body&#10;        user_id = request.user.pk&#10;        title = data.get('title')&#10;        description = data.get('description', '')  # Default to empty string if missing&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;&#10;        # Basic Validation&#10;        if not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Title, Start Date, and End Date are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_user_id, p_title, p_description, p_start_date, p_end_date)&#10;                cursor.callproc(&#10;                    &quot;create_project&quot;,&#10;                    [user_id, title, description, start_date, end_date]&#10;                )&#10;&#10;                # Fetch the returned Project ID&#10;                new_project_id = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({&#10;                    'success': True,&#10;                    'message': 'Project created successfully',&#10;                    'project_id': new_project_id&#10;                }, status=201)&#10;&#10;        except Exception as e:&#10;            # Log error for debugging (optional)&#10;            print(f&quot;Create Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    def delete(self, request):&#10;        user_id = request.user.pk&#10;&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required'}, status=400)&#10;&#10;        try:&#10;            # 1. Security Check: Only the 'Leader' can delete&#10;            # We check if a membership exists that matches: User + Project + Role='Leader'&#10;            is_leader = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=user_id,&#10;                role='Leader'&#10;            ).exists()&#10;&#10;            if not is_leader:&#10;                return JsonResponse({&#10;                    'success': False,&#10;                    'error': 'Permission denied. Only the Leader can delete this project.'&#10;                }, status=403)&#10;&#10;            # 2. Perform Delete&#10;            Project.objects.get(pk=project_id).delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Project deleted successfully'})&#10;&#10;        except Project.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Project not found'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectDetailView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # get project details&#10;    def get(self, request):&#10;        project_id = request.GET.get('project_id')&#10;        user_id = request.user.pk&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_user_id)&#10;                cursor.callproc(&#10;                    &quot;get_project_details&quot;,&#10;                    [project_id, user_id]&#10;                )&#10;&#10;                # Fetch the single JSON blob result&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check status code based on result success&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Determine error code (403 for Unauthorized, 404 for Not Found)&#10;                    error_msg = result.get('error', '')&#10;                    status_code = 403 if 'Unauthorized' in error_msg else 404&#10;                    return JsonResponse(result, status=status_code)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Project Details Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # update project details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        title = data.get('title')&#10;        description = data.get('description', '')&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;        status = data.get('status')&#10;&#10;        # Basic Validation&#10;        if not project_id or not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Project ID, Title, and Dates are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_user_id, p_title, p_description, p_start_date, p_end_date,status)&#10;                cursor.callproc(&#10;                    &quot;update_project&quot;,&#10;                    [project_id, user_id, title, description, start_date, end_date, status]&#10;                )&#10;&#10;                # The procedure returns True (Success) or False (Not Leader/Failed)&#10;                success = cursor.fetchone()[0]&#10;&#10;                if success:&#10;                    return JsonResponse({'success': True, 'message': 'Project updated successfully'})&#10;                else:&#10;                    return JsonResponse({&#10;                        'success': False,&#10;                        'error': 'Permission denied. Only the Leader can edit this project.'&#10;                    }, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectMembershipView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # add a user to project&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        identifier = data.get('identifier')&#10;        role = data.get('role', 'Member')  # Default to 'Member' if not provided&#10;&#10;        # Basic Validation&#10;        if not project_id or not identifier:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Username/Email are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_identifier, p_role)&#10;                cursor.callproc(&#10;                    &quot;add_project_member&quot;,&#10;                    [project_id, requester_id, identifier, role]&#10;                )&#10;&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result, status=201)&#10;                else:&#10;                    # Return 400 or 403 depending on the error, but 400 is generally fine here&#10;                    return JsonResponse(result, status=400)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Add Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # remove a user fron project&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')&#10;&#10;        # Basic Validation&#10;        if not project_id or not target_user_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Target User ID are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id)&#10;                cursor.callproc(&#10;                    &quot;remove_project_member&quot;,&#10;                    [project_id, requester_id, target_user_id]&#10;                )&#10;&#10;                # Fetch result&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Remove Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # change user role in project&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk  # The logged-in user (must be Leader)&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')  # The user receiving the role change&#10;        new_role = data.get('role')&#10;&#10;        # Basic Validation&#10;        if not all([project_id, target_user_id, new_role]):&#10;            return JsonResponse({'success': False, 'error': 'Project ID, Target User ID, and Role are required.'},&#10;                                status=400)&#10;&#10;        valid_roles = ['Leader', 'Manager', 'Member']&#10;        if new_role not in valid_roles:&#10;            return JsonResponse({'success': False, 'error': 'Invalid role choice.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id, p_new_role)&#10;                cursor.callproc(&#10;                    &quot;update_project_member_role&quot;,&#10;                    [project_id, requester_id, target_user_id, new_role]&#10;                )&#10;&#10;                # The SP returns a JSON object directly&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check the 'success' key from the returned JSON&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Role Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class TagView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # create tag&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color', '#000000')&#10;&#10;        if not project_id or not name:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Name are required.'}, status=400)&#10;&#10;        try:&#10;            # PERMISSION CHECK: Must be Leader or Manager&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']  # &lt;--- Strict Check&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can create tags.'},&#10;                                    status=403)&#10;&#10;            # Create&#10;            tag = Tag.objects.create(&#10;                project_id=project_id,&#10;                name=name,&#10;                hex_color=hex_color&#10;            )&#10;&#10;            return JsonResponse({&#10;                'success': True,&#10;                'tag': {'tag_id': tag.tag_id, 'name': tag.name, 'hex_color': tag.hex_color}&#10;            }, status=201)&#10;&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # edit tag&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can edit tags.'}, status=403)&#10;&#10;            if name:&#10;                tag.name = name&#10;            if hex_color:&#10;                tag.hex_color = hex_color&#10;&#10;            tag.save()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag updated successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # delete tag&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can delete tags.'}, status=403)&#10;&#10;            tag.delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag deleted successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)\" />\n            </PendingDiffInfo>\n          </value>\n        </entry>\n        <entry key=\"$PROJECT_DIR$/backend/dunzomanagement/user_app/views.py\">\n          <value>\n            <PendingDiffInfo>\n              <option name=\"filePath\" value=\"$PROJECT_DIR$/backend/dunzomanagement/user_app/views.py\" />\n              <option name=\"originalContent\" value=\"import json&#10;from django.contrib.auth import logout&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.shortcuts import get_object_or_404&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import Notification&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;Project = apps.get_model(app_label='project_app', model_name='Project')&#10;CalendarEvent = apps.get_model(app_label='calendarevent_app', model_name='CalendarEvent')&#10;&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@login_required&#10;def get_dashboard(request):&#10;    user_id = request.user.pk&#10;&#10;    try:&#10;        with connection.cursor() as cursor:&#10;            cursor.callproc(&quot;get_user_dashboard_data&quot;, [user_id])&#10;&#10;            # Fetch the result (returns a tuple, we want the first element)&#10;            row = cursor.fetchone()&#10;&#10;            if row and row[0]:&#10;                result = row[0]&#10;                return JsonResponse(result, safe=False)&#10;            else:&#10;                # Handle case where procedure returns NULL (shouldn't happen with this SQL)&#10;                return JsonResponse({'error': 'No data returned'}, status=500)&#10;&#10;    except Exception as e:&#10;        # Log the specific error for debugging&#10;        print(f&quot;Dashboard Stored Procedure Error: {e}&quot;)&#10;        return JsonResponse({'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class UserView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    # settings&#10;    def get(self, request):&#10;        user = request.user&#10;        user_data = {&#10;            &quot;user_id&quot;: user.pk,&#10;            &quot;username&quot;: user.username,&#10;            &quot;email&quot;: user.email,&#10;            &quot;first_name&quot;: user.first_name,&#10;            &quot;last_name&quot;: user.last_name,&#10;        }&#10;        return JsonResponse(user_data)&#10;    # edit user details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user = request.user&#10;&#10;        # Update fields if they are provided in the request&#10;        user.username = data.get('username', user.username)&#10;        user.email = data.get('email', user.email)&#10;        user.first_name = data.get('first_name', user.first_name)&#10;        user.last_name = data.get('last_name', user.last_name)&#10;&#10;        # If password is provided, update it (make sure to hash it)&#10;        new_password = data.get('password')&#10;        if new_password:&#10;            user.set_password(new_password)&#10;&#10;        try:&#10;            user.save()&#10;            return JsonResponse({'success': True, 'message': 'User updated successfully'})&#10;        except Exception as e:&#10;            # Catch errors like &quot;Username already taken&quot;&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=400)&#10;    # delete user&#10;    def delete(self, request):&#10;        user = request.user&#10;        user.delete()&#10;        logout(request)&#10;        return JsonResponse({'success': True, 'message': 'User deleted successfully'})&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class NotificationView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    def get(self, request):&#10;        user = request.user.pk&#10;        notifs = Notification.objects.filter(user=user).order_by('-created_at')&#10;        notif_list = [&#10;            {&#10;                &quot;notification_id&quot;: n.pk,&#10;                &quot;title&quot;: n.title,&#10;                &quot;message&quot;: n.message,&#10;                &quot;is_read&quot;: n.is_read,&#10;                &quot;created_at&quot;: n.created_at,&#10;            }&#10;            for n in notifs&#10;        ]&#10;        return JsonResponse(notif_list, safe=False)&#10;&#10;    def delete(self, request, notification_id):&#10;        notif = get_object_or_404(Notification, pk=notification_id, user=request.user.pk)&#10;        notif.delete()&#10;        return JsonResponse({'success': True, 'message': 'Notification deleted successfully'})\" />\n              <option name=\"updatedContent\" value=\"import json&#10;from django.contrib.auth import logout&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.shortcuts import get_object_or_404&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import Notification&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;Project = apps.get_model(app_label='project_app', model_name='Project')&#10;CalendarEvent = apps.get_model(app_label='calendarevent_app', model_name='CalendarEvent')&#10;&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@login_required&#10;def get_dashboard(request):&#10;    user_id = request.user.pk&#10;&#10;    try:&#10;        with connection.cursor() as cursor:&#10;            cursor.callproc(&quot;get_user_dashboard_data&quot;, [user_id])&#10;&#10;            # Fetch the result (returns a tuple, we want the first element)&#10;            row = cursor.fetchone()&#10;&#10;            if row and row[0]:&#10;                result = row[0]&#10;                return JsonResponse(result, safe=False)&#10;            else:&#10;                # Handle case where procedure returns NULL (shouldn't happen with this SQL)&#10;                return JsonResponse({'error': 'No data returned'}, status=500)&#10;&#10;    except Exception as e:&#10;        # Log the specific error for debugging&#10;        print(f&quot;Dashboard Stored Procedure Error: {e}&quot;)&#10;        return JsonResponse({'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class UserView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    # settings&#10;    def get(self, request):&#10;        user = request.user&#10;        user_data = {&#10;            &quot;user_id&quot;: user.pk,&#10;            &quot;username&quot;: user.username,&#10;            &quot;email&quot;: user.email,&#10;            &quot;first_name&quot;: user.first_name,&#10;            &quot;last_name&quot;: user.last_name,&#10;        }&#10;        return JsonResponse(user_data)&#10;    # edit user details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user = request.user&#10;&#10;        # Update fields if they are provided in the request&#10;        user.username = data.get('username', user.username)&#10;        user.email = data.get('email', user.email)&#10;        user.first_name = data.get('first_name', user.first_name)&#10;        user.last_name = data.get('last_name', user.last_name)&#10;&#10;        # If password is provided, update it (make sure to hash it)&#10;        new_password = data.get('password')&#10;        if new_password:&#10;            user.set_password(new_password)&#10;&#10;        try:&#10;            user.save()&#10;            return JsonResponse({'success': True, 'message': 'User updated successfully'})&#10;        except Exception as e:&#10;            # Catch errors like &quot;Username already taken&quot;&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=400)&#10;    # delete user&#10;    def delete(self, request):&#10;        user = request.user&#10;        user.delete()&#10;        logout(request)&#10;        return JsonResponse({'success': True, 'message': 'User deleted successfully'})&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class NotificationView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;&#10;    def get(self, request):&#10;        user = request.user.pk&#10;        notifs = Notification.objects.filter(user=user).order_by('-created_at')&#10;        notif_list = [&#10;            {&#10;                &quot;notification_id&quot;: n.pk,&#10;                &quot;title&quot;: n.title,&#10;                &quot;message&quot;: n.message,&#10;                &quot;is_read&quot;: n.is_read,&#10;                &quot;created_at&quot;: n.created_at,&#10;            }&#10;            for n in notifs&#10;        ]&#10;        return JsonResponse(notif_list, safe=False)&#10;&#10;    def delete(self, request, notification_id):&#10;        notif = get_object_or_404(Notification, pk=notification_id, user=request.user.pk)&#10;        notif.delete()&#10;        return JsonResponse({'success': True, 'message': 'Notification deleted successfully'})\" />\n            </PendingDiffInfo>\n          </value>\n        </entry>\n        <entry key=\"$PROJECT_DIR$/frontend/src/pages/Login.jsx\">\n          <value>\n            <PendingDiffInfo>\n              <option name=\"filePath\" value=\"$PROJECT_DIR$/frontend/src/pages/Login.jsx\" />\n              <option name=\"originalContent\" value=\"import React, {useState} from 'react'&#10;import login_illustration from '../assets/login_illustration.jpg';&#10;import { useNavigate } from 'react-router-dom'&#10;import { loginUser } from '../https';&#10;&#10;function Login() {&#10;    const [identifier, setIdentifier] = useState('');&#10;    const [password, setPassword] = useState('');&#10;    const [errorMsg, setErrorMsg] = useState('');&#10;&#10;    const navigate = useNavigate();&#10;&#10;    const handleSubmit = async (e) =&gt; {&#10;        e.preventDefault();&#10;&#10;        // Call the backend&#10;        const data = await loginUser(identifier, password);&#10;&#10;        if (data.success) {&#10;            console.log(&quot;Login Success!&quot;, data);&#10;            // Minimal compatibility fix: ProtectedRoute checks localStorage for 'authToken'.&#10;            // Store a simple token/flag so the existing guard will allow access.&#10;            try {&#10;                localStorage.setItem('authToken', data.username || 'true');&#10;            } catch (e) {&#10;                console.warn('Failed to write authToken to localStorage', e);&#10;            }&#10;            navigate('/user/dashboard');&#10;        } else {&#10;            setErrorMsg(data.error || &quot;Login failed. Please check your credentials.&quot;);&#10;        }&#10;    };&#10;    return (&#10;        &lt;div className='flex fixed items-center justify-center overflow-y-scroll inset-0 z-1000 bg-zinc-200'&gt;&#10;            &lt;div className='flex felx-row'&gt;&#10;                &lt;div className='bg-white shadow flex flex-col min-w-100 pt-3 pb-7 px-5 rounded-tl-2xl rounded-bl-2xl'&gt;&#10;&#10;                    &lt;div className='flex flex-row justify-between items-center mt-2'&gt;&#10;                        &lt;span className='font-black text-red-500 text-2xl tracking-tighter'&gt;dunzo.&lt;/span&gt;&#10;                        &lt;button className='px-3 py-2 cursor-pointer -mr-1'&#10;                            onClick={() =&gt; navigate('/')}&gt;&#10;                            &lt;i className=&quot;fa-regular fa-circle-xmark&quot;&gt;&lt;/i&gt;&#10;                        &lt;/button&gt;&#10;&#10;                    &lt;/div&gt;&#10;                    &#10;                    &lt;div className='flex flex-row gap-3 items-center'&gt;&#10;                        &lt;span className='font-bold text-gray-900 text-2xl'&gt;Welcome Back&lt;/span&gt;&#10;                        &lt;i className=&quot;fa-regular fa-hand text-red-500 text-2xl&quot;&gt;&lt;/i&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;span className='text-gray-600 font-medium text-md'&gt;Log in to manage your tasks.&lt;/span&gt;&#10;&#10;                    {/* --- ERROR MESSAGE DISPLAY --- */}&#10;                    {errorMsg &amp;&amp; (&#10;                        &lt;div className=&quot;mt-2 p-2 bg-red-100 border border-red-400 text-red-700 text-sm rounded&quot;&gt;&#10;                            {errorMsg}&#10;                        &lt;/div&gt;&#10;                    )}&#10;&#10;                    {/* --- FORM START ---&#10;                        Wrapping inputs in a form allows &quot;Enter&quot; key to submit&#10;                    */}&#10;                    &lt;form onSubmit={handleSubmit} className='mt-5'&gt;&#10;&#10;                        &lt;div className='flex flex-col font-medium text-gray-900 gap-1'&gt;&#10;                            &lt;p&gt;Username/Email&lt;/p&gt;&#10;                            &lt;input&#10;                                type='text'&#10;                                placeholder='Enter your username/email'&#10;                                className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'&#10;                                // 1. BIND VALUE AND ONCHANGE&#10;                                value={identifier}&#10;                                onChange={(e) =&gt; setIdentifier(e.target.value)}&#10;                            /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className='flex flex-col mt-4 pb-3 font-medium text-gray-900 gap-1'&gt;&#10;                            &lt;p&gt;Password&lt;/p&gt;&#10;                            &lt;div className=&quot;relative&quot;&gt; {/* Added relative for positioning if needed */}&#10;                                &lt;input&#10;                                    type='password'&#10;                                    placeholder='Password'&#10;                                    className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'&#10;                                    // 2. BIND VALUE AND ONCHANGE&#10;                                    value={password}&#10;                                    onChange={(e) =&gt; setPassword(e.target.value)}&#10;                                /&gt;&#10;                                {/* Ensure eye button doesn't submit form */}&#10;                                &lt;button type=&quot;button&quot; className='absolute right-2 top-2 cursor-pointer text-gray-500'&gt;&#10;                                    &lt;i className=&quot;fa-regular fa-eye&quot;&gt;&lt;/i&gt;&#10;                                &lt;/button&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className='flex flex-row justify-between'&gt;&#10;                            &lt;div className='flex flex-row items-center gap-2'&gt;&#10;                                &lt;input type='checkbox' className='w-3 h-3 ml-0.5'/&gt;&#10;                                &lt;p&gt;Remember me&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;button type=&quot;button&quot; className='text-red-500 font-medium text-sm hover:underline cursor-pointer mr-1'&gt;&#10;                                Forgot Password&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* 3. SUBMIT BUTTON */}&#10;                        &lt;button&#10;                            type=&quot;submit&quot;&#10;                            className='w-full bg-red-500 text-md py-2 my-4 rounded-xl font-semibold text-white cursor-pointer transition duration-300 hover:-translate-y-1'&#10;                        &gt;&#10;                            Login&#10;                        &lt;/button&gt;&#10;&#10;                    &lt;/form&gt;&#10;                    {/* --- FORM END --- */}&#10;&#10;                    &lt;div className='flex flex-row gap-1 justify-center'&gt;&#10;                        &lt;p className='text-sm font-medium text-gray-700'&gt;Don't have an account?&lt;/p&gt;&#10;                        &lt;button className='text-red-500 font-semibold text-sm'&#10;                            onClick={() =&gt; navigate('/register')}&gt;&#10;                            Register&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                    &#10;                &lt;/div&gt;&#10;&#10;                &lt;div&gt;&#10;                    &lt;img src={login_illustration} className='h-160 rounded-tr-2xl rounded-br-2xl'/&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    )&#10;}&#10;&#10;export default Login;\" />\n              <option name=\"updatedContent\" value=\"import React, {useState} from 'react'&#10;import login_illustration from '../assets/login_illustration.jpg';&#10;import { useNavigate } from 'react-router-dom'&#10;import { loginUser } from '../https';&#10;&#10;function Login() {&#10;    const [identifier, setIdentifier] = useState('');&#10;    const [password, setPassword] = useState('');&#10;    const [errorMsg, setErrorMsg] = useState('');&#10;&#10;    const navigate = useNavigate();&#10;&#10;    const handleSubmit = async (e) =&gt; {&#10;        e.preventDefault();&#10;&#10;        // Call the backend&#10;        const data = await loginUser(identifier, password);&#10;&#10;        if (data.success) {&#10;            console.log(&quot;Login Success!&quot;, data);&#10;            // Minimal compatibility fix: ProtectedRoute checks localStorage for 'authToken'.&#10;            // Store a simple token/flag so the existing guard will allow access.&#10;            try {&#10;                localStorage.setItem('authToken', data.username || 'true');&#10;            } catch (e) {&#10;                console.warn('Failed to write authToken to localStorage', e);&#10;            }&#10;            navigate('/user/dashboard');&#10;        } else {&#10;            setErrorMsg(data.error || &quot;Login failed. Please check your credentials.&quot;);&#10;        }&#10;    };&#10;    return (&#10;        &lt;div className='flex fixed items-center justify-center overflow-y-scroll inset-0 z-1000 bg-zinc-200'&gt;&#10;            &lt;div className='flex felx-row'&gt;&#10;                &lt;div className='bg-white shadow flex flex-col min-w-100 pt-3 pb-7 px-5 rounded-tl-2xl rounded-bl-2xl'&gt;&#10;&#10;                    &lt;div className='flex flex-row justify-between items-center mt-2'&gt;&#10;                        &lt;span className='font-black text-red-500 text-2xl tracking-tighter'&gt;dunzo.&lt;/span&gt;&#10;                        &lt;button className='px-3 py-2 cursor-pointer -mr-1'&#10;                            onClick={() =&gt; navigate('/')}&gt;&#10;                            &lt;i className=&quot;fa-regular fa-circle-xmark&quot;&gt;&lt;/i&gt;&#10;                        &lt;/button&gt;&#10;&#10;                    &lt;/div&gt;&#10;                    &#10;                    &lt;div className='flex flex-row gap-3 items-center'&gt;&#10;                        &lt;span className='font-bold text-gray-900 text-2xl'&gt;Welcome Back&lt;/span&gt;&#10;                        &lt;i className=&quot;fa-regular fa-hand text-red-500 text-2xl&quot;&gt;&lt;/i&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;span className='text-gray-600 font-medium text-md'&gt;Log in to manage your tasks.&lt;/span&gt;&#10;&#10;                    {/* --- ERROR MESSAGE DISPLAY --- */}&#10;                    {errorMsg &amp;&amp; (&#10;                        &lt;div className=&quot;mt-2 p-2 bg-red-100 border border-red-400 text-red-700 text-sm rounded&quot;&gt;&#10;                            {errorMsg}&#10;                        &lt;/div&gt;&#10;                    )}&#10;&#10;                    {/* --- FORM START ---&#10;                        Wrapping inputs in a form allows &quot;Enter&quot; key to submit&#10;                    */}&#10;                    &lt;form onSubmit={handleSubmit} className='mt-5'&gt;&#10;&#10;                        &lt;div className='flex flex-col font-medium text-gray-900 gap-1'&gt;&#10;                            &lt;p&gt;Username/Email&lt;/p&gt;&#10;                            &lt;input&#10;                                type='text'&#10;                                placeholder='Enter your username/email'&#10;                                className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'&#10;                                // 1. BIND VALUE AND ONCHANGE&#10;                                value={identifier}&#10;                                onChange={(e) =&gt; setIdentifier(e.target.value)}&#10;                            /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className='flex flex-col mt-4 pb-3 font-medium text-gray-900 gap-1'&gt;&#10;                            &lt;p&gt;Password&lt;/p&gt;&#10;                            &lt;div className=&quot;relative&quot;&gt; {/* Added relative for positioning if needed */}&#10;                                &lt;input&#10;                                    type='password'&#10;                                    placeholder='Password'&#10;                                    className='w-100 py-2 pl-2 border border-gray-400 rounded-sm'&#10;                                    // 2. BIND VALUE AND ONCHANGE&#10;                                    value={password}&#10;                                    onChange={(e) =&gt; setPassword(e.target.value)}&#10;                                /&gt;&#10;                                {/* Ensure eye button doesn't submit form */}&#10;                                &lt;button type=&quot;button&quot; className='absolute right-2 top-2 cursor-pointer text-gray-500'&gt;&#10;                                    &lt;i className=&quot;fa-regular fa-eye&quot;&gt;&lt;/i&gt;&#10;                                &lt;/button&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className='flex flex-row justify-between'&gt;&#10;                            &lt;div className='flex flex-row items-center gap-2'&gt;&#10;                                &lt;input type='checkbox' className='w-3 h-3 ml-0.5'/&gt;&#10;                                &lt;p&gt;Remember me&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;button type=&quot;button&quot; className='text-red-500 font-medium text-sm hover:underline cursor-pointer mr-1'&gt;&#10;                                Forgot Password&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        {/* 3. SUBMIT BUTTON */}&#10;                        &lt;button&#10;                            type=&quot;submit&quot;&#10;                            className='w-full bg-red-500 text-md py-2 my-4 rounded-xl font-semibold text-white cursor-pointer transition duration-300 hover:-translate-y-1'&#10;                        &gt;&#10;                            Login&#10;                        &lt;/button&gt;&#10;&#10;                    &lt;/form&gt;&#10;                    {/* --- FORM END --- */}&#10;&#10;                    &lt;div className='flex flex-row gap-1 justify-center'&gt;&#10;                        &lt;p className='text-sm font-medium text-gray-700'&gt;Don't have an account?&lt;/p&gt;&#10;                        &lt;button className='text-red-500 font-semibold text-sm'&#10;                            onClick={() =&gt; navigate('/register')}&gt;&#10;                            Register&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                    &#10;                &lt;/div&gt;&#10;&#10;                &lt;div&gt;&#10;                    &lt;img src={login_illustration} className='h-160 rounded-tr-2xl rounded-br-2xl'/&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    )&#10;}&#10;&#10;export default Login;\" />\n            </PendingDiffInfo>\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n</project>
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+diff --git a/.idea/copilotDiffState.xml b/.idea/copilotDiffState.xml
+--- a/.idea/copilotDiffState.xml	(revision dd8e2928e71e547c78ae5280096473082fc4da3b)
++++ b/.idea/copilotDiffState.xml	(date 1765582174755)
+@@ -3,15 +3,6 @@
+   <component name="CopilotDiffPersistence">
+     <option name="pendingDiffs">
+       <map>
+-        <entry key="$PROJECT_DIR$/backend/dunzomanagement/project_app/views.py">
+-          <value>
+-            <PendingDiffInfo>
+-              <option name="filePath" value="$PROJECT_DIR$/backend/dunzomanagement/project_app/views.py" />
+-              <option name="originalContent" value="import json&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import *&#10;User = apps.get_model(app_label='user_app', model_name='User')&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    def get(self, request):&#10;        user_id = request.user.pk&#10;&#10;        filter_type = request.GET.get('filter', 'Active')&#10;&#10;        # Validate filter to prevent SQL issues (optional but good practice)&#10;        valid_filters = ['Active', 'Archived', 'Complete', 'All', 'Leader']&#10;        if filter_type not in valid_filters:&#10;            filter_type = 'Active'&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call the Stored Procedure&#10;                cursor.callproc(&quot;get_user_projects&quot;, [user_id, filter_type])&#10;&#10;                # Fetch the JSON result&#10;                projects_data = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({'success': True, 'projects': projects_data})&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Projects Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;&#10;        # Extract data from the request body&#10;        user_id = request.user.pk&#10;        title = data.get('title')&#10;        description = data.get('description', '')  # Default to empty string if missing&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;&#10;        # Basic Validation&#10;        if not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Title, Start Date, and End Date are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_user_id, p_title, p_description, p_start_date, p_end_date)&#10;                cursor.callproc(&#10;                    &quot;create_project&quot;,&#10;                    [user_id, title, description, start_date, end_date]&#10;                )&#10;&#10;                # Fetch the returned Project ID&#10;                new_project_id = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({&#10;                    'success': True,&#10;                    'message': 'Project created successfully',&#10;                    'project_id': new_project_id&#10;                }, status=201)&#10;&#10;        except Exception as e:&#10;            # Log error for debugging (optional)&#10;            print(f&quot;Create Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    def delete(self, request):&#10;        user_id = request.user.pk&#10;&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required'}, status=400)&#10;&#10;        try:&#10;            # 1. Security Check: Only the 'Leader' can delete&#10;            # We check if a membership exists that matches: User + Project + Role='Leader'&#10;            is_leader = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=user_id,&#10;                role='Leader'&#10;            ).exists()&#10;&#10;            if not is_leader:&#10;                return JsonResponse({&#10;                    'success': False,&#10;                    'error': 'Permission denied. Only the Leader can delete this project.'&#10;                }, status=403)&#10;&#10;            # 2. Perform Delete&#10;            Project.objects.get(pk=project_id).delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Project deleted successfully'})&#10;&#10;        except Project.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Project not found'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectDetailView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # get project details&#10;    def get(self, request):&#10;        project_id = request.GET.get('project_id')&#10;        user_id = request.user.pk&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_user_id)&#10;                cursor.callproc(&#10;                    &quot;get_project_details&quot;,&#10;                    [project_id, user_id]&#10;                )&#10;&#10;                # Fetch the single JSON blob result&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check status code based on result success&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Determine error code (403 for Unauthorized, 404 for Not Found)&#10;                    error_msg = result.get('error', '')&#10;                    status_code = 403 if 'Unauthorized' in error_msg else 404&#10;                    return JsonResponse(result, status=status_code)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Project Details Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # update project details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        title = data.get('title')&#10;        description = data.get('description', '')&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;        status = data.get('status')&#10;&#10;        # Basic Validation&#10;        if not project_id or not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Project ID, Title, and Dates are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_user_id, p_title, p_description, p_start_date, p_end_date,status)&#10;                cursor.callproc(&#10;                    &quot;update_project&quot;,&#10;                    [project_id, user_id, title, description, start_date, end_date, status]&#10;                )&#10;&#10;                # The procedure returns True (Success) or False (Not Leader/Failed)&#10;                success = cursor.fetchone()[0]&#10;&#10;                if success:&#10;                    return JsonResponse({'success': True, 'message': 'Project updated successfully'})&#10;                else:&#10;                    return JsonResponse({&#10;                        'success': False,&#10;                        'error': 'Permission denied. Only the Leader can edit this project.'&#10;                    }, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectMembershipView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # add a user to project&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        identifier = data.get('identifier')&#10;        role = data.get('role', 'Member')  # Default to 'Member' if not provided&#10;&#10;        # Basic Validation&#10;        if not project_id or not identifier:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Username/Email are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_identifier, p_role)&#10;                cursor.callproc(&#10;                    &quot;add_project_member&quot;,&#10;                    [project_id, requester_id, identifier, role]&#10;                )&#10;&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result, status=201)&#10;                else:&#10;                    # Return 400 or 403 depending on the error, but 400 is generally fine here&#10;                    return JsonResponse(result, status=400)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Add Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # remove a user fron project&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')&#10;&#10;        # Basic Validation&#10;        if not project_id or not target_user_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Target User ID are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id)&#10;                cursor.callproc(&#10;                    &quot;remove_project_member&quot;,&#10;                    [project_id, requester_id, target_user_id]&#10;                )&#10;&#10;                # Fetch result&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Remove Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # change user role in project&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk  # The logged-in user (must be Leader)&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')  # The user receiving the role change&#10;        new_role = data.get('role')&#10;&#10;        # Basic Validation&#10;        if not all([project_id, target_user_id, new_role]):&#10;            return JsonResponse({'success': False, 'error': 'Project ID, Target User ID, and Role are required.'},&#10;                                status=400)&#10;&#10;        valid_roles = ['Leader', 'Manager', 'Member']&#10;        if new_role not in valid_roles:&#10;            return JsonResponse({'success': False, 'error': 'Invalid role choice.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id, p_new_role)&#10;                cursor.callproc(&#10;                    &quot;update_project_member_role&quot;,&#10;                    [project_id, requester_id, target_user_id, new_role]&#10;                )&#10;&#10;                # The SP returns a JSON object directly&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check the 'success' key from the returned JSON&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Role Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class TagView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # create tag&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color', '#000000')&#10;&#10;        if not project_id or not name:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Name are required.'}, status=400)&#10;&#10;        try:&#10;            # PERMISSION CHECK: Must be Leader or Manager&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']  # &lt;--- Strict Check&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can create tags.'},&#10;                                    status=403)&#10;&#10;            # Create&#10;            tag = Tag.objects.create(&#10;                project_id=project_id,&#10;                name=name,&#10;                hex_color=hex_color&#10;            )&#10;&#10;            return JsonResponse({&#10;                'success': True,&#10;                'tag': {'tag_id': tag.tag_id, 'name': tag.name, 'hex_color': tag.hex_color}&#10;            }, status=201)&#10;&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # edit tag&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can edit tags.'}, status=403)&#10;&#10;            if name:&#10;                tag.name = name&#10;            if hex_color:&#10;                tag.hex_color = hex_color&#10;&#10;            tag.save()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag updated successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # delete tag&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can delete tags.'}, status=403)&#10;&#10;            tag.delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag deleted successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;" />
+-              <option name="updatedContent" value="import json&#10;from django.contrib.auth.decorators import login_required&#10;from django.db import connection&#10;from django.http import JsonResponse&#10;from django.utils.decorators import method_decorator&#10;from django.views.decorators.csrf import csrf_exempt&#10;from django.views import View&#10;from django.apps import apps&#10;&#10;from .models import *&#10;User = apps.get_model(app_label='user_app', model_name='User')&#10;Task = apps.get_model(app_label='task_app', model_name='Task')&#10;&#10;def decode_body(request):&#10;    try:&#10;        return json.loads(request.body.decode('utf-8'))&#10;    except json.JSONDecodeError:&#10;        return {}&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    def get(self, request):&#10;        user_id = request.user.pk&#10;&#10;        filter_type = request.GET.get('filter', 'Active')&#10;&#10;        # Validate filter to prevent SQL issues (optional but good practice)&#10;        valid_filters = ['Active', 'Archived', 'Complete', 'All', 'Leader']&#10;        if filter_type not in valid_filters:&#10;            filter_type = 'Active'&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call the Stored Procedure&#10;                cursor.callproc(&quot;get_user_projects&quot;, [user_id, filter_type])&#10;&#10;                # Fetch the JSON result&#10;                projects_data = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({'success': True, 'projects': projects_data})&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Projects Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;&#10;        # Extract data from the request body&#10;        user_id = request.user.pk&#10;        title = data.get('title')&#10;        description = data.get('description', '')  # Default to empty string if missing&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;&#10;        # Basic Validation&#10;        if not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Title, Start Date, and End Date are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_user_id, p_title, p_description, p_start_date, p_end_date)&#10;                cursor.callproc(&#10;                    &quot;create_project&quot;,&#10;                    [user_id, title, description, start_date, end_date]&#10;                )&#10;&#10;                # Fetch the returned Project ID&#10;                new_project_id = cursor.fetchone()[0]&#10;&#10;                return JsonResponse({&#10;                    'success': True,&#10;                    'message': 'Project created successfully',&#10;                    'project_id': new_project_id&#10;                }, status=201)&#10;&#10;        except Exception as e:&#10;            # Log error for debugging (optional)&#10;            print(f&quot;Create Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    def delete(self, request):&#10;        user_id = request.user.pk&#10;&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required'}, status=400)&#10;&#10;        try:&#10;            # 1. Security Check: Only the 'Leader' can delete&#10;            # We check if a membership exists that matches: User + Project + Role='Leader'&#10;            is_leader = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=user_id,&#10;                role='Leader'&#10;            ).exists()&#10;&#10;            if not is_leader:&#10;                return JsonResponse({&#10;                    'success': False,&#10;                    'error': 'Permission denied. Only the Leader can delete this project.'&#10;                }, status=403)&#10;&#10;            # 2. Perform Delete&#10;            Project.objects.get(pk=project_id).delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Project deleted successfully'})&#10;&#10;        except Project.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Project not found'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectDetailView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # get project details&#10;    def get(self, request):&#10;        project_id = request.GET.get('project_id')&#10;        user_id = request.user.pk&#10;&#10;        if not project_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID is required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_user_id)&#10;                cursor.callproc(&#10;                    &quot;get_project_details&quot;,&#10;                    [project_id, user_id]&#10;                )&#10;&#10;                # Fetch the single JSON blob result&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check status code based on result success&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Determine error code (403 for Unauthorized, 404 for Not Found)&#10;                    error_msg = result.get('error', '')&#10;                    status_code = 403 if 'Unauthorized' in error_msg else 404&#10;                    return JsonResponse(result, status=status_code)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Get Project Details Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # update project details&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        user_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        title = data.get('title')&#10;        description = data.get('description', '')&#10;        start_date = data.get('start_date')&#10;        end_date = data.get('end_date')&#10;        status = data.get('status')&#10;&#10;        # Basic Validation&#10;        if not project_id or not title or not start_date or not end_date:&#10;            return JsonResponse({&#10;                'success': False,&#10;                'error': 'Project ID, Title, and Dates are required.'&#10;            }, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_user_id, p_title, p_description, p_start_date, p_end_date,status)&#10;                cursor.callproc(&#10;                    &quot;update_project&quot;,&#10;                    [project_id, user_id, title, description, start_date, end_date, status]&#10;                )&#10;&#10;                # The procedure returns True (Success) or False (Not Leader/Failed)&#10;                success = cursor.fetchone()[0]&#10;&#10;                if success:&#10;                    return JsonResponse({'success': True, 'message': 'Project updated successfully'})&#10;                else:&#10;                    return JsonResponse({&#10;                        'success': False,&#10;                        'error': 'Permission denied. Only the Leader can edit this project.'&#10;                    }, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Project Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class ProjectMembershipView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # add a user to project&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        identifier = data.get('identifier')&#10;        role = data.get('role', 'Member')  # Default to 'Member' if not provided&#10;&#10;        # Basic Validation&#10;        if not project_id or not identifier:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Username/Email are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_identifier, p_role)&#10;                cursor.callproc(&#10;                    &quot;add_project_member&quot;,&#10;                    [project_id, requester_id, identifier, role]&#10;                )&#10;&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result, status=201)&#10;                else:&#10;                    # Return 400 or 403 depending on the error, but 400 is generally fine here&#10;                    return JsonResponse(result, status=400)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Add Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # remove a user fron project&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk&#10;&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')&#10;&#10;        # Basic Validation&#10;        if not project_id or not target_user_id:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Target User ID are required.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id)&#10;                cursor.callproc(&#10;                    &quot;remove_project_member&quot;,&#10;                    [project_id, requester_id, target_user_id]&#10;                )&#10;&#10;                # Fetch result&#10;                result = cursor.fetchone()[0]&#10;&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Remove Member Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;    # change user role in project&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        requester_id = request.user.pk  # The logged-in user (must be Leader)&#10;&#10;        # Parse inputs&#10;        project_id = data.get('project_id')&#10;        target_user_id = data.get('user_id')  # The user receiving the role change&#10;        new_role = data.get('role')&#10;&#10;        # Basic Validation&#10;        if not all([project_id, target_user_id, new_role]):&#10;            return JsonResponse({'success': False, 'error': 'Project ID, Target User ID, and Role are required.'},&#10;                                status=400)&#10;&#10;        valid_roles = ['Leader', 'Manager', 'Member']&#10;        if new_role not in valid_roles:&#10;            return JsonResponse({'success': False, 'error': 'Invalid role choice.'}, status=400)&#10;&#10;        try:&#10;            with connection.cursor() as cursor:&#10;                # Call Stored Procedure&#10;                # Signature: (p_project_id, p_requester_id, p_target_user_id, p_new_role)&#10;                cursor.callproc(&#10;                    &quot;update_project_member_role&quot;,&#10;                    [project_id, requester_id, target_user_id, new_role]&#10;                )&#10;&#10;                # The SP returns a JSON object directly&#10;                result = cursor.fetchone()[0]&#10;&#10;                # Check the 'success' key from the returned JSON&#10;                if result.get('success'):&#10;                    return JsonResponse(result)&#10;                else:&#10;                    # Return 403 Forbidden if permission/safety check failed&#10;                    return JsonResponse(result, status=403)&#10;&#10;        except Exception as e:&#10;            print(f&quot;Update Role Error: {e}&quot;)&#10;            return JsonResponse({'success': False, 'error': 'Internal Server Error'}, status=500)&#10;&#10;@method_decorator(csrf_exempt, name='dispatch')&#10;class TagView(View):&#10;    def dispatch(self, request, *args, **kwargs):&#10;        if not request.user.is_authenticated:&#10;            return JsonResponse({'success': False, 'error': 'Unauthorized'}, status=401)&#10;        return super().dispatch(request, *args, **kwargs)&#10;    # create tag&#10;    def post(self, request):&#10;        data = decode_body(request)&#10;        project_id = data.get('project_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color', '#000000')&#10;&#10;        if not project_id or not name:&#10;            return JsonResponse({'success': False, 'error': 'Project ID and Name are required.'}, status=400)&#10;&#10;        try:&#10;            # PERMISSION CHECK: Must be Leader or Manager&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']  # &lt;--- Strict Check&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can create tags.'},&#10;                                    status=403)&#10;&#10;            # Create&#10;            tag = Tag.objects.create(&#10;                project_id=project_id,&#10;                name=name,&#10;                hex_color=hex_color&#10;            )&#10;&#10;            return JsonResponse({&#10;                'success': True,&#10;                'tag': {'tag_id': tag.tag_id, 'name': tag.name, 'hex_color': tag.hex_color}&#10;            }, status=201)&#10;&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # edit tag&#10;    def put(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;        name = data.get('name')&#10;        hex_color = data.get('hex_color')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can edit tags.'}, status=403)&#10;&#10;            if name:&#10;                tag.name = name&#10;            if hex_color:&#10;                tag.hex_color = hex_color&#10;&#10;            tag.save()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag updated successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)&#10;    # delete tag&#10;    def delete(self, request):&#10;        data = decode_body(request)&#10;        tag_id = data.get('tag_id')&#10;&#10;        if not tag_id:&#10;            return JsonResponse({'success': False, 'error': 'Tag ID is required.'}, status=400)&#10;&#10;        try:&#10;            tag = Tag.objects.get(pk=tag_id)&#10;&#10;            # PERMISSION CHECK&#10;            has_permission = ProjectMembership.objects.filter(&#10;                project_id=tag.project_id,&#10;                user_id=request.user.pk,&#10;                role__in=['Leader', 'Manager']&#10;            ).exists()&#10;&#10;            if not has_permission:&#10;                return JsonResponse({'success': False, 'error': 'Only Leaders or Managers can delete tags.'}, status=403)&#10;&#10;            tag.delete()&#10;&#10;            return JsonResponse({'success': True, 'message': 'Tag deleted successfully.'})&#10;&#10;        except Tag.DoesNotExist:&#10;            return JsonResponse({'success': False, 'error': 'Tag not found.'}, status=404)&#10;        except Exception as e:&#10;            return JsonResponse({'success': False, 'error': str(e)}, status=500)" />
+-            </PendingDiffInfo>
+-          </value>
+-        </entry>
+         <entry key="$PROJECT_DIR$/backend/dunzomanagement/user_app/views.py">
+           <value>
+             <PendingDiffInfo>
+Index: .idea/workspace.xml
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"AutoImportSettings\">\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\n  </component>\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"33aa42ef-630d-454b-aadd-8426bf50f91a\" name=\"Changes\" comment=\"\">\n      <change beforePath=\"$PROJECT_DIR$/.idea/copilotDiffState.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/copilotDiffState.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/backend/dunzomanagement/dunzomanagement/settings.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/backend/dunzomanagement/dunzomanagement/settings.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/frontend/src/https.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/frontend/src/https.js\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/frontend/src/pages/Login.jsx\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/frontend/src/pages/Login.jsx\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/frontend/src/pages/Register.jsx\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/frontend/src/pages/Register.jsx\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"DjangoConsoleOptions\" custom-start-script=\"import sys; print('Python %s on %s' % (sys.version, sys.platform))&#10;import django; print('Django %s' % django.get_version())&#10;sys.path.extend([WORKING_DIR_AND_PYTHON_PATHS])&#10;if 'setup' in dir(django): django.setup()&#10;import django_manage_shell; django_manage_shell.run(PROJECT_ROOT)\">\n    <option name=\"myCustomStartScript\" value=\"import sys; print('Python %s on %s' % (sys.version, sys.platform))&#10;import django; print('Django %s' % django.get_version())&#10;sys.path.extend([WORKING_DIR_AND_PYTHON_PATHS])&#10;if 'setup' in dir(django): django.setup()&#10;import django_manage_shell; django_manage_shell.run(PROJECT_ROOT)\" />\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"Python Script\" />\n        <option value=\"JavaScript File\" />\n        <option value=\"JSX File\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\n      <map>\n        <entry key=\"$PROJECT_DIR$\" value=\"auth\" />\n      </map>\n    </option>\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"GitHubPullRequestSearchHistory\">{\n  &quot;lastFilter&quot;: {\n    &quot;state&quot;: &quot;OPEN&quot;,\n    &quot;assignee&quot;: &quot;DMKuZu&quot;\n  }\n}</component>\n  <component name=\"GithubPullRequestsUISettings\">{\n  &quot;selectedUrlAndAccountId&quot;: {\n    &quot;url&quot;: &quot;https://github.com/Libron-ChristianNeil/Dunzo_ProjectDB.git&quot;,\n    &quot;accountId&quot;: &quot;e7030cd0-6bfb-4d76-bfe8-972a5abe9d66&quot;\n  }\n}</component>\n  <component name=\"ProjectColorInfo\">{\n  &quot;associatedIndex&quot;: 3\n}</component>\n  <component name=\"ProjectId\" id=\"35kSkIpqhZcelkSjJpCTWayOGFu\" />\n  <component name=\"ProjectLevelVcsManager\">\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\n  </component>\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">{\n  &quot;keyToString&quot;: {\n    &quot;ModuleVcsDetector.initialDetectionPerformed&quot;: &quot;true&quot;,\n    &quot;Python.views.executor&quot;: &quot;Run&quot;,\n    &quot;RunOnceActivity.OpenDjangoStructureViewOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.TerminalTabsStorage.copyFrom.TerminalArrangementManager.252&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,\n    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,\n    &quot;SHELLCHECK.PATH&quot;: &quot;I do mind&quot;,\n    &quot;Shell Script.Full Stack.executor&quot;: &quot;Run&quot;,\n    &quot;git-widget-placeholder&quot;: &quot;combined&quot;,\n    &quot;junie.onboarding.icon.badge.shown&quot;: &quot;true&quot;,\n    &quot;last_opened_file_path&quot;: &quot;/home/kuzu/PycharmProjects/Dunzo_ProjectDB/run_fullstack.sh&quot;,\n    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,\n    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,\n    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,\n    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,\n    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,\n    &quot;settings.editor.selected.configurable&quot;: &quot;com.jetbrains.python.configuration.PyActiveSdkModuleConfigurable&quot;,\n    &quot;to.speed.mode.migration.done&quot;: &quot;true&quot;,\n    &quot;ts.external.directory.path&quot;: &quot;/home/kuzu/.local/share/JetBrains/Toolbox/apps/pycharm/plugins/javascript-plugin/jsLanguageServicesImpl/external&quot;,\n    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;\n  }\n}</component>\n  <component name=\"RecentsManager\">\n    <key name=\"CopyFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/backend/dunzomanagement\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/timeline_app/static/timeline_app/css\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/timeline_app/templates/timeline_app\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/task_app/static/task_app/css\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/task_app/templates/task_app\" />\n    </key>\n    <key name=\"MoveFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/dunzomanagement/templates/main\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/dunzomanagement/static/main\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/dunzomanagement/templates\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/dunzomanagement/static/css\" />\n      <recent name=\"$PROJECT_DIR$/dunzomanagement/dunzomanagement/static\" />\n    </key>\n  </component>\n  <component name=\"RunManager\" selected=\"Shell Script.Full Stack\">\n    <configuration name=\"Dunzo_ProjectDB\" type=\"Python.DjangoServer\" factoryName=\"Django server\">\n      <module name=\"Dunzo_ProjectDB\" />\n      <option name=\"ENV_FILES\" value=\"\" />\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\n      <option name=\"PARENT_ENVS\" value=\"true\" />\n      <envs>\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\n      </envs>\n      <option name=\"SDK_HOME\" value=\"\" />\n      <option name=\"SDK_NAME\" value=\"Python 3.13\" />\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$/backend/dunzomanagement\" />\n      <option name=\"IS_MODULE_SDK\" value=\"false\" />\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\n      <option name=\"launchJavascriptDebuger\" value=\"false\" />\n      <option name=\"port\" value=\"8000\" />\n      <option name=\"host\" value=\"\" />\n      <option name=\"additionalOptions\" value=\"\" />\n      <option name=\"browserUrl\" value=\"\" />\n      <option name=\"runTestServer\" value=\"false\" />\n      <option name=\"runNoReload\" value=\"false\" />\n      <option name=\"useCustomRunCommand\" value=\"false\" />\n      <option name=\"customRunCommand\" value=\"\" />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"Full Stack\" type=\"ShConfigurationType\">\n      <option name=\"SCRIPT_TEXT\" value=\"\" />\n      <option name=\"INDEPENDENT_SCRIPT_PATH\" value=\"true\" />\n      <option name=\"SCRIPT_PATH\" value=\"$PROJECT_DIR$/run_fullstack.sh\" />\n      <option name=\"SCRIPT_OPTIONS\" value=\"\" />\n      <option name=\"INDEPENDENT_SCRIPT_WORKING_DIRECTORY\" value=\"true\" />\n      <option name=\"SCRIPT_WORKING_DIRECTORY\" value=\"$PROJECT_DIR$\" />\n      <option name=\"INDEPENDENT_INTERPRETER_PATH\" value=\"true\" />\n      <option name=\"INTERPRETER_PATH\" value=\"/bin/bash\" />\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\n      <option name=\"EXECUTE_IN_TERMINAL\" value=\"true\" />\n      <option name=\"EXECUTE_SCRIPT_FILE\" value=\"true\" />\n      <envs />\n      <method v=\"2\" />\n    </configuration>\n    <list>\n      <item itemvalue=\"Django Server.Dunzo_ProjectDB\" />\n      <item itemvalue=\"Shell Script.Full Stack\" />\n    </list>\n  </component>\n  <component name=\"SharedIndexes\">\n    <attachedChunks>\n      <set>\n        <option value=\"bundled-js-predefined-d6986cc7102b-9c94529fcfe0-JavaScript-PY-252.26199.168\" />\n        <option value=\"bundled-python-sdk-b3d66beaba9a-c6efb3732140-com.jetbrains.pycharm.pro.sharedIndexes.bundled-PY-252.26199.168\" />\n      </set>\n    </attachedChunks>\n  </component>\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"33aa42ef-630d-454b-aadd-8426bf50f91a\" name=\"Changes\" comment=\"\" />\n      <created>1763652718779</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1763652718779</updated>\n      <workItem from=\"1763652722640\" duration=\"212000\" />\n      <workItem from=\"1763652968929\" duration=\"3126000\" />\n      <workItem from=\"1763823527511\" duration=\"1318000\" />\n      <workItem from=\"1763887112293\" duration=\"1315000\" />\n      <workItem from=\"1763992190680\" duration=\"61000\" />\n      <workItem from=\"1764008108331\" duration=\"7864000\" />\n      <workItem from=\"1764057701514\" duration=\"560000\" />\n      <workItem from=\"1764230112166\" duration=\"95878000\" />\n      <workItem from=\"1764588836457\" duration=\"718000\" />\n      <workItem from=\"1764758846613\" duration=\"34000\" />\n      <workItem from=\"1764988719844\" duration=\"3308000\" />\n      <workItem from=\"1765034342109\" duration=\"930000\" />\n      <workItem from=\"1765084283120\" duration=\"833000\" />\n      <workItem from=\"1765116782951\" duration=\"608000\" />\n      <workItem from=\"1765291077958\" duration=\"1500000\" />\n      <workItem from=\"1765299658053\" duration=\"2719000\" />\n      <workItem from=\"1765302528871\" duration=\"1667000\" />\n      <workItem from=\"1765333096447\" duration=\"9396000\" />\n      <workItem from=\"1765345499561\" duration=\"943000\" />\n      <workItem from=\"1765375748733\" duration=\"23039000\" />\n      <workItem from=\"1765447958102\" duration=\"9207000\" />\n      <workItem from=\"1765473405993\" duration=\"4818000\" />\n    </task>\n    <servers />\n  </component>\n  <component name=\"TypeScriptGeneratedFilesManager\">\n    <option name=\"version\" value=\"3\" />\n  </component>\n  <component name=\"UnknownFeatures\">\n    <option featureType=\"dependencySupport\" implementationName=\"javascript:npm:react\" />\n    <option featureType=\"dependencySupport\" implementationName=\"javascript:npm:tailwindcss\" />\n    <option featureType=\"dependencySupport\" implementationName=\"javascript:npm:vite\" />\n    <option featureType=\"dependencySupport\" implementationName=\"executable:podman\" />\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State />\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n  <component name=\"com.intellij.coverage.CoverageDataManagerImpl\">\n    <SUITE FILE_PATH=\"coverage/Dunzo_ProjectDB$views.coverage\" NAME=\"views Coverage Results\" MODIFIED=\"1764279867929\" SOURCE_PROVIDER=\"com.intellij.coverage.DefaultCoverageFileProvider\" RUNNER=\"coverage.py\" COVERAGE_BY_TEST_ENABLED=\"false\" COVERAGE_TRACING_ENABLED=\"false\" WORKING_DIRECTORY=\"$PROJECT_DIR$/dunzomanagement/dunzomanagement\" />\n  </component>\n</project>
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+diff --git a/.idea/workspace.xml b/.idea/workspace.xml
+--- a/.idea/workspace.xml	(revision dd8e2928e71e547c78ae5280096473082fc4da3b)
++++ b/.idea/workspace.xml	(date 1765583176548)
+@@ -7,10 +7,6 @@
+     <list default="true" id="33aa42ef-630d-454b-aadd-8426bf50f91a" name="Changes" comment="">
+       <change beforePath="$PROJECT_DIR$/.idea/copilotDiffState.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/copilotDiffState.xml" afterDir="false" />
+       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+-      <change beforePath="$PROJECT_DIR$/backend/dunzomanagement/dunzomanagement/settings.py" beforeDir="false" afterPath="$PROJECT_DIR$/backend/dunzomanagement/dunzomanagement/settings.py" afterDir="false" />
+-      <change beforePath="$PROJECT_DIR$/frontend/src/https.js" beforeDir="false" afterPath="$PROJECT_DIR$/frontend/src/https.js" afterDir="false" />
+-      <change beforePath="$PROJECT_DIR$/frontend/src/pages/Login.jsx" beforeDir="false" afterPath="$PROJECT_DIR$/frontend/src/pages/Login.jsx" afterDir="false" />
+-      <change beforePath="$PROJECT_DIR$/frontend/src/pages/Register.jsx" beforeDir="false" afterPath="$PROJECT_DIR$/frontend/src/pages/Register.jsx" afterDir="false" />
+     </list>
+     <option name="SHOW_DIALOG" value="false" />
+     <option name="HIGHLIGHT_CONFLICTS" value="true" />
+@@ -60,31 +56,31 @@
+     <option name="hideEmptyMiddlePackages" value="true" />
+     <option name="showLibraryContents" value="true" />
+   </component>
+-  <component name="PropertiesComponent">{
+-  &quot;keyToString&quot;: {
+-    &quot;ModuleVcsDetector.initialDetectionPerformed&quot;: &quot;true&quot;,
+-    &quot;Python.views.executor&quot;: &quot;Run&quot;,
+-    &quot;RunOnceActivity.OpenDjangoStructureViewOnStart&quot;: &quot;true&quot;,
+-    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
+-    &quot;RunOnceActivity.TerminalTabsStorage.copyFrom.TerminalArrangementManager.252&quot;: &quot;true&quot;,
+-    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,
+-    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,
+-    &quot;SHELLCHECK.PATH&quot;: &quot;I do mind&quot;,
+-    &quot;Shell Script.Full Stack.executor&quot;: &quot;Run&quot;,
+-    &quot;git-widget-placeholder&quot;: &quot;combined&quot;,
+-    &quot;junie.onboarding.icon.badge.shown&quot;: &quot;true&quot;,
+-    &quot;last_opened_file_path&quot;: &quot;/home/kuzu/PycharmProjects/Dunzo_ProjectDB/run_fullstack.sh&quot;,
+-    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,
+-    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,
+-    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,
+-    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,
+-    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,
+-    &quot;settings.editor.selected.configurable&quot;: &quot;com.jetbrains.python.configuration.PyActiveSdkModuleConfigurable&quot;,
+-    &quot;to.speed.mode.migration.done&quot;: &quot;true&quot;,
+-    &quot;ts.external.directory.path&quot;: &quot;/home/kuzu/.local/share/JetBrains/Toolbox/apps/pycharm/plugins/javascript-plugin/jsLanguageServicesImpl/external&quot;,
+-    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;
++  <component name="PropertiesComponent"><![CDATA[{
++  "keyToString": {
++    "ModuleVcsDetector.initialDetectionPerformed": "true",
++    "Python.views.executor": "Run",
++    "RunOnceActivity.OpenDjangoStructureViewOnStart": "true",
++    "RunOnceActivity.ShowReadmeOnStart": "true",
++    "RunOnceActivity.TerminalTabsStorage.copyFrom.TerminalArrangementManager.252": "true",
++    "RunOnceActivity.git.unshallow": "true",
++    "SHARE_PROJECT_CONFIGURATION_FILES": "true",
++    "SHELLCHECK.PATH": "I do mind",
++    "Shell Script.Full Stack.executor": "Run",
++    "git-widget-placeholder": "ledon",
++    "junie.onboarding.icon.badge.shown": "true",
++    "last_opened_file_path": "/home/kuzu/PycharmProjects/Dunzo_ProjectDB/run_fullstack.sh",
++    "node.js.detected.package.eslint": "true",
++    "node.js.detected.package.tslint": "true",
++    "node.js.selected.package.eslint": "(autodetect)",
++    "node.js.selected.package.tslint": "(autodetect)",
++    "nodejs_package_manager_path": "npm",
++    "settings.editor.selected.configurable": "com.jetbrains.python.configuration.PyActiveSdkModuleConfigurable",
++    "to.speed.mode.migration.done": "true",
++    "ts.external.directory.path": "/home/kuzu/.local/share/JetBrains/Toolbox/apps/pycharm/plugins/javascript-plugin/jsLanguageServicesImpl/external",
++    "vue.rearranger.settings.migration": "true"
+   }
+-}</component>
++}]]></component>
+   <component name="RecentsManager">
+     <key name="CopyFile.RECENT_KEYS">
+       <recent name="$PROJECT_DIR$/backend/dunzomanagement" />
+@@ -183,7 +179,8 @@
+       <workItem from="1765345499561" duration="943000" />
+       <workItem from="1765375748733" duration="23039000" />
+       <workItem from="1765447958102" duration="9207000" />
+-      <workItem from="1765473405993" duration="4818000" />
++      <workItem from="1765473405993" duration="5859000" />
++      <workItem from="1765582152478" duration="1024000" />
+     </task>
+     <servers />
+   </component>
